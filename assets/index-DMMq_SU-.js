(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(c){if(c.ep)return;c.ep=!0;const h=r(c);fetch(c.href,h)}})();function Dv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var qu={exports:{}},_s={};var Dm;function Uv(){if(Dm)return _s;Dm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,c,h){var f=null;if(h!==void 0&&(f=""+h),c.key!==void 0&&(f=""+c.key),"key"in c){h={};for(var g in c)g!=="key"&&(h[g]=c[g])}else h=c;return c=h.ref,{$$typeof:i,type:l,key:f,ref:c!==void 0?c:null,props:h}}return _s.Fragment=n,_s.jsx=r,_s.jsxs=r,_s}var Um;function zv(){return Um||(Um=1,qu.exports=Uv()),qu.exports}var d=zv(),Bu={exports:{}},pe={};var zm;function Mv(){if(zm)return pe;zm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),x=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,R={};function q(S,V,M){this.props=S,this.context=V,this.refs=R,this.updater=M||A}q.prototype.isReactComponent={},q.prototype.setState=function(S,V){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,V,"setState")},q.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function N(){}N.prototype=q.prototype;function B(S,V,M){this.props=S,this.context=V,this.refs=R,this.updater=M||A}var $=B.prototype=new N;$.constructor=B,k($,q.prototype),$.isPureReactComponent=!0;var Z=Array.isArray;function F(){}var I={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function oe(S,V,M){var J=M.ref;return{$$typeof:i,type:S,key:V,ref:J!==void 0?J:null,props:M}}function P(S,V){return oe(S.type,V,S.props)}function ae(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function fe(S){var V={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(M){return V[M]})}var Ve=/\/+/g;function Le(S,V){return typeof S=="object"&&S!==null&&S.key!=null?fe(""+S.key):V.toString(36)}function X(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(F,F):(S.status="pending",S.then(function(V){S.status==="pending"&&(S.status="fulfilled",S.value=V)},function(V){S.status==="pending"&&(S.status="rejected",S.reason=V)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function D(S,V,M,J,W){var te=typeof S;(te==="undefined"||te==="boolean")&&(S=null);var ye=!1;if(S===null)ye=!0;else switch(te){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(S.$$typeof){case i:case n:ye=!0;break;case b:return ye=S._init,D(ye(S._payload),V,M,J,W)}}if(ye)return W=W(S),ye=J===""?"."+Le(S,0):J,Z(W)?(M="",ye!=null&&(M=ye.replace(Ve,"$&/")+"/"),D(W,V,M,"",function(en){return en})):W!=null&&(ae(W)&&(W=P(W,M+(W.key==null||S&&S.key===W.key?"":(""+W.key).replace(Ve,"$&/")+"/")+ye)),V.push(W)),1;ye=0;var Qe=J===""?".":J+":";if(Z(S))for(var qe=0;qe<S.length;qe++)J=S[qe],te=Qe+Le(J,qe),ye+=D(J,V,M,te,W);else if(qe=T(S),typeof qe=="function")for(S=qe.call(S),qe=0;!(J=S.next()).done;)J=J.value,te=Qe+Le(J,qe++),ye+=D(J,V,M,te,W);else if(te==="object"){if(typeof S.then=="function")return D(X(S),V,M,J,W);throw V=String(S),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ye}function C(S,V,M){if(S==null)return S;var J=[],W=0;return D(S,J,"","",function(te){return V.call(M,te,W++)}),J}function Q(S){if(S._status===-1){var V=S._result;V=V(),V.then(function(M){(S._status===0||S._status===-1)&&(S._status=1,S._result=M)},function(M){(S._status===0||S._status===-1)&&(S._status=2,S._result=M)}),S._status===-1&&(S._status=0,S._result=V)}if(S._status===1)return S._result.default;throw S._result}var ie=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},he={map:C,forEach:function(S,V,M){C(S,function(){V.apply(this,arguments)},M)},count:function(S){var V=0;return C(S,function(){V++}),V},toArray:function(S){return C(S,function(V){return V})||[]},only:function(S){if(!ae(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return pe.Activity=_,pe.Children=he,pe.Component=q,pe.Fragment=r,pe.Profiler=c,pe.PureComponent=B,pe.StrictMode=l,pe.Suspense=p,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,pe.__COMPILER_RUNTIME={__proto__:null,c:function(S){return I.H.useMemoCache(S)}},pe.cache=function(S){return function(){return S.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(S,V,M){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var J=k({},S.props),W=S.key;if(V!=null)for(te in V.key!==void 0&&(W=""+V.key),V)!ge.call(V,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&V.ref===void 0||(J[te]=V[te]);var te=arguments.length-2;if(te===1)J.children=M;else if(1<te){for(var ye=Array(te),Qe=0;Qe<te;Qe++)ye[Qe]=arguments[Qe+2];J.children=ye}return oe(S.type,W,J)},pe.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:h,_context:S},S},pe.createElement=function(S,V,M){var J,W={},te=null;if(V!=null)for(J in V.key!==void 0&&(te=""+V.key),V)ge.call(V,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(W[J]=V[J]);var ye=arguments.length-2;if(ye===1)W.children=M;else if(1<ye){for(var Qe=Array(ye),qe=0;qe<ye;qe++)Qe[qe]=arguments[qe+2];W.children=Qe}if(S&&S.defaultProps)for(J in ye=S.defaultProps,ye)W[J]===void 0&&(W[J]=ye[J]);return oe(S,te,W)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(S){return{$$typeof:g,render:S}},pe.isValidElement=ae,pe.lazy=function(S){return{$$typeof:b,_payload:{_status:-1,_result:S},_init:Q}},pe.memo=function(S,V){return{$$typeof:y,type:S,compare:V===void 0?null:V}},pe.startTransition=function(S){var V=I.T,M={};I.T=M;try{var J=S(),W=I.S;W!==null&&W(M,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(F,ie)}catch(te){ie(te)}finally{V!==null&&M.types!==null&&(V.types=M.types),I.T=V}},pe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},pe.use=function(S){return I.H.use(S)},pe.useActionState=function(S,V,M){return I.H.useActionState(S,V,M)},pe.useCallback=function(S,V){return I.H.useCallback(S,V)},pe.useContext=function(S){return I.H.useContext(S)},pe.useDebugValue=function(){},pe.useDeferredValue=function(S,V){return I.H.useDeferredValue(S,V)},pe.useEffect=function(S,V){return I.H.useEffect(S,V)},pe.useEffectEvent=function(S){return I.H.useEffectEvent(S)},pe.useId=function(){return I.H.useId()},pe.useImperativeHandle=function(S,V,M){return I.H.useImperativeHandle(S,V,M)},pe.useInsertionEffect=function(S,V){return I.H.useInsertionEffect(S,V)},pe.useLayoutEffect=function(S,V){return I.H.useLayoutEffect(S,V)},pe.useMemo=function(S,V){return I.H.useMemo(S,V)},pe.useOptimistic=function(S,V){return I.H.useOptimistic(S,V)},pe.useReducer=function(S,V,M){return I.H.useReducer(S,V,M)},pe.useRef=function(S){return I.H.useRef(S)},pe.useState=function(S){return I.H.useState(S)},pe.useSyncExternalStore=function(S,V,M){return I.H.useSyncExternalStore(S,V,M)},pe.useTransition=function(){return I.H.useTransition()},pe.version="19.2.3",pe}var Mm;function mc(){return Mm||(Mm=1,Bu.exports=Mv()),Bu.exports}var E=mc();const bp=Dv(E);var Hu={exports:{}},ws={},$u={exports:{}},Vu={};var Lm;function Lv(){return Lm||(Lm=1,(function(i){function n(D,C){var Q=D.length;D.push(C);e:for(;0<Q;){var ie=Q-1>>>1,he=D[ie];if(0<c(he,C))D[ie]=C,D[Q]=he,Q=ie;else break e}}function r(D){return D.length===0?null:D[0]}function l(D){if(D.length===0)return null;var C=D[0],Q=D.pop();if(Q!==C){D[0]=Q;e:for(var ie=0,he=D.length,S=he>>>1;ie<S;){var V=2*(ie+1)-1,M=D[V],J=V+1,W=D[J];if(0>c(M,Q))J<he&&0>c(W,M)?(D[ie]=W,D[J]=Q,ie=J):(D[ie]=M,D[V]=Q,ie=V);else if(J<he&&0>c(W,Q))D[ie]=W,D[J]=Q,ie=J;else break e}}return C}function c(D,C){var Q=D.sortIndex-C.sortIndex;return Q!==0?Q:D.id-C.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var p=[],y=[],b=1,_=null,x=3,T=!1,A=!1,k=!1,R=!1,q=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function $(D){for(var C=r(y);C!==null;){if(C.callback===null)l(y);else if(C.startTime<=D)l(y),C.sortIndex=C.expirationTime,n(p,C);else break;C=r(y)}}function Z(D){if(k=!1,$(D),!A)if(r(p)!==null)A=!0,F||(F=!0,fe());else{var C=r(y);C!==null&&X(Z,C.startTime-D)}}var F=!1,I=-1,ge=5,oe=-1;function P(){return R?!0:!(i.unstable_now()-oe<ge)}function ae(){if(R=!1,F){var D=i.unstable_now();oe=D;var C=!0;try{e:{A=!1,k&&(k=!1,N(I),I=-1),T=!0;var Q=x;try{t:{for($(D),_=r(p);_!==null&&!(_.expirationTime>D&&P());){var ie=_.callback;if(typeof ie=="function"){_.callback=null,x=_.priorityLevel;var he=ie(_.expirationTime<=D);if(D=i.unstable_now(),typeof he=="function"){_.callback=he,$(D),C=!0;break t}_===r(p)&&l(p),$(D)}else l(p);_=r(p)}if(_!==null)C=!0;else{var S=r(y);S!==null&&X(Z,S.startTime-D),C=!1}}break e}finally{_=null,x=Q,T=!1}C=void 0}}finally{C?fe():F=!1}}}var fe;if(typeof B=="function")fe=function(){B(ae)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,Le=Ve.port2;Ve.port1.onmessage=ae,fe=function(){Le.postMessage(null)}}else fe=function(){q(ae,0)};function X(D,C){I=q(function(){D(i.unstable_now())},C)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(D){D.callback=null},i.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<D?Math.floor(1e3/D):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(D){switch(x){case 1:case 2:case 3:var C=3;break;default:C=x}var Q=x;x=C;try{return D()}finally{x=Q}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(D,C){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Q=x;x=D;try{return C()}finally{x=Q}},i.unstable_scheduleCallback=function(D,C,Q){var ie=i.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ie+Q:ie):Q=ie,D){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Q+he,D={id:b++,callback:C,priorityLevel:D,startTime:Q,expirationTime:he,sortIndex:-1},Q>ie?(D.sortIndex=Q,n(y,D),r(p)===null&&D===r(y)&&(k?(N(I),I=-1):k=!0,X(Z,Q-ie))):(D.sortIndex=he,n(p,D),A||T||(A=!0,F||(F=!0,fe()))),D},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(D){var C=x;return function(){var Q=x;x=C;try{return D.apply(this,arguments)}finally{x=Q}}}})(Vu)),Vu}var qm;function qv(){return qm||(qm=1,$u.exports=Lv()),$u.exports}var Gu={exports:{}},dt={};var Bm;function Bv(){if(Bm)return dt;Bm=1;var i=mc();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(p,y,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:p,containerInfo:y,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,dt.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return h(p,y,null,b)},dt.flushSync=function(p){var y=f.T,b=l.p;try{if(f.T=null,l.p=2,p)return p()}finally{f.T=y,l.p=b,l.d.f()}},dt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(p,y))},dt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},dt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,_=g(b,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,T=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?l.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:T}):b==="script"&&l.d.X(p,{crossOrigin:_,integrity:x,fetchPriority:T,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},dt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);l.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(p)},dt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,_=g(b,y.crossOrigin);l.d.L(p,b,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},dt.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=g(y.as,y.crossOrigin);l.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(p)},dt.requestFormReset=function(p){l.d.r(p)},dt.unstable_batchedUpdates=function(p,y){return p(y)},dt.useFormState=function(p,y,b){return f.H.useFormState(p,y,b)},dt.useFormStatus=function(){return f.H.useHostTransitionStatus()},dt.version="19.2.3",dt}var Hm;function Hv(){if(Hm)return Gu.exports;Hm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Gu.exports=Bv(),Gu.exports}var $m;function $v(){if($m)return ws;$m=1;var i=qv(),n=mc(),r=Hv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(h(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return p(o),e;if(u===s)return p(o),t;u=u.sibling}throw Error(l(188))}if(a.return!==s.return)a=o,s=u;else{for(var m=!1,v=o.child;v;){if(v===a){m=!0,a=o,s=u;break}if(v===s){m=!0,s=o,a=u;break}v=v.sibling}if(!m){for(v=u.child;v;){if(v===a){m=!0,a=u,s=o;break}if(v===s){m=!0,s=u,a=o;break}v=v.sibling}if(!m)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function fe(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Symbol.for("react.client.reference");function Le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case q:return"Profiler";case R:return"StrictMode";case Z:return"Suspense";case F:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case B:return e.displayName||"Context";case N:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:Le(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return Le(e(t))}catch{}}return null}var X=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ie=[],he=-1;function S(e){return{current:e}}function V(e){0>he||(e.current=ie[he],ie[he]=null,he--)}function M(e,t){he++,ie[he]=e.current,e.current=t}var J=S(null),W=S(null),te=S(null),ye=S(null);function Qe(e,t){switch(M(te,t),M(W,e),M(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?am(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=am(t),e=nm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(J),M(J,e)}function qe(){V(J),V(W),V(te)}function en(e){e.memoizedState!==null&&M(ye,e);var t=J.current,a=nm(t,e.type);t!==a&&(M(W,e),M(J,a))}function On(e){W.current===e&&(V(J),V(W)),ye.current===e&&(V(ye),gs._currentValue=Q)}var bl,Nc;function tn(e){if(bl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);bl=t&&t[1]||"",Nc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bl+e+Nc}var _l=!1;function wl(e,t){if(!e||_l)return"";_l=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var L=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){L=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){L=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&L&&typeof H.stack=="string")return[H.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),m=u[0],v=u[1];if(m&&v){var w=m.split(`
`),z=v.split(`
`);for(o=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;if(s===w.length||o===z.length)for(s=w.length-1,o=z.length-1;1<=s&&0<=o&&w[s]!==z[o];)o--;for(;1<=s&&0<=o;s--,o--)if(w[s]!==z[o]){if(s!==1||o!==1)do if(s--,o--,0>o||w[s]!==z[o]){var G=`
`+w[s].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=s&&0<=o);break}}}finally{_l=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?tn(a):""}function cg(e,t){switch(e.tag){case 26:case 27:case 5:return tn(e.type);case 16:return tn("Lazy");case 13:return e.child!==t&&t!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return wl(e.type,!1);case 11:return wl(e.type.render,!1);case 1:return wl(e.type,!0);case 31:return tn("Activity");default:return""}}function kc(e){try{var t="",a=null;do t+=cg(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var xl=Object.prototype.hasOwnProperty,Sl=i.unstable_scheduleCallback,jl=i.unstable_cancelCallback,dg=i.unstable_shouldYield,hg=i.unstable_requestPaint,_t=i.unstable_now,fg=i.unstable_getCurrentPriorityLevel,Dc=i.unstable_ImmediatePriority,Uc=i.unstable_UserBlockingPriority,qs=i.unstable_NormalPriority,mg=i.unstable_LowPriority,zc=i.unstable_IdlePriority,pg=i.log,gg=i.unstable_setDisableYieldValue,Ci=null,wt=null;function Ta(e){if(typeof pg=="function"&&gg(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Ci,e)}catch{}}var xt=Math.clz32?Math.clz32:bg,yg=Math.log,vg=Math.LN2;function bg(e){return e>>>=0,e===0?32:31-(yg(e)/vg|0)|0}var Bs=256,Hs=262144,$s=4194304;function an(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Vs(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~u,s!==0?o=an(s):(m&=v,m!==0?o=an(m):a||(a=v&~e,a!==0&&(o=an(a))))):(v=s&~u,v!==0?o=an(v):m!==0?o=an(m):a||(a=s&~e,a!==0&&(o=an(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Oi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function _g(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mc(){var e=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),e}function El(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ri(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wg(e,t,a,s,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(a=m&~a;0<a;){var G=31-xt(a),K=1<<G;v[G]=0,w[G]=-1;var L=z[G];if(L!==null)for(z[G]=null,G=0;G<L.length;G++){var H=L[G];H!==null&&(H.lane&=-536870913)}a&=~K}s!==0&&Lc(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function Lc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-xt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function qc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-xt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function Bc(e,t){var a=t&-t;return a=(a&42)!==0?1:Tl(a),(a&(e.suspendedLanes|t))!==0?0:a}function Tl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Al(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hc(){var e=C.p;return e!==0?e:(e=window.event,e===void 0?32:Tm(e.type))}function $c(e,t){var a=C.p;try{return C.p=e,t()}finally{C.p=a}}var Aa=Math.random().toString(36).slice(2),it="__reactFiber$"+Aa,ft="__reactProps$"+Aa,Rn="__reactContainer$"+Aa,Cl="__reactEvents$"+Aa,xg="__reactListeners$"+Aa,Sg="__reactHandles$"+Aa,Vc="__reactResources$"+Aa,Ni="__reactMarker$"+Aa;function Ol(e){delete e[it],delete e[ft],delete e[Cl],delete e[xg],delete e[Sg]}function Nn(e){var t=e[it];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Rn]||a[it]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=cm(e);e!==null;){if(a=e[it])return a;e=cm(e)}return t}e=a,a=e.parentNode}return null}function kn(e){if(e=e[it]||e[Rn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ki(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Dn(e){var t=e[Vc];return t||(t=e[Vc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[Ni]=!0}var Gc=new Set,Yc={};function nn(e,t){Un(e,t),Un(e+"Capture",t)}function Un(e,t){for(Yc[e]=t,e=0;e<t.length;e++)Gc.add(t[e])}var jg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kc={},Qc={};function Eg(e){return xl.call(Qc,e)?!0:xl.call(Kc,e)?!1:jg.test(e)?Qc[e]=!0:(Kc[e]=!0,!1)}function Gs(e,t,a){if(Eg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ys(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function aa(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tg(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rl(e){if(!e._valueTracker){var t=Xc(e)?"checked":"value";e._valueTracker=Tg(e,t,""+e[t])}}function Jc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Xc(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ag=/[\n"\\]/g;function zt(e){return e.replace(Ag,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Nl(e,t,a,s,o,u,m,v){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?kl(e,m,Ut(t)):a!=null?kl(e,m,Ut(a)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Ut(v):e.removeAttribute("name")}function Pc(e,t,a,s,o,u,m,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Rl(e);return}a=a!=null?""+Ut(a):"",t=t!=null?""+Ut(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Rl(e)}function kl(e,t,a){t==="number"&&Ks(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zn(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Ut(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ic(e,t,a){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ut(a):""}function Zc(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(X(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Ut(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Rl(e)}function Mn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Cg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wc(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Cg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Fc(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&Wc(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&Wc(e,u,t[u])}function Dl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Og=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(e){return Rg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function na(){}var Ul=null;function zl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ln=null,qn=null;function ed(e){var t=kn(e);if(t&&(e=t.stateNode)){var a=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(Nl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+zt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[ft]||null;if(!o)throw Error(l(90));Nl(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Jc(s)}break e;case"textarea":Ic(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&zn(e,!!a.multiple,t,!1)}}}var Ml=!1;function td(e,t,a){if(Ml)return e(t,a);Ml=!0;try{var s=e(t);return s}finally{if(Ml=!1,(Ln!==null||qn!==null)&&(Dr(),Ln&&(t=Ln,e=qn,qn=Ln=null,ed(t),e)))for(t=0;t<e.length;t++)ed(e[t])}}function Di(e,t){var a=e.stateNode;if(a===null)return null;var s=a[ft]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ll=!1;if(ia)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Ll=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Ll=!1}var Ca=null,ql=null,Xs=null;function ad(){if(Xs)return Xs;var e,t=ql,a=t.length,s,o="value"in Ca?Ca.value:Ca.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(s=1;s<=m&&t[a-s]===o[u-s];s++);return Xs=o.slice(e,1<s?1-s:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ps(){return!0}function nd(){return!1}function mt(e){function t(a,s,o,u,m){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ps:nd,this.isPropagationStopped=nd,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),t}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=mt(sn),zi=_({},sn,{view:0,detail:0}),Ng=mt(zi),Bl,Hl,Mi,Zs=_({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(Bl=e.screenX-Mi.screenX,Hl=e.screenY-Mi.screenY):Hl=Bl=0,Mi=e),Bl)},movementY:function(e){return"movementY"in e?e.movementY:Hl}}),id=mt(Zs),kg=_({},Zs,{dataTransfer:0}),Dg=mt(kg),Ug=_({},zi,{relatedTarget:0}),$l=mt(Ug),zg=_({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mg=mt(zg),Lg=_({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qg=mt(Lg),Bg=_({},sn,{data:0}),sd=mt(Bg),Hg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$g={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vg[e])?!!t[e]:!1}function Vl(){return Gg}var Yg=_({},zi,{key:function(e){if(e.key){var t=Hg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$g[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vl,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kg=mt(Yg),Qg=_({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rd=mt(Qg),Xg=_({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vl}),Jg=mt(Xg),Pg=_({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ig=mt(Pg),Zg=_({},Zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wg=mt(Zg),Fg=_({},sn,{newState:0,oldState:0}),ey=mt(Fg),ty=[9,13,27,32],Gl=ia&&"CompositionEvent"in window,Li=null;ia&&"documentMode"in document&&(Li=document.documentMode);var ay=ia&&"TextEvent"in window&&!Li,ld=ia&&(!Gl||Li&&8<Li&&11>=Li),od=" ",ud=!1;function cd(e,t){switch(e){case"keyup":return ty.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function ny(e,t){switch(e){case"compositionend":return dd(t);case"keypress":return t.which!==32?null:(ud=!0,od);case"textInput":return e=t.data,e===od&&ud?null:e;default:return null}}function iy(e,t){if(Bn)return e==="compositionend"||!Gl&&cd(e,t)?(e=ad(),Xs=ql=Ca=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ld&&t.locale!=="ko"?null:t.data;default:return null}}var sy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sy[e.type]:t==="textarea"}function fd(e,t,a,s){Ln?qn?qn.push(s):qn=[s]:Ln=s,t=Hr(t,"onChange"),0<t.length&&(a=new Is("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var qi=null,Bi=null;function ry(e){If(e,0)}function Ws(e){var t=ki(e);if(Jc(t))return e}function md(e,t){if(e==="change")return t}var pd=!1;if(ia){var Yl;if(ia){var Kl="oninput"in document;if(!Kl){var gd=document.createElement("div");gd.setAttribute("oninput","return;"),Kl=typeof gd.oninput=="function"}Yl=Kl}else Yl=!1;pd=Yl&&(!document.documentMode||9<document.documentMode)}function yd(){qi&&(qi.detachEvent("onpropertychange",vd),Bi=qi=null)}function vd(e){if(e.propertyName==="value"&&Ws(Bi)){var t=[];fd(t,Bi,e,zl(e)),td(ry,t)}}function ly(e,t,a){e==="focusin"?(yd(),qi=t,Bi=a,qi.attachEvent("onpropertychange",vd)):e==="focusout"&&yd()}function oy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(Bi)}function uy(e,t){if(e==="click")return Ws(t)}function cy(e,t){if(e==="input"||e==="change")return Ws(t)}function dy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:dy;function Hi(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!xl.call(t,o)||!St(e[o],t[o]))return!1}return!0}function bd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _d(e,t){var a=bd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=bd(a)}}function wd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ks(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ks(e.document)}return t}function Ql(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var hy=ia&&"documentMode"in document&&11>=document.documentMode,Hn=null,Xl=null,$i=null,Jl=!1;function Sd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jl||Hn==null||Hn!==Ks(s)||(s=Hn,"selectionStart"in s&&Ql(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),$i&&Hi($i,s)||($i=s,s=Hr(Xl,"onSelect"),0<s.length&&(t=new Is("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Hn)))}function rn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var $n={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},Pl={},jd={};ia&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function ln(e){if(Pl[e])return Pl[e];if(!$n[e])return e;var t=$n[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in jd)return Pl[e]=t[a];return e}var Ed=ln("animationend"),Td=ln("animationiteration"),Ad=ln("animationstart"),fy=ln("transitionrun"),my=ln("transitionstart"),py=ln("transitioncancel"),Cd=ln("transitionend"),Od=new Map,Il="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Il.push("scrollEnd");function Kt(e,t){Od.set(e,t),nn(t,[e])}var Fs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mt=[],Vn=0,Zl=0;function er(){for(var e=Vn,t=Zl=Vn=0;t<e;){var a=Mt[t];Mt[t++]=null;var s=Mt[t];Mt[t++]=null;var o=Mt[t];Mt[t++]=null;var u=Mt[t];if(Mt[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}u!==0&&Rd(a,o,u)}}function tr(e,t,a,s){Mt[Vn++]=e,Mt[Vn++]=t,Mt[Vn++]=a,Mt[Vn++]=s,Zl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Wl(e,t,a,s){return tr(e,t,a,s),ar(e)}function on(e,t){return tr(e,null,null,t),ar(e)}function Rd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,s=u.alternate,s!==null&&(s.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-xt(a),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),u):null}function ar(e){if(50<us)throw us=0,ou=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Gn={};function gy(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,a,s){return new gy(e,t,a,s)}function Fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sa(e,t){var a=e.alternate;return a===null?(a=jt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function nr(e,t,a,s,o,u){var m=0;if(s=e,typeof e=="function")Fl(e)&&(m=1);else if(typeof e=="string")m=wv(e,a,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=jt(31,a,t,o),e.elementType=oe,e.lanes=u,e;case k:return un(a.children,o,u,t);case R:m=8,o|=24;break;case q:return e=jt(12,a,t,o|2),e.elementType=q,e.lanes=u,e;case Z:return e=jt(13,a,t,o),e.elementType=Z,e.lanes=u,e;case F:return e=jt(19,a,t,o),e.elementType=F,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:m=10;break e;case N:m=9;break e;case $:m=11;break e;case I:m=14;break e;case ge:m=16,s=null;break e}m=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=jt(m,a,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function un(e,t,a,s){return e=jt(7,e,s,t),e.lanes=a,e}function eo(e,t,a){return e=jt(6,e,null,t),e.lanes=a,e}function kd(e){var t=jt(18,null,null,0);return t.stateNode=e,t}function to(e,t,a){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Dd=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var a=Dd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:kc(t)},Dd.set(e,t),t)}return{value:e,source:t,stack:kc(t)}}var Yn=[],Kn=0,ir=null,Vi=0,qt=[],Bt=0,Oa=null,Zt=1,Wt="";function ra(e,t){Yn[Kn++]=Vi,Yn[Kn++]=ir,ir=e,Vi=t}function Ud(e,t,a){qt[Bt++]=Zt,qt[Bt++]=Wt,qt[Bt++]=Oa,Oa=e;var s=Zt;e=Wt;var o=32-xt(s)-1;s&=~(1<<o),a+=1;var u=32-xt(t)+o;if(30<u){var m=o-o%5;u=(s&(1<<m)-1).toString(32),s>>=m,o-=m,Zt=1<<32-xt(t)+o|a<<o|s,Wt=u+e}else Zt=1<<u|a<<o|s,Wt=e}function ao(e){e.return!==null&&(ra(e,1),Ud(e,1,0))}function no(e){for(;e===ir;)ir=Yn[--Kn],Yn[Kn]=null,Vi=Yn[--Kn],Yn[Kn]=null;for(;e===Oa;)Oa=qt[--Bt],qt[Bt]=null,Wt=qt[--Bt],qt[Bt]=null,Zt=qt[--Bt],qt[Bt]=null}function zd(e,t){qt[Bt++]=Zt,qt[Bt++]=Wt,qt[Bt++]=Oa,Zt=t.id,Wt=t.overflow,Oa=e}var st=null,ze=null,je=!1,Ra=null,Ht=!1,io=Error(l(519));function Na(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gi(Lt(t,e)),io}function Md(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[it]=e,t[ft]=s,a){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(a=0;a<ds.length;a++)we(ds[a],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Pc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Zc(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||em(t.textContent,a)?(s.popover!=null&&(we("beforetoggle",t),we("toggle",t)),s.onScroll!=null&&we("scroll",t),s.onScrollEnd!=null&&we("scrollend",t),s.onClick!=null&&(t.onclick=na),t=!0):t=!1,t||Na(e,!0)}function Ld(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:st=st.return}}function Qn(e){if(e!==st)return!1;if(!je)return Ld(e),je=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Su(e.type,e.memoizedProps)),a=!a),a&&ze&&Na(e),Ld(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));ze=um(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));ze=um(e)}else t===27?(t=ze,Ka(e.type)?(e=Cu,Cu=null,ze=e):ze=t):ze=st?Vt(e.stateNode.nextSibling):null;return!0}function cn(){ze=st=null,je=!1}function so(){var e=Ra;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),Ra=null),e}function Gi(e){Ra===null?Ra=[e]:Ra.push(e)}var ro=S(null),dn=null,la=null;function ka(e,t,a){M(ro,t._currentValue),t._currentValue=a}function oa(e){e._currentValue=ro.current,V(ro)}function lo(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function oo(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var w=0;w<t.length;w++)if(v.context===t[w]){u.lanes|=a,v=u.alternate,v!==null&&(v.lanes|=a),lo(u.return,a,e),s||(m=null);break e}u=v.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(l(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),lo(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Xn(e,t,a,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var v=o.type;St(o.pendingProps.value,m.value)||(e!==null?e.push(v):e=[v])}}else if(o===ye.current){if(m=o.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(gs):e=[gs])}o=o.return}e!==null&&oo(t,e,a,s),t.flags|=262144}function sr(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hn(e){dn=e,la=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return qd(dn,e)}function rr(e,t){return dn===null&&hn(e),qd(e,t)}function qd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},la===null){if(e===null)throw Error(l(308));la=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else la=la.next=t;return a}var yy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},vy=i.unstable_scheduleCallback,by=i.unstable_NormalPriority,Pe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uo(){return{controller:new yy,data:new Map,refCount:0}}function Yi(e){e.refCount--,e.refCount===0&&vy(by,function(){e.controller.abort()})}var Ki=null,co=0,Jn=0,Pn=null;function _y(e,t){if(Ki===null){var a=Ki=[];co=0,Jn=mu(),Pn={status:"pending",value:void 0,then:function(s){a.push(s)}}}return co++,t.then(Bd,Bd),t}function Bd(){if(--co===0&&Ki!==null){Pn!==null&&(Pn.status="fulfilled");var e=Ki;Ki=null,Jn=0,Pn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function wy(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var Hd=D.S;D.S=function(e,t){jf=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&_y(e,t),Hd!==null&&Hd(e,t)};var fn=S(null);function ho(){var e=fn.current;return e!==null?e:De.pooledCache}function lr(e,t){t===null?M(fn,fn.current):M(fn,t.pool)}function $d(){var e=ho();return e===null?null:{parent:Pe._currentValue,pool:e}}var In=Error(l(460)),fo=Error(l(474)),or=Error(l(542)),ur={then:function(){}};function Vd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(na,na),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kd(e),e;default:if(typeof t.status=="string")t.then(na,na);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kd(e),e}throw pn=t,In}}function mn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(pn=a,In):a}}var pn=null;function Yd(){if(pn===null)throw Error(l(459));var e=pn;return pn=null,e}function Kd(e){if(e===In||e===or)throw Error(l(483))}var Zn=null,Qi=0;function cr(e){var t=Qi;return Qi+=1,Zn===null&&(Zn=[]),Gd(Zn,e,t)}function Xi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function dr(e,t){throw t.$$typeof===x?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qd(e){function t(O,j){if(e){var U=O.deletions;U===null?(O.deletions=[j],O.flags|=16):U.push(j)}}function a(O,j){if(!e)return null;for(;j!==null;)t(O,j),j=j.sibling;return null}function s(O){for(var j=new Map;O!==null;)O.key!==null?j.set(O.key,O):j.set(O.index,O),O=O.sibling;return j}function o(O,j){return O=sa(O,j),O.index=0,O.sibling=null,O}function u(O,j,U){return O.index=U,e?(U=O.alternate,U!==null?(U=U.index,U<j?(O.flags|=67108866,j):U):(O.flags|=67108866,j)):(O.flags|=1048576,j)}function m(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,j,U,Y){return j===null||j.tag!==6?(j=eo(U,O.mode,Y),j.return=O,j):(j=o(j,U),j.return=O,j)}function w(O,j,U,Y){var re=U.type;return re===k?G(O,j,U.props.children,Y,U.key):j!==null&&(j.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ge&&mn(re)===j.type)?(j=o(j,U.props),Xi(j,U),j.return=O,j):(j=nr(U.type,U.key,U.props,null,O.mode,Y),Xi(j,U),j.return=O,j)}function z(O,j,U,Y){return j===null||j.tag!==4||j.stateNode.containerInfo!==U.containerInfo||j.stateNode.implementation!==U.implementation?(j=to(U,O.mode,Y),j.return=O,j):(j=o(j,U.children||[]),j.return=O,j)}function G(O,j,U,Y,re){return j===null||j.tag!==7?(j=un(U,O.mode,Y,re),j.return=O,j):(j=o(j,U),j.return=O,j)}function K(O,j,U){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=eo(""+j,O.mode,U),j.return=O,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return U=nr(j.type,j.key,j.props,null,O.mode,U),Xi(U,j),U.return=O,U;case A:return j=to(j,O.mode,U),j.return=O,j;case ge:return j=mn(j),K(O,j,U)}if(X(j)||fe(j))return j=un(j,O.mode,U,null),j.return=O,j;if(typeof j.then=="function")return K(O,cr(j),U);if(j.$$typeof===B)return K(O,rr(O,j),U);dr(O,j)}return null}function L(O,j,U,Y){var re=j!==null?j.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return re!==null?null:v(O,j,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return U.key===re?w(O,j,U,Y):null;case A:return U.key===re?z(O,j,U,Y):null;case ge:return U=mn(U),L(O,j,U,Y)}if(X(U)||fe(U))return re!==null?null:G(O,j,U,Y,null);if(typeof U.then=="function")return L(O,j,cr(U),Y);if(U.$$typeof===B)return L(O,j,rr(O,U),Y);dr(O,U)}return null}function H(O,j,U,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return O=O.get(U)||null,v(j,O,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return O=O.get(Y.key===null?U:Y.key)||null,w(j,O,Y,re);case A:return O=O.get(Y.key===null?U:Y.key)||null,z(j,O,Y,re);case ge:return Y=mn(Y),H(O,j,U,Y,re)}if(X(Y)||fe(Y))return O=O.get(U)||null,G(j,O,Y,re,null);if(typeof Y.then=="function")return H(O,j,U,cr(Y),re);if(Y.$$typeof===B)return H(O,j,U,rr(j,Y),re);dr(j,Y)}return null}function ee(O,j,U,Y){for(var re=null,Ee=null,ne=j,be=j=0,Se=null;ne!==null&&be<U.length;be++){ne.index>be?(Se=ne,ne=null):Se=ne.sibling;var Te=L(O,ne,U[be],Y);if(Te===null){ne===null&&(ne=Se);break}e&&ne&&Te.alternate===null&&t(O,ne),j=u(Te,j,be),Ee===null?re=Te:Ee.sibling=Te,Ee=Te,ne=Se}if(be===U.length)return a(O,ne),je&&ra(O,be),re;if(ne===null){for(;be<U.length;be++)ne=K(O,U[be],Y),ne!==null&&(j=u(ne,j,be),Ee===null?re=ne:Ee.sibling=ne,Ee=ne);return je&&ra(O,be),re}for(ne=s(ne);be<U.length;be++)Se=H(ne,O,be,U[be],Y),Se!==null&&(e&&Se.alternate!==null&&ne.delete(Se.key===null?be:Se.key),j=u(Se,j,be),Ee===null?re=Se:Ee.sibling=Se,Ee=Se);return e&&ne.forEach(function(Ia){return t(O,Ia)}),je&&ra(O,be),re}function le(O,j,U,Y){if(U==null)throw Error(l(151));for(var re=null,Ee=null,ne=j,be=j=0,Se=null,Te=U.next();ne!==null&&!Te.done;be++,Te=U.next()){ne.index>be?(Se=ne,ne=null):Se=ne.sibling;var Ia=L(O,ne,Te.value,Y);if(Ia===null){ne===null&&(ne=Se);break}e&&ne&&Ia.alternate===null&&t(O,ne),j=u(Ia,j,be),Ee===null?re=Ia:Ee.sibling=Ia,Ee=Ia,ne=Se}if(Te.done)return a(O,ne),je&&ra(O,be),re;if(ne===null){for(;!Te.done;be++,Te=U.next())Te=K(O,Te.value,Y),Te!==null&&(j=u(Te,j,be),Ee===null?re=Te:Ee.sibling=Te,Ee=Te);return je&&ra(O,be),re}for(ne=s(ne);!Te.done;be++,Te=U.next())Te=H(ne,O,be,Te.value,Y),Te!==null&&(e&&Te.alternate!==null&&ne.delete(Te.key===null?be:Te.key),j=u(Te,j,be),Ee===null?re=Te:Ee.sibling=Te,Ee=Te);return e&&ne.forEach(function(kv){return t(O,kv)}),je&&ra(O,be),re}function ke(O,j,U,Y){if(typeof U=="object"&&U!==null&&U.type===k&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case T:e:{for(var re=U.key;j!==null;){if(j.key===re){if(re=U.type,re===k){if(j.tag===7){a(O,j.sibling),Y=o(j,U.props.children),Y.return=O,O=Y;break e}}else if(j.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ge&&mn(re)===j.type){a(O,j.sibling),Y=o(j,U.props),Xi(Y,U),Y.return=O,O=Y;break e}a(O,j);break}else t(O,j);j=j.sibling}U.type===k?(Y=un(U.props.children,O.mode,Y,U.key),Y.return=O,O=Y):(Y=nr(U.type,U.key,U.props,null,O.mode,Y),Xi(Y,U),Y.return=O,O=Y)}return m(O);case A:e:{for(re=U.key;j!==null;){if(j.key===re)if(j.tag===4&&j.stateNode.containerInfo===U.containerInfo&&j.stateNode.implementation===U.implementation){a(O,j.sibling),Y=o(j,U.children||[]),Y.return=O,O=Y;break e}else{a(O,j);break}else t(O,j);j=j.sibling}Y=to(U,O.mode,Y),Y.return=O,O=Y}return m(O);case ge:return U=mn(U),ke(O,j,U,Y)}if(X(U))return ee(O,j,U,Y);if(fe(U)){if(re=fe(U),typeof re!="function")throw Error(l(150));return U=re.call(U),le(O,j,U,Y)}if(typeof U.then=="function")return ke(O,j,cr(U),Y);if(U.$$typeof===B)return ke(O,j,rr(O,U),Y);dr(O,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,j!==null&&j.tag===6?(a(O,j.sibling),Y=o(j,U),Y.return=O,O=Y):(a(O,j),Y=eo(U,O.mode,Y),Y.return=O,O=Y),m(O)):a(O,j)}return function(O,j,U,Y){try{Qi=0;var re=ke(O,j,U,Y);return Zn=null,re}catch(ne){if(ne===In||ne===or)throw ne;var Ee=jt(29,ne,null,O.mode);return Ee.lanes=Y,Ee.return=O,Ee}}}var gn=Qd(!0),Xd=Qd(!1),Da=!1;function mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function za(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ae&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=ar(e),Rd(e,null,a),t}return tr(e,s,t,a),ar(e)}function Ji(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,qc(e,a)}}function go(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var yo=!1;function Pi(){if(yo){var e=Pn;if(e!==null)throw e}}function Ii(e,t,a,s){yo=!1;var o=e.updateQueue;Da=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var w=v,z=w.next;w.next=null,m===null?u=z:m.next=z,m=w;var G=e.alternate;G!==null&&(G=G.updateQueue,v=G.lastBaseUpdate,v!==m&&(v===null?G.firstBaseUpdate=z:v.next=z,G.lastBaseUpdate=w))}if(u!==null){var K=o.baseState;m=0,G=z=w=null,v=u;do{var L=v.lane&-536870913,H=L!==v.lane;if(H?(xe&L)===L:(s&L)===L){L!==0&&L===Jn&&(yo=!0),G!==null&&(G=G.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ee=e,le=v;L=t;var ke=a;switch(le.tag){case 1:if(ee=le.payload,typeof ee=="function"){K=ee.call(ke,K,L);break e}K=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=le.payload,L=typeof ee=="function"?ee.call(ke,K,L):ee,L==null)break e;K=_({},K,L);break e;case 2:Da=!0}}L=v.callback,L!==null&&(e.flags|=64,H&&(e.flags|=8192),H=o.callbacks,H===null?o.callbacks=[L]:H.push(L))}else H={lane:L,tag:v.tag,payload:v.payload,callback:v.callback,next:null},G===null?(z=G=H,w=K):G=G.next=H,m|=L;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;H=v,v=H.next,H.next=null,o.lastBaseUpdate=H,o.shared.pending=null}}while(!0);G===null&&(w=K),o.baseState=w,o.firstBaseUpdate=z,o.lastBaseUpdate=G,u===null&&(o.shared.lanes=0),Ha|=m,e.lanes=m,e.memoizedState=K}}function Jd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Pd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Jd(a[e],t)}var Wn=S(null),hr=S(0);function Id(e,t){e=ya,M(hr,e),M(Wn,t),ya=e|t.baseLanes}function vo(){M(hr,ya),M(Wn,Wn.current)}function bo(){ya=hr.current,V(Wn),V(hr)}var Et=S(null),$t=null;function Ma(e){var t=e.alternate;M(Xe,Xe.current&1),M(Et,e),$t===null&&(t===null||Wn.current!==null||t.memoizedState!==null)&&($t=e)}function _o(e){M(Xe,Xe.current),M(Et,e),$t===null&&($t=e)}function Zd(e){e.tag===22?(M(Xe,Xe.current),M(Et,e),$t===null&&($t=e)):La()}function La(){M(Xe,Xe.current),M(Et,Et.current)}function Tt(e){V(Et),$t===e&&($t=null),V(Xe)}var Xe=S(0);function fr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Tu(a)||Au(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=0,ve=null,Re=null,Ie=null,mr=!1,Fn=!1,yn=!1,pr=0,Zi=0,ei=null,xy=0;function Ge(){throw Error(l(321))}function wo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!St(e[a],t[a]))return!1;return!0}function xo(e,t,a,s,o,u){return ua=u,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Uh:Lo,yn=!1,u=a(s,o),yn=!1,Fn&&(u=Fd(t,a,s,o)),Wd(e),u}function Wd(e){D.H=es;var t=Re!==null&&Re.next!==null;if(ua=0,Ie=Re=ve=null,mr=!1,Zi=0,ei=null,t)throw Error(l(300));e===null||Ze||(e=e.dependencies,e!==null&&sr(e)&&(Ze=!0))}function Fd(e,t,a,s){ve=e;var o=0;do{if(Fn&&(ei=null),Zi=0,Fn=!1,25<=o)throw Error(l(301));if(o+=1,Ie=Re=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=zh,u=t(a,s)}while(Fn);return u}function Sy(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Wi(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(ve.flags|=1024),t}function So(){var e=pr!==0;return pr=0,e}function jo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Eo(e){if(mr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}mr=!1}ua=0,Ie=Re=ve=null,Fn=!1,Zi=pr=0,ei=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?ve.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Je(){if(Re===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Ie===null?ve.memoizedState:Ie.next;if(t!==null)Ie=t,Re=e;else{if(e===null)throw ve.alternate===null?Error(l(467)):Error(l(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ie===null?ve.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wi(e){var t=Zi;return Zi+=1,ei===null&&(ei=[]),e=Gd(ei,e,t),t=ve,(Ie===null?t.memoizedState:Ie.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Uh:Lo),e}function yr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wi(e);if(e.$$typeof===B)return rt(e)}throw Error(l(438,String(e)))}function To(e){var t=null,a=ve.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=gr(),ve.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=P;return t.index++,a}function ca(e,t){return typeof t=="function"?t(e):t}function vr(e){var t=Je();return Ao(t,Re,e)}function Ao(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=m=null,w=null,z=t,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(xe&K)===K:(ua&K)===K){var L=z.revertLane;if(L===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Jn&&(G=!0);else if((ua&L)===L){z=z.next,L===Jn&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(v=w=K,m=u):w=w.next=K,ve.lanes|=L,Ha|=L;K=z.action,yn&&a(u,K),u=z.hasEagerState?z.eagerState:a(u,K)}else L={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(v=w=L,m=u):w=w.next=L,ve.lanes|=K,Ha|=K;z=z.next}while(z!==null&&z!==t);if(w===null?m=u:w.next=v,!St(u,e.memoizedState)&&(Ze=!0,G&&(a=Pn,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=w,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Co(e){var t=Je(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);St(u,t.memoizedState)||(Ze=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function eh(e,t,a){var s=ve,o=Je(),u=je;if(u){if(a===void 0)throw Error(l(407));a=a()}else a=t();var m=!St((Re||o).memoizedState,a);if(m&&(o.memoizedState=a,Ze=!0),o=o.queue,No(nh.bind(null,s,o,e),[e]),o.getSnapshot!==t||m||Ie!==null&&Ie.memoizedState.tag&1){if(s.flags|=2048,ti(9,{destroy:void 0},ah.bind(null,s,o,a,t),null),De===null)throw Error(l(349));u||(ua&127)!==0||th(s,t,a)}return a}function th(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ve.updateQueue,t===null?(t=gr(),ve.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ah(e,t,a,s){t.value=a,t.getSnapshot=s,ih(t)&&sh(e)}function nh(e,t,a){return a(function(){ih(t)&&sh(e)})}function ih(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!St(e,a)}catch{return!0}}function sh(e){var t=on(e,2);t!==null&&bt(t,e,2)}function Oo(e){var t=ht();if(typeof e=="function"){var a=e;if(e=a(),yn){Ta(!0);try{a()}finally{Ta(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e},t}function rh(e,t,a,s){return e.baseState=a,Ao(e,Re,typeof s=="function"?s:ca)}function jy(e,t,a,s,o){if(wr(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};D.T!==null?a(!0):u.isTransition=!1,s(u),a=t.pending,a===null?(u.next=t.pending=u,lh(t,u)):(u.next=a.next,t.pending=a.next=u)}}function lh(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=D.T,m={};D.T=m;try{var v=a(o,s),w=D.S;w!==null&&w(m,v),oh(e,t,v)}catch(z){Ro(e,t,z)}finally{u!==null&&m.types!==null&&(u.types=m.types),D.T=u}}else try{u=a(o,s),oh(e,t,u)}catch(z){Ro(e,t,z)}}function oh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){uh(e,t,s)},function(s){return Ro(e,t,s)}):uh(e,t,a)}function uh(e,t,a){t.status="fulfilled",t.value=a,ch(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,lh(e,a)))}function Ro(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,ch(t),t=t.next;while(t!==s)}e.action=null}function ch(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function dh(e,t){return t}function hh(e,t){if(je){var a=De.formState;if(a!==null){e:{var s=ve;if(je){if(ze){t:{for(var o=ze,u=Ht;o.nodeType!==8;){if(!u){o=null;break t}if(o=Vt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){ze=Vt(o.nextSibling),s=o.data==="F!";break e}}Na(s)}s=!1}s&&(t=a[0])}}return a=ht(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dh,lastRenderedState:t},a.queue=s,a=Nh.bind(null,ve,s),s.dispatch=a,s=Oo(!1),u=Mo.bind(null,ve,!1,s.queue),s=ht(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=jy.bind(null,ve,o,u,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function fh(e){var t=Je();return mh(t,Re,e)}function mh(e,t,a){if(t=Ao(e,t,dh)[0],e=vr(ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Wi(t)}catch(m){throw m===In?or:m}else s=t;t=Je();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(ve.flags|=2048,ti(9,{destroy:void 0},Ey.bind(null,o,a),null)),[s,u,e]}function Ey(e,t){e.action=t}function ph(e){var t=Je(),a=Re;if(a!==null)return mh(t,a,e);Je(),t=t.memoizedState,a=Je();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function ti(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ve.updateQueue,t===null&&(t=gr(),ve.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function gh(){return Je().memoizedState}function br(e,t,a,s){var o=ht();ve.flags|=e,o.memoizedState=ti(1|t,{destroy:void 0},a,s===void 0?null:s)}function _r(e,t,a,s){var o=Je();s=s===void 0?null:s;var u=o.memoizedState.inst;Re!==null&&s!==null&&wo(s,Re.memoizedState.deps)?o.memoizedState=ti(t,u,a,s):(ve.flags|=e,o.memoizedState=ti(1|t,u,a,s))}function yh(e,t){br(8390656,8,e,t)}function No(e,t){_r(2048,8,e,t)}function Ty(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=gr(),ve.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function vh(e){var t=Je().memoizedState;return Ty({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function bh(e,t){return _r(4,2,e,t)}function _h(e,t){return _r(4,4,e,t)}function wh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xh(e,t,a){a=a!=null?a.concat([e]):null,_r(4,4,wh.bind(null,t,e),a)}function ko(){}function Sh(e,t){var a=Je();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&wo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function jh(e,t){var a=Je();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&wo(t,s[1]))return s[0];if(s=e(),yn){Ta(!0);try{e()}finally{Ta(!1)}}return a.memoizedState=[s,t],s}function Do(e,t,a){return a===void 0||(ua&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Tf(),ve.lanes|=e,Ha|=e,a)}function Eh(e,t,a,s){return St(a,t)?a:Wn.current!==null?(e=Do(e,a,s),St(e,t)||(Ze=!0),e):(ua&42)===0||(ua&1073741824)!==0&&(xe&261930)===0?(Ze=!0,e.memoizedState=a):(e=Tf(),ve.lanes|=e,Ha|=e,t)}function Th(e,t,a,s,o){var u=C.p;C.p=u!==0&&8>u?u:8;var m=D.T,v={};D.T=v,Mo(e,!1,t,a);try{var w=o(),z=D.S;if(z!==null&&z(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=wy(w,s);Fi(e,t,G,Ot(e))}else Fi(e,t,s,Ot(e))}catch(K){Fi(e,t,{then:function(){},status:"rejected",reason:K},Ot())}finally{C.p=u,m!==null&&v.types!==null&&(m.types=v.types),D.T=m}}function Ay(){}function Uo(e,t,a,s){if(e.tag!==5)throw Error(l(476));var o=Ah(e).queue;Th(e,o,t,Q,a===null?Ay:function(){return Ch(e),a(s)})}function Ah(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:Q},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ch(e){var t=Ah(e);t.next===null&&(t=e.alternate.memoizedState),Fi(e,t.next.queue,{},Ot())}function zo(){return rt(gs)}function Oh(){return Je().memoizedState}function Rh(){return Je().memoizedState}function Cy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ot();e=Ua(a);var s=za(t,e,a);s!==null&&(bt(s,t,a),Ji(s,t,a)),t={cache:uo()},e.payload=t;return}t=t.return}}function Oy(e,t,a){var s=Ot();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wr(e)?kh(t,a):(a=Wl(e,t,a,s),a!==null&&(bt(a,e,s),Dh(a,t,s)))}function Nh(e,t,a){var s=Ot();Fi(e,t,a,s)}function Fi(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wr(e))kh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,v=u(m,a);if(o.hasEagerState=!0,o.eagerState=v,St(v,m))return tr(e,t,o,0),De===null&&er(),!1}catch{}if(a=Wl(e,t,o,s),a!==null)return bt(a,e,s),Dh(a,t,s),!0}return!1}function Mo(e,t,a,s){if(s={lane:2,revertLane:mu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},wr(e)){if(t)throw Error(l(479))}else t=Wl(e,a,s,2),t!==null&&bt(t,e,2)}function wr(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function kh(e,t){Fn=mr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Dh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,qc(e,a)}}var es={readContext:rt,use:yr,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};es.useEffectEvent=Ge;var Uh={readContext:rt,use:yr,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:yh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,br(4194308,4,wh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return br(4194308,4,e,t)},useInsertionEffect:function(e,t){br(4,2,e,t)},useMemo:function(e,t){var a=ht();t=t===void 0?null:t;var s=e();if(yn){Ta(!0);try{e()}finally{Ta(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=ht();if(a!==void 0){var o=a(t);if(yn){Ta(!0);try{a(t)}finally{Ta(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Oy.bind(null,ve,e),[s.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:function(e){e=Oo(e);var t=e.queue,a=Nh.bind(null,ve,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ko,useDeferredValue:function(e,t){var a=ht();return Do(a,e,t)},useTransition:function(){var e=Oo(!1);return e=Th.bind(null,ve,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ve,o=ht();if(je){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),De===null)throw Error(l(349));(xe&127)!==0||th(s,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,yh(nh.bind(null,s,u,e),[e]),s.flags|=2048,ti(9,{destroy:void 0},ah.bind(null,s,u,a,t),null),a},useId:function(){var e=ht(),t=De.identifierPrefix;if(je){var a=Wt,s=Zt;a=(s&~(1<<32-xt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=pr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=xy++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:zo,useFormState:hh,useActionState:hh,useOptimistic:function(e){var t=ht();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Mo.bind(null,ve,!0,a),a.dispatch=t,[e,t]},useMemoCache:To,useCacheRefresh:function(){return ht().memoizedState=Cy.bind(null,ve)},useEffectEvent:function(e){var t=ht(),a={impl:e};return t.memoizedState=a,function(){if((Ae&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Lo={readContext:rt,use:yr,useCallback:Sh,useContext:rt,useEffect:No,useImperativeHandle:xh,useInsertionEffect:bh,useLayoutEffect:_h,useMemo:jh,useReducer:vr,useRef:gh,useState:function(){return vr(ca)},useDebugValue:ko,useDeferredValue:function(e,t){var a=Je();return Eh(a,Re.memoizedState,e,t)},useTransition:function(){var e=vr(ca)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Wi(e),t]},useSyncExternalStore:eh,useId:Oh,useHostTransitionStatus:zo,useFormState:fh,useActionState:fh,useOptimistic:function(e,t){var a=Je();return rh(a,Re,e,t)},useMemoCache:To,useCacheRefresh:Rh};Lo.useEffectEvent=vh;var zh={readContext:rt,use:yr,useCallback:Sh,useContext:rt,useEffect:No,useImperativeHandle:xh,useInsertionEffect:bh,useLayoutEffect:_h,useMemo:jh,useReducer:Co,useRef:gh,useState:function(){return Co(ca)},useDebugValue:ko,useDeferredValue:function(e,t){var a=Je();return Re===null?Do(a,e,t):Eh(a,Re.memoizedState,e,t)},useTransition:function(){var e=Co(ca)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Wi(e),t]},useSyncExternalStore:eh,useId:Oh,useHostTransitionStatus:zo,useFormState:ph,useActionState:ph,useOptimistic:function(e,t){var a=Je();return Re!==null?rh(a,Re,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:To,useCacheRefresh:Rh};zh.useEffectEvent=vh;function qo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Ot(),o=Ua(s);o.payload=t,a!=null&&(o.callback=a),t=za(e,o,s),t!==null&&(bt(t,e,s),Ji(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Ot(),o=Ua(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=za(e,o,s),t!==null&&(bt(t,e,s),Ji(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ot(),s=Ua(a);s.tag=2,t!=null&&(s.callback=t),t=za(e,s,a),t!==null&&(bt(t,e,a),Ji(t,e,a))}};function Mh(e,t,a,s,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,m):t.prototype&&t.prototype.isPureReactComponent?!Hi(a,s)||!Hi(o,u):!0}function Lh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function vn(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function qh(e){Fs(e)}function Bh(e){console.error(e)}function Hh(e){Fs(e)}function xr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function $h(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ho(e,t,a){return a=Ua(a),a.tag=3,a.payload={element:null},a.callback=function(){xr(e,t)},a}function Vh(e){return e=Ua(e),e.tag=3,e}function Gh(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){$h(t,a,s)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){$h(t,a,s),typeof o!="function"&&($a===null?$a=new Set([this]):$a.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function Ry(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Xn(t,a,o,!0),a=Et.current,a!==null){switch(a.tag){case 31:case 13:return $t===null?Ur():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===ur?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),du(e,s,o)),!1;case 22:return a.flags|=65536,s===ur?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),du(e,s,o)),!1}throw Error(l(435,a.tag))}return du(e,s,o),Ur(),!1}if(je)return t=Et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==io&&(e=Error(l(422),{cause:s}),Gi(Lt(e,a)))):(s!==io&&(t=Error(l(423),{cause:s}),Gi(Lt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Lt(s,a),o=Ho(e.stateNode,s,o),go(e,o),Ye!==4&&(Ye=2)),!1;var u=Error(l(520),{cause:s});if(u=Lt(u,a),os===null?os=[u]:os.push(u),Ye!==4&&(Ye=2),t===null)return!0;s=Lt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Ho(a.stateNode,s,e),go(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&($a===null||!$a.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Vh(o),Gh(o,e,a,s),go(a,o),!1}a=a.return}while(a!==null);return!1}var $o=Error(l(461)),Ze=!1;function lt(e,t,a,s){t.child=e===null?Xd(t,null,a,s):gn(t,e.child,a,s)}function Yh(e,t,a,s,o){a=a.render;var u=t.ref;if("ref"in s){var m={};for(var v in s)v!=="ref"&&(m[v]=s[v])}else m=s;return hn(t),s=xo(e,t,a,m,u,o),v=So(),e!==null&&!Ze?(jo(e,t,o),da(e,t,o)):(je&&v&&ao(t),t.flags|=1,lt(e,t,s,o),t.child)}function Kh(e,t,a,s,o){if(e===null){var u=a.type;return typeof u=="function"&&!Fl(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Qh(e,t,u,s,o)):(e=nr(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Po(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:Hi,a(m,s)&&e.ref===t.ref)return da(e,t,o)}return t.flags|=1,e=sa(u,s),e.ref=t.ref,e.return=t,t.child=e}function Qh(e,t,a,s,o){if(e!==null){var u=e.memoizedProps;if(Hi(u,s)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=s=u,Po(e,o))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,da(e,t,o)}return Vo(e,t,a,s,o)}function Xh(e,t,a,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return Jh(e,t,u,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&lr(t,u!==null?u.cachePool:null),u!==null?Id(t,u):vo(),Zd(t);else return s=t.lanes=536870912,Jh(e,t,u!==null?u.baseLanes|a:a,a,s)}else u!==null?(lr(t,u.cachePool),Id(t,u),La(),t.memoizedState=null):(e!==null&&lr(t,null),vo(),La());return lt(e,t,o,a),t.child}function ts(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Jh(e,t,a,s,o){var u=ho();return u=u===null?null:{parent:Pe._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&lr(t,null),vo(),Zd(t),e!==null&&Xn(e,t,s,!0),t.childLanes=o,null}function Sr(e,t){return t=Er({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ph(e,t,a){return gn(t,e.child,null,a),e=Sr(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function Ny(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(s.mode==="hidden")return e=Sr(t,s),t.lanes=536870912,ts(null,e);if(_o(t),(e=ze)?(e=om(e,Ht),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oa!==null?{id:Zt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},a=kd(e),a.return=t,t.child=a,st=t,ze=null)):e=null,e===null)throw Na(t);return t.lanes=536870912,null}return Sr(t,s)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(_o(t),o)if(t.flags&256)t.flags&=-257,t=Ph(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ze||Xn(e,t,a,!1),o=(a&e.childLanes)!==0,Ze||o){if(s=De,s!==null&&(m=Bc(s,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,on(e,m),bt(s,e,m),$o;Ur(),t=Ph(e,t,a)}else e=u.treeContext,ze=Vt(m.nextSibling),st=t,je=!0,Ra=null,Ht=!1,e!==null&&zd(t,e),t=Sr(t,s),t.flags|=4096;return t}return e=sa(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function jr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Vo(e,t,a,s,o){return hn(t),a=xo(e,t,a,s,void 0,o),s=So(),e!==null&&!Ze?(jo(e,t,o),da(e,t,o)):(je&&s&&ao(t),t.flags|=1,lt(e,t,a,o),t.child)}function Ih(e,t,a,s,o,u){return hn(t),t.updateQueue=null,a=Fd(t,s,a,o),Wd(e),s=So(),e!==null&&!Ze?(jo(e,t,u),da(e,t,u)):(je&&s&&ao(t),t.flags|=1,lt(e,t,a,u),t.child)}function Zh(e,t,a,s,o){if(hn(t),t.stateNode===null){var u=Gn,m=a.contextType;typeof m=="object"&&m!==null&&(u=rt(m)),u=new a(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Bo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},mo(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?rt(m):Gn,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(qo(t,a,m,s),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&Bo.enqueueReplaceState(u,u.state,null),Ii(t,s,u,o),Pi(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,w=vn(a,v);u.props=w;var z=u.context,G=a.contextType;m=Gn,typeof G=="object"&&G!==null&&(m=rt(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,G||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||z!==m)&&Lh(t,u,s,m),Da=!1;var L=t.memoizedState;u.state=L,Ii(t,s,u,o),Pi(),z=t.memoizedState,v||L!==z||Da?(typeof K=="function"&&(qo(t,a,K,s),z=t.memoizedState),(w=Da||Mh(t,a,w,s,L,z,m))?(G||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=z),u.props=s,u.state=z,u.context=m,s=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,po(e,t),m=t.memoizedProps,G=vn(a,m),u.props=G,K=t.pendingProps,L=u.context,z=a.contextType,w=Gn,typeof z=="object"&&z!==null&&(w=rt(z)),v=a.getDerivedStateFromProps,(z=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==K||L!==w)&&Lh(t,u,s,w),Da=!1,L=t.memoizedState,u.state=L,Ii(t,s,u,o),Pi();var H=t.memoizedState;m!==K||L!==H||Da||e!==null&&e.dependencies!==null&&sr(e.dependencies)?(typeof v=="function"&&(qo(t,a,v,s),H=t.memoizedState),(G=Da||Mh(t,a,G,s,L,H,w)||e!==null&&e.dependencies!==null&&sr(e.dependencies))?(z||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,H,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,H,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=H),u.props=s,u.state=H,u.context=w,s=G):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,jr(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=gn(t,e.child,null,o),t.child=gn(t,null,a,o)):lt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=da(e,t,o),e}function Wh(e,t,a,s){return cn(),t.flags|=256,lt(e,t,a,s),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:$d()}}function Ko(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ct),e}function Fh(e,t,a){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(o?Ma(t):La(),(e=ze)?(e=om(e,Ht),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oa!==null?{id:Zt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},a=kd(e),a.return=t,t.child=a,st=t,ze=null)):e=null,e===null)throw Na(t);return Au(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,o?(La(),o=t.mode,v=Er({mode:"hidden",children:v},o),s=un(s,o,a,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=Yo(a),s.childLanes=Ko(e,m,a),t.memoizedState=Go,ts(null,s)):(Ma(t),Qo(t,v))}var w=e.memoizedState;if(w!==null&&(v=w.dehydrated,v!==null)){if(u)t.flags&256?(Ma(t),t.flags&=-257,t=Xo(e,t,a)):t.memoizedState!==null?(La(),t.child=e.child,t.flags|=128,t=null):(La(),v=s.fallback,o=t.mode,s=Er({mode:"visible",children:s.children},o),v=un(v,o,a,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,gn(t,e.child,null,a),s=t.child,s.memoizedState=Yo(a),s.childLanes=Ko(e,m,a),t.memoizedState=Go,t=ts(null,s));else if(Ma(t),Au(v)){if(m=v.nextSibling&&v.nextSibling.dataset,m)var z=m.dgst;m=z,s=Error(l(419)),s.stack="",s.digest=m,Gi({value:s,source:null,stack:null}),t=Xo(e,t,a)}else if(Ze||Xn(e,t,a,!1),m=(a&e.childLanes)!==0,Ze||m){if(m=De,m!==null&&(s=Bc(m,a),s!==0&&s!==w.retryLane))throw w.retryLane=s,on(e,s),bt(m,e,s),$o;Tu(v)||Ur(),t=Xo(e,t,a)}else Tu(v)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,ze=Vt(v.nextSibling),st=t,je=!0,Ra=null,Ht=!1,e!==null&&zd(t,e),t=Qo(t,s.children),t.flags|=4096);return t}return o?(La(),v=s.fallback,o=t.mode,w=e.child,z=w.sibling,s=sa(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&65011712,z!==null?v=sa(z,v):(v=un(v,o,a,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,ts(null,s),s=t.child,v=e.child.memoizedState,v===null?v=Yo(a):(o=v.cachePool,o!==null?(w=Pe._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=$d(),v={baseLanes:v.baseLanes|a,cachePool:o}),s.memoizedState=v,s.childLanes=Ko(e,m,a),t.memoizedState=Go,ts(e.child,s)):(Ma(t),a=e.child,e=a.sibling,a=sa(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Qo(e,t){return t=Er({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Er(e,t){return e=jt(22,e,null,t),e.lanes=0,e}function Xo(e,t,a){return gn(t,e.child,null,a),e=Qo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ef(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),lo(e.return,t,a)}function Jo(e,t,a,s,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function tf(e,t,a){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var m=Xe.current,v=(m&2)!==0;if(v?(m=m&1|2,t.flags|=128):m&=1,M(Xe,m),lt(e,t,s,a),s=je?Vi:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ef(e,a,t);else if(e.tag===19)ef(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&fr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Jo(t,!1,o,a,u,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&fr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Jo(t,!0,a,null,u,s);break;case"together":Jo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function da(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ha|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Xn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=sa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=sa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Po(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&sr(e)))}function ky(e,t,a){switch(t.tag){case 3:Qe(t,t.stateNode.containerInfo),ka(t,Pe,e.memoizedState.cache),cn();break;case 27:case 5:en(t);break;case 4:Qe(t,t.stateNode.containerInfo);break;case 10:ka(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,_o(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ma(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Fh(e,t,a):(Ma(t),e=da(e,t,a),e!==null?e.sibling:null);Ma(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Xn(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return tf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),M(Xe,Xe.current),s)break;return null;case 22:return t.lanes=0,Xh(e,t,a,t.pendingProps);case 24:ka(t,Pe,e.memoizedState.cache)}return da(e,t,a)}function af(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!Po(e,a)&&(t.flags&128)===0)return Ze=!1,ky(e,t,a);Ze=(e.flags&131072)!==0}else Ze=!1,je&&(t.flags&1048576)!==0&&Ud(t,Vi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=mn(t.elementType),t.type=e,typeof e=="function")Fl(e)?(s=vn(e,s),t.tag=1,t=Zh(null,t,e,s,a)):(t.tag=0,t=Vo(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===$){t.tag=11,t=Yh(null,t,e,s,a);break e}else if(o===I){t.tag=14,t=Kh(null,t,e,s,a);break e}}throw t=Le(e)||e,Error(l(306,t,""))}}return t;case 0:return Vo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=vn(s,t.pendingProps),Zh(e,t,s,o,a);case 3:e:{if(Qe(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,po(e,t),Ii(t,s,null,a);var m=t.memoizedState;if(s=m.cache,ka(t,Pe,s),s!==u.cache&&oo(t,[Pe],a,!0),Pi(),s=m.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Wh(e,t,s,a);break e}else if(s!==o){o=Lt(Error(l(424)),t),Gi(o),t=Wh(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=Vt(e.firstChild),st=t,je=!0,Ra=null,Ht=!0,a=Xd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cn(),s===o){t=da(e,t,a);break e}lt(e,t,s,a)}t=t.child}return t;case 26:return jr(e,t),e===null?(a=mm(t.type,null,t.pendingProps,null))?t.memoizedState=a:je||(a=t.type,e=t.pendingProps,s=$r(te.current).createElement(a),s[it]=t,s[ft]=e,ot(s,a,e),at(s),t.stateNode=s):t.memoizedState=mm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return en(t),e===null&&je&&(s=t.stateNode=dm(t.type,t.pendingProps,te.current),st=t,Ht=!0,o=ze,Ka(t.type)?(Cu=o,ze=Vt(s.firstChild)):ze=o),lt(e,t,t.pendingProps.children,a),jr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((o=s=ze)&&(s=ov(s,t.type,t.pendingProps,Ht),s!==null?(t.stateNode=s,st=t,ze=Vt(s.firstChild),Ht=!1,o=!0):o=!1),o||Na(t)),en(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,s=u.children,Su(o,u)?s=null:m!==null&&Su(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=xo(e,t,Sy,null,null,a),gs._currentValue=o),jr(e,t),lt(e,t,s,a),t.child;case 6:return e===null&&je&&((e=a=ze)&&(a=uv(a,t.pendingProps,Ht),a!==null?(t.stateNode=a,st=t,ze=null,e=!0):e=!1),e||Na(t)),null;case 13:return Fh(e,t,a);case 4:return Qe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=gn(t,null,s,a):lt(e,t,s,a),t.child;case 11:return Yh(e,t,t.type,t.pendingProps,a);case 7:return lt(e,t,t.pendingProps,a),t.child;case 8:return lt(e,t,t.pendingProps.children,a),t.child;case 12:return lt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,ka(t,t.type,s.value),lt(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,hn(t),o=rt(o),s=s(o),t.flags|=1,lt(e,t,s,a),t.child;case 14:return Kh(e,t,t.type,t.pendingProps,a);case 15:return Qh(e,t,t.type,t.pendingProps,a);case 19:return tf(e,t,a);case 31:return Ny(e,t,a);case 22:return Xh(e,t,a,t.pendingProps);case 24:return hn(t),s=rt(Pe),e===null?(o=ho(),o===null&&(o=De,u=uo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:s,cache:o},mo(t),ka(t,Pe,o)):((e.lanes&a)!==0&&(po(e,t),Ii(t,null,null,a),Pi()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),ka(t,Pe,s)):(s=u.cache,ka(t,Pe,s),s!==o.cache&&oo(t,[Pe],a,!0))),lt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ha(e){e.flags|=4}function Io(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Rf())e.flags|=8192;else throw pn=ur,fo}else e.flags&=-16777217}function nf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bm(t))if(Rf())e.flags|=8192;else throw pn=ur,fo}function Tr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Mc():536870912,e.lanes|=t,si|=t)}function as(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Dy(e,t,a){var s=t.pendingProps;switch(no(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Me(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),oa(Pe),qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Qn(t)?ha(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,so())),Me(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(ha(t),u!==null?(Me(t),nf(t,u)):(Me(t),Io(t,o,null,s,a))):u?u!==e.memoizedState?(ha(t),Me(t),nf(t,u)):(Me(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ha(t),Me(t),Io(t,o,e,s,a)),null;case 27:if(On(t),a=te.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ha(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Me(t),null}e=J.current,Qn(t)?Md(t):(e=dm(o,s,a),t.stateNode=e,ha(t))}return Me(t),null;case 5:if(On(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ha(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Me(t),null}if(u=J.current,Qn(t))Md(t);else{var m=$r(te.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?m.createElement(o,{is:s.is}):m.createElement(o)}}u[it]=t,u[ft]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(ot(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ha(t)}}return Me(t),Io(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ha(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=te.current,Qn(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=st,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[it]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||em(e.nodeValue,a)),e||Na(t,!0)}else e=$r(e).createTextNode(s),e[it]=t,t.stateNode=e}return Me(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Qn(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[it]=t}else cn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),e=!1}else a=so(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Me(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Qn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[it]=t}else cn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),o=!1}else o=so(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Tr(t,t.updateQueue),Me(t),null);case 4:return qe(),e===null&&vu(t.stateNode.containerInfo),Me(t),null;case 10:return oa(t.type),Me(t),null;case 19:if(V(Xe),s=t.memoizedState,s===null)return Me(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)as(s,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=fr(e),u!==null){for(t.flags|=128,as(s,!1),e=u.updateQueue,t.updateQueue=e,Tr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Nd(a,e),a=a.sibling;return M(Xe,Xe.current&1|2),je&&ra(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&_t()>Nr&&(t.flags|=128,o=!0,as(s,!1),t.lanes=4194304)}else{if(!o)if(e=fr(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Tr(t,e),as(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!je)return Me(t),null}else 2*_t()-s.renderingStartTime>Nr&&a!==536870912&&(t.flags|=128,o=!0,as(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,a=Xe.current,M(Xe,o?a&1|2:a&1),je&&ra(t,s.treeForkCount),e):(Me(t),null);case 22:case 23:return Tt(t),bo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),a=t.updateQueue,a!==null&&Tr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&V(fn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),oa(Pe),Me(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Uy(e,t){switch(no(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oa(Pe),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return On(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(l(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(Xe),null;case 4:return qe(),null;case 10:return oa(t.type),null;case 22:case 23:return Tt(t),bo(),e!==null&&V(fn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return oa(Pe),null;case 25:return null;default:return null}}function sf(e,t){switch(no(t),t.tag){case 3:oa(Pe),qe();break;case 26:case 27:case 5:On(t);break;case 4:qe();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:V(Xe);break;case 10:oa(t.type);break;case 22:case 23:Tt(t),bo(),e!==null&&V(fn);break;case 24:oa(Pe)}}function ns(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var u=a.create,m=a.inst;s=u(),m.destroy=s}a=a.next}while(a!==o)}}catch(v){Oe(t,t.return,v)}}function qa(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var m=s.inst,v=m.destroy;if(v!==void 0){m.destroy=void 0,o=t;var w=a,z=v;try{z()}catch(G){Oe(o,w,G)}}}s=s.next}while(s!==u)}}catch(G){Oe(t,t.return,G)}}function rf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Pd(t,a)}catch(s){Oe(e,e.return,s)}}}function lf(e,t,a){a.props=vn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Oe(e,t,s)}}function is(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Oe(e,t,o)}}function Ft(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Oe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Oe(e,t,o)}else a.current=null}function of(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Oe(e,e.return,o)}}function Zo(e,t,a){try{var s=e.stateNode;av(s,e.type,a,t),s[ft]=t}catch(o){Oe(e,e.return,o)}}function uf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ka(e.type)||e.tag===4}function Wo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ka(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=na));else if(s!==4&&(s===27&&Ka(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Fo(e,t,a),e=e.sibling;e!==null;)Fo(e,t,a),e=e.sibling}function Ar(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Ka(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ar(e,t,a),e=e.sibling;e!==null;)Ar(e,t,a),e=e.sibling}function cf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ot(t,s,a),t[it]=e,t[ft]=a}catch(u){Oe(e,e.return,u)}}var fa=!1,We=!1,eu=!1,df=typeof WeakSet=="function"?WeakSet:Set,nt=null;function zy(e,t){if(e=e.containerInfo,wu=Jr,e=xd(e),Ql(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,v=-1,w=-1,z=0,G=0,K=e,L=null;t:for(;;){for(var H;K!==a||o!==0&&K.nodeType!==3||(v=m+o),K!==u||s!==0&&K.nodeType!==3||(w=m+s),K.nodeType===3&&(m+=K.nodeValue.length),(H=K.firstChild)!==null;)L=K,K=H;for(;;){if(K===e)break t;if(L===a&&++z===o&&(v=m),L===u&&++G===s&&(w=m),(H=K.nextSibling)!==null)break;K=L,L=K.parentNode}K=H}a=v===-1||w===-1?null:{start:v,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(xu={focusedElem:e,selectionRange:a},Jr=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,s=a.stateNode;try{var ee=vn(a.type,o);e=s.getSnapshotBeforeUpdate(ee,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(le){Oe(a,a.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Eu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Eu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function hf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:pa(e,a),s&4&&ns(5,a);break;case 1:if(pa(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Oe(a,a.return,m)}else{var o=vn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Oe(a,a.return,m)}}s&64&&rf(a),s&512&&is(a,a.return);break;case 3:if(pa(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Pd(e,t)}catch(m){Oe(a,a.return,m)}}break;case 27:t===null&&s&4&&cf(a);case 26:case 5:pa(e,a),t===null&&s&4&&of(a),s&512&&is(a,a.return);break;case 12:pa(e,a);break;case 31:pa(e,a),s&4&&pf(e,a);break;case 13:pa(e,a),s&4&&gf(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Yy.bind(null,a),cv(e,a))));break;case 22:if(s=a.memoizedState!==null||fa,!s){t=t!==null&&t.memoizedState!==null||We,o=fa;var u=We;fa=s,(We=t)&&!u?ga(e,a,(a.subtreeFlags&8772)!==0):pa(e,a),fa=o,We=u}break;case 30:break;default:pa(e,a)}}function ff(e){var t=e.alternate;t!==null&&(e.alternate=null,ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ol(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,pt=!1;function ma(e,t,a){for(a=a.child;a!==null;)mf(e,t,a),a=a.sibling}function mf(e,t,a){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Ci,a)}catch{}switch(a.tag){case 26:We||Ft(a,t),ma(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||Ft(a,t);var s=Be,o=pt;Ka(a.type)&&(Be=a.stateNode,pt=!1),ma(e,t,a),fs(a.stateNode),Be=s,pt=o;break;case 5:We||Ft(a,t);case 6:if(s=Be,o=pt,Be=null,ma(e,t,a),Be=s,pt=o,Be!==null)if(pt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(a.stateNode)}catch(u){Oe(a,t,u)}else try{Be.removeChild(a.stateNode)}catch(u){Oe(a,t,u)}break;case 18:Be!==null&&(pt?(e=Be,rm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),fi(e)):rm(Be,a.stateNode));break;case 4:s=Be,o=pt,Be=a.stateNode.containerInfo,pt=!0,ma(e,t,a),Be=s,pt=o;break;case 0:case 11:case 14:case 15:qa(2,a,t),We||qa(4,a,t),ma(e,t,a);break;case 1:We||(Ft(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&lf(a,t,s)),ma(e,t,a);break;case 21:ma(e,t,a);break;case 22:We=(s=We)||a.memoizedState!==null,ma(e,t,a),We=s;break;default:ma(e,t,a)}}function pf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{fi(e)}catch(a){Oe(t,t.return,a)}}}function gf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fi(e)}catch(a){Oe(t,t.return,a)}}function My(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new df),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new df),t;default:throw Error(l(435,e.tag))}}function Cr(e,t){var a=My(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=Ky.bind(null,e,s);s.then(o,o)}})}function gt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],u=e,m=t,v=m;e:for(;v!==null;){switch(v.tag){case 27:if(Ka(v.type)){Be=v.stateNode,pt=!1;break e}break;case 5:Be=v.stateNode,pt=!1;break e;case 3:case 4:Be=v.stateNode.containerInfo,pt=!0;break e}v=v.return}if(Be===null)throw Error(l(160));mf(u,m,o),Be=null,pt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)yf(t,e),t=t.sibling}var Qt=null;function yf(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),yt(e),s&4&&(qa(3,e,e.return),ns(3,e),qa(5,e,e.return));break;case 1:gt(t,e),yt(e),s&512&&(We||a===null||Ft(a,a.return)),s&64&&fa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=Qt;if(gt(t,e),yt(e),s&512&&(We||a===null||Ft(a,a.return)),s&4){var u=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Ni]||u[it]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),ot(u,s,a),u[it]=e,at(u),s=u;break e;case"link":var m=ym("link","href",o).get(s+(a.href||""));if(m){for(var v=0;v<m.length;v++)if(u=m[v],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(v,1);break t}}u=o.createElement(s),ot(u,s,a),o.head.appendChild(u);break;case"meta":if(m=ym("meta","content",o).get(s+(a.content||""))){for(v=0;v<m.length;v++)if(u=m[v],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(v,1);break t}}u=o.createElement(s),ot(u,s,a),o.head.appendChild(u);break;default:throw Error(l(468,s))}u[it]=e,at(u),s=u}e.stateNode=s}else vm(o,e.type,e.stateNode);else e.stateNode=gm(o,s,e.memoizedProps);else u!==s?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,s===null?vm(o,e.type,e.stateNode):gm(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Zo(e,e.memoizedProps,a.memoizedProps)}break;case 27:gt(t,e),yt(e),s&512&&(We||a===null||Ft(a,a.return)),a!==null&&s&4&&Zo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(gt(t,e),yt(e),s&512&&(We||a===null||Ft(a,a.return)),e.flags&32){o=e.stateNode;try{Mn(o,"")}catch(ee){Oe(e,e.return,ee)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Zo(e,o,a!==null?a.memoizedProps:o)),s&1024&&(eu=!0);break;case 6:if(gt(t,e),yt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(ee){Oe(e,e.return,ee)}}break;case 3:if(Yr=null,o=Qt,Qt=Vr(t.containerInfo),gt(t,e),Qt=o,yt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{fi(t.containerInfo)}catch(ee){Oe(e,e.return,ee)}eu&&(eu=!1,vf(e));break;case 4:s=Qt,Qt=Vr(e.stateNode.containerInfo),gt(t,e),yt(e),Qt=s;break;case 12:gt(t,e),yt(e);break;case 31:gt(t,e),yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Cr(e,s)));break;case 13:gt(t,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rr=_t()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Cr(e,s)));break;case 22:o=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=fa,G=We;if(fa=z||o,We=G||w,gt(t,e),We=G,fa=z,yt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||w||fa||We||bn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(u=w.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=w.stateNode;var K=w.memoizedProps.style,L=K!=null&&K.hasOwnProperty("display")?K.display:null;v.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(ee){Oe(w,w.return,ee)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(ee){Oe(w,w.return,ee)}}}else if(t.tag===18){if(a===null){w=t;try{var H=w.stateNode;o?lm(H,!0):lm(w.stateNode,!1)}catch(ee){Oe(w,w.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Cr(e,a))));break;case 19:gt(t,e),yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Cr(e,s)));break;case 30:break;case 21:break;default:gt(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(uf(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,u=Wo(e);Ar(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(Mn(m,""),a.flags&=-33);var v=Wo(e);Ar(e,v,m);break;case 3:case 4:var w=a.stateNode.containerInfo,z=Wo(e);Fo(e,z,w);break;default:throw Error(l(161))}}catch(G){Oe(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;vf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hf(e,t.alternate,t),t=t.sibling}function bn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qa(4,t,t.return),bn(t);break;case 1:Ft(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&lf(t,t.return,a),bn(t);break;case 27:fs(t.stateNode);case 26:case 5:Ft(t,t.return),bn(t);break;case 22:t.memoizedState===null&&bn(t);break;case 30:bn(t);break;default:bn(t)}e=e.sibling}}function ga(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:ga(o,u,a),ns(4,u);break;case 1:if(ga(o,u,a),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(z){Oe(s,s.return,z)}if(s=u,o=s.updateQueue,o!==null){var v=s.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Jd(w[o],v)}catch(z){Oe(s,s.return,z)}}a&&m&64&&rf(u),is(u,u.return);break;case 27:cf(u);case 26:case 5:ga(o,u,a),a&&s===null&&m&4&&of(u),is(u,u.return);break;case 12:ga(o,u,a);break;case 31:ga(o,u,a),a&&m&4&&pf(o,u);break;case 13:ga(o,u,a),a&&m&4&&gf(o,u);break;case 22:u.memoizedState===null&&ga(o,u,a),is(u,u.return);break;case 30:break;default:ga(o,u,a)}t=t.sibling}}function tu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yi(a))}function au(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yi(e))}function Xt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bf(e,t,a,s),t=t.sibling}function bf(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Xt(e,t,a,s),o&2048&&ns(9,t);break;case 1:Xt(e,t,a,s);break;case 3:Xt(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yi(e)));break;case 12:if(o&2048){Xt(e,t,a,s),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,v=u.onPostCommit;typeof v=="function"&&v(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Oe(t,t.return,w)}}else Xt(e,t,a,s);break;case 31:Xt(e,t,a,s);break;case 13:Xt(e,t,a,s);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?Xt(e,t,a,s):ss(e,t):u._visibility&2?Xt(e,t,a,s):(u._visibility|=2,ai(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&tu(m,t);break;case 24:Xt(e,t,a,s),o&2048&&au(t.alternate,t);break;default:Xt(e,t,a,s)}}function ai(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,v=a,w=s,z=m.flags;switch(m.tag){case 0:case 11:case 15:ai(u,m,v,w,o),ns(8,m);break;case 23:break;case 22:var G=m.stateNode;m.memoizedState!==null?G._visibility&2?ai(u,m,v,w,o):ss(u,m):(G._visibility|=2,ai(u,m,v,w,o)),o&&z&2048&&tu(m.alternate,m);break;case 24:ai(u,m,v,w,o),o&&z&2048&&au(m.alternate,m);break;default:ai(u,m,v,w,o)}t=t.sibling}}function ss(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:ss(a,s),o&2048&&tu(s.alternate,s);break;case 24:ss(a,s),o&2048&&au(s.alternate,s);break;default:ss(a,s)}t=t.sibling}}var rs=8192;function ni(e,t,a){if(e.subtreeFlags&rs)for(e=e.child;e!==null;)_f(e,t,a),e=e.sibling}function _f(e,t,a){switch(e.tag){case 26:ni(e,t,a),e.flags&rs&&e.memoizedState!==null&&xv(a,Qt,e.memoizedState,e.memoizedProps);break;case 5:ni(e,t,a);break;case 3:case 4:var s=Qt;Qt=Vr(e.stateNode.containerInfo),ni(e,t,a),Qt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=rs,rs=16777216,ni(e,t,a),rs=s):ni(e,t,a));break;default:ni(e,t,a)}}function wf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ls(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];nt=s,Sf(s,e)}wf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xf(e),e=e.sibling}function xf(e){switch(e.tag){case 0:case 11:case 15:ls(e),e.flags&2048&&qa(9,e,e.return);break;case 3:ls(e);break;case 12:ls(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Or(e)):ls(e);break;default:ls(e)}}function Or(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];nt=s,Sf(s,e)}wf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:qa(8,t,t.return),Or(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Or(t));break;default:Or(t)}e=e.sibling}}function Sf(e,t){for(;nt!==null;){var a=nt;switch(a.tag){case 0:case 11:case 15:qa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Yi(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,nt=s;else e:for(a=e;nt!==null;){s=nt;var o=s.sibling,u=s.return;if(ff(s),s===a){nt=null;break e}if(o!==null){o.return=u,nt=o;break e}nt=u}}}var Ly={getCacheForType:function(e){var t=rt(Pe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return rt(Pe).controller.signal}},qy=typeof WeakMap=="function"?WeakMap:Map,Ae=0,De=null,_e=null,xe=0,Ce=0,At=null,Ba=!1,ii=!1,nu=!1,ya=0,Ye=0,Ha=0,_n=0,iu=0,Ct=0,si=0,os=null,vt=null,su=!1,Rr=0,jf=0,Nr=1/0,kr=null,$a=null,et=0,Va=null,ri=null,va=0,ru=0,lu=null,Ef=null,us=0,ou=null;function Ot(){return(Ae&2)!==0&&xe!==0?xe&-xe:D.T!==null?mu():Hc()}function Tf(){if(Ct===0)if((xe&536870912)===0||je){var e=Hs;Hs<<=1,(Hs&3932160)===0&&(Hs=262144),Ct=e}else Ct=536870912;return e=Et.current,e!==null&&(e.flags|=32),Ct}function bt(e,t,a){(e===De&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(li(e,0),Ga(e,xe,Ct,!1)),Ri(e,a),((Ae&2)===0||e!==De)&&(e===De&&((Ae&2)===0&&(_n|=a),Ye===4&&Ga(e,xe,Ct,!1)),ea(e))}function Af(e,t,a){if((Ae&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Oi(e,t),o=s?$y(e,t):cu(e,t,!0),u=s;do{if(o===0){ii&&!s&&Ga(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!By(a)){o=cu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var v=e;o=os;var w=v.current.memoizedState.isDehydrated;if(w&&(li(v,m).flags|=256),m=cu(v,m,!1),m!==2){if(nu&&!w){v.errorRecoveryDisabledLanes|=u,_n|=u,o=4;break e}u=vt,vt=o,u!==null&&(vt===null?vt=u:vt.push.apply(vt,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){li(e,0),Ga(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ga(s,t,Ct,!Ba);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Rr+300-_t(),10<o)){if(Ga(s,t,Ct,!Ba),Vs(s,0,!0)!==0)break e;va=t,s.timeoutHandle=im(Cf.bind(null,s,a,vt,kr,su,t,Ct,_n,si,Ba,u,"Throttled",-0,0),o);break e}Cf(s,a,vt,kr,su,t,Ct,_n,si,Ba,u,null,-0,0)}}break}while(!0);ea(e)}function Cf(e,t,a,s,o,u,m,v,w,z,G,K,L,H){if(e.timeoutHandle=-1,K=t.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:na},_f(t,u,K);var ee=(u&62914560)===u?Rr-_t():(u&4194048)===u?jf-_t():0;if(ee=Sv(K,ee),ee!==null){va=u,e.cancelPendingCommit=ee(Mf.bind(null,e,t,u,a,s,o,m,v,w,G,K,null,L,H)),Ga(e,u,m,!z);return}}Mf(e,t,u,a,s,o,m,v,w)}function By(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],u=o.getSnapshot;o=o.value;try{if(!St(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t,a,s){t&=~iu,t&=~_n,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-xt(o),m=1<<u;s[u]=-1,o&=~m}a!==0&&Lc(e,a,t)}function Dr(){return(Ae&6)===0?(cs(0),!1):!0}function uu(){if(_e!==null){if(Ce===0)var e=_e.return;else e=_e,la=dn=null,Eo(e),Zn=null,Qi=0,e=_e;for(;e!==null;)sf(e.alternate,e),e=e.return;_e=null}}function li(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,sv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),va=0,uu(),De=e,_e=a=sa(e.current,null),xe=t,Ce=0,At=null,Ba=!1,ii=Oi(e,t),nu=!1,si=Ct=iu=_n=Ha=Ye=0,vt=os=null,su=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-xt(s),u=1<<o;t|=e[o],s&=~u}return ya=t,er(),a}function Of(e,t){ve=null,D.H=es,t===In||t===or?(t=Yd(),Ce=3):t===fo?(t=Yd(),Ce=4):Ce=t===$o?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,_e===null&&(Ye=1,xr(e,Lt(t,e.current)))}function Rf(){var e=Et.current;return e===null?!0:(xe&4194048)===xe?$t===null:(xe&62914560)===xe||(xe&536870912)!==0?e===$t:!1}function Nf(){var e=D.H;return D.H=es,e===null?es:e}function kf(){var e=D.A;return D.A=Ly,e}function Ur(){Ye=4,Ba||(xe&4194048)!==xe&&Et.current!==null||(ii=!0),(Ha&134217727)===0&&(_n&134217727)===0||De===null||Ga(De,xe,Ct,!1)}function cu(e,t,a){var s=Ae;Ae|=2;var o=Nf(),u=kf();(De!==e||xe!==t)&&(kr=null,li(e,t)),t=!1;var m=Ye;e:do try{if(Ce!==0&&_e!==null){var v=_e,w=At;switch(Ce){case 8:uu(),m=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var z=Ce;if(Ce=0,At=null,oi(e,v,w,z),a&&ii){m=0;break e}break;default:z=Ce,Ce=0,At=null,oi(e,v,w,z)}}Hy(),m=Ye;break}catch(G){Of(e,G)}while(!0);return t&&e.shellSuspendCounter++,la=dn=null,Ae=s,D.H=o,D.A=u,_e===null&&(De=null,xe=0,er()),m}function Hy(){for(;_e!==null;)Df(_e)}function $y(e,t){var a=Ae;Ae|=2;var s=Nf(),o=kf();De!==e||xe!==t?(kr=null,Nr=_t()+500,li(e,t)):ii=Oi(e,t);e:do try{if(Ce!==0&&_e!==null){t=_e;var u=At;t:switch(Ce){case 1:Ce=0,At=null,oi(e,t,u,1);break;case 2:case 9:if(Vd(u)){Ce=0,At=null,Uf(t);break}t=function(){Ce!==2&&Ce!==9||De!==e||(Ce=7),ea(e)},u.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Vd(u)?(Ce=0,At=null,Uf(t)):(Ce=0,At=null,oi(e,t,u,7));break;case 5:var m=null;switch(_e.tag){case 26:m=_e.memoizedState;case 5:case 27:var v=_e;if(m?bm(m):v.stateNode.complete){Ce=0,At=null;var w=v.sibling;if(w!==null)_e=w;else{var z=v.return;z!==null?(_e=z,zr(z)):_e=null}break t}}Ce=0,At=null,oi(e,t,u,5);break;case 6:Ce=0,At=null,oi(e,t,u,6);break;case 8:uu(),Ye=6;break e;default:throw Error(l(462))}}Vy();break}catch(G){Of(e,G)}while(!0);return la=dn=null,D.H=s,D.A=o,Ae=a,_e!==null?0:(De=null,xe=0,er(),Ye)}function Vy(){for(;_e!==null&&!dg();)Df(_e)}function Df(e){var t=af(e.alternate,e,ya);e.memoizedProps=e.pendingProps,t===null?zr(e):_e=t}function Uf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ih(a,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=Ih(a,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:Eo(t);default:sf(a,t),t=_e=Nd(t,ya),t=af(a,t,ya)}e.memoizedProps=e.pendingProps,t===null?zr(e):_e=t}function oi(e,t,a,s){la=dn=null,Eo(t),Zn=null,Qi=0;var o=t.return;try{if(Ry(e,o,t,a,xe)){Ye=1,xr(e,Lt(a,e.current)),_e=null;return}}catch(u){if(o!==null)throw _e=o,u;Ye=1,xr(e,Lt(a,e.current)),_e=null;return}t.flags&32768?(je||s===1?e=!0:ii||(xe&536870912)!==0?e=!1:(Ba=e=!0,(s===2||s===9||s===3||s===6)&&(s=Et.current,s!==null&&s.tag===13&&(s.flags|=16384))),zf(t,e)):zr(t)}function zr(e){var t=e;do{if((t.flags&32768)!==0){zf(t,Ba);return}e=t.return;var a=Dy(t.alternate,t,ya);if(a!==null){_e=a;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ye===0&&(Ye=5)}function zf(e,t){do{var a=Uy(e.alternate,e);if(a!==null){a.flags&=32767,_e=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=a}while(e!==null);Ye=6,_e=null}function Mf(e,t,a,s,o,u,m,v,w){e.cancelPendingCommit=null;do Mr();while(et!==0);if((Ae&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=Zl,wg(e,a,u,m,v,w),e===De&&(_e=De=null,xe=0),ri=t,Va=e,va=a,ru=u,lu=o,Ef=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Qy(qs,function(){return $f(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=D.T,D.T=null,o=C.p,C.p=2,m=Ae,Ae|=4;try{zy(e,t,a)}finally{Ae=m,C.p=o,D.T=s}}et=1,Lf(),qf(),Bf()}}function Lf(){if(et===1){et=0;var e=Va,t=ri,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var s=C.p;C.p=2;var o=Ae;Ae|=4;try{yf(t,e);var u=xu,m=xd(e.containerInfo),v=u.focusedElem,w=u.selectionRange;if(m!==v&&v&&v.ownerDocument&&wd(v.ownerDocument.documentElement,v)){if(w!==null&&Ql(v)){var z=w.start,G=w.end;if(G===void 0&&(G=z),"selectionStart"in v)v.selectionStart=z,v.selectionEnd=Math.min(G,v.value.length);else{var K=v.ownerDocument||document,L=K&&K.defaultView||window;if(L.getSelection){var H=L.getSelection(),ee=v.textContent.length,le=Math.min(w.start,ee),ke=w.end===void 0?le:Math.min(w.end,ee);!H.extend&&le>ke&&(m=ke,ke=le,le=m);var O=_d(v,le),j=_d(v,ke);if(O&&j&&(H.rangeCount!==1||H.anchorNode!==O.node||H.anchorOffset!==O.offset||H.focusNode!==j.node||H.focusOffset!==j.offset)){var U=K.createRange();U.setStart(O.node,O.offset),H.removeAllRanges(),le>ke?(H.addRange(U),H.extend(j.node,j.offset)):(U.setEnd(j.node,j.offset),H.addRange(U))}}}}for(K=[],H=v;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<K.length;v++){var Y=K[v];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Jr=!!wu,xu=wu=null}finally{Ae=o,C.p=s,D.T=a}}e.current=t,et=2}}function qf(){if(et===2){et=0;var e=Va,t=ri,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var s=C.p;C.p=2;var o=Ae;Ae|=4;try{hf(e,t.alternate,t)}finally{Ae=o,C.p=s,D.T=a}}et=3}}function Bf(){if(et===4||et===3){et=0,hg();var e=Va,t=ri,a=va,s=Ef;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?et=5:(et=0,ri=Va=null,Hf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&($a=null),Al(a),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Ci,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=D.T,o=C.p,C.p=2,D.T=null;try{for(var u=e.onRecoverableError,m=0;m<s.length;m++){var v=s[m];u(v.value,{componentStack:v.stack})}}finally{D.T=t,C.p=o}}(va&3)!==0&&Mr(),ea(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===ou?us++:(us=0,ou=e):us=0,cs(0)}}function Hf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Yi(t)))}function Mr(){return Lf(),qf(),Bf(),$f()}function $f(){if(et!==5)return!1;var e=Va,t=ru;ru=0;var a=Al(va),s=D.T,o=C.p;try{C.p=32>a?32:a,D.T=null,a=lu,lu=null;var u=Va,m=va;if(et=0,ri=Va=null,va=0,(Ae&6)!==0)throw Error(l(331));var v=Ae;if(Ae|=4,xf(u.current),bf(u,u.current,m,a),Ae=v,cs(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Ci,u)}catch{}return!0}finally{C.p=o,D.T=s,Hf(e,t)}}function Vf(e,t,a){t=Lt(a,t),t=Ho(e.stateNode,t,2),e=za(e,t,2),e!==null&&(Ri(e,2),ea(e))}function Oe(e,t,a){if(e.tag===3)Vf(e,e,a);else for(;t!==null;){if(t.tag===3){Vf(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&($a===null||!$a.has(s))){e=Lt(a,e),a=Vh(2),s=za(t,a,2),s!==null&&(Gh(a,s,t,e),Ri(s,2),ea(s));break}}t=t.return}}function du(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new qy;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(nu=!0,o.add(a),e=Gy.bind(null,e,t,a),t.then(e,e))}function Gy(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,De===e&&(xe&a)===a&&(Ye===4||Ye===3&&(xe&62914560)===xe&&300>_t()-Rr?(Ae&2)===0&&li(e,0):iu|=a,si===xe&&(si=0)),ea(e)}function Gf(e,t){t===0&&(t=Mc()),e=on(e,t),e!==null&&(Ri(e,t),ea(e))}function Yy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Gf(e,a)}function Ky(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Gf(e,a)}function Qy(e,t){return Sl(e,t)}var Lr=null,ui=null,hu=!1,qr=!1,fu=!1,Ya=0;function ea(e){e!==ui&&e.next===null&&(ui===null?Lr=ui=e:ui=ui.next=e),qr=!0,hu||(hu=!0,Jy())}function cs(e,t){if(!fu&&qr){fu=!0;do for(var a=!1,s=Lr;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var m=s.suspendedLanes,v=s.pingedLanes;u=(1<<31-xt(42|e)+1)-1,u&=o&~(m&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Xf(s,u))}else u=xe,u=Vs(s,s===De?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||Oi(s,u)||(a=!0,Xf(s,u));s=s.next}while(a);fu=!1}}function Xy(){Yf()}function Yf(){qr=hu=!1;var e=0;Ya!==0&&iv()&&(e=Ya);for(var t=_t(),a=null,s=Lr;s!==null;){var o=s.next,u=Kf(s,t);u===0?(s.next=null,a===null?Lr=o:a.next=o,o===null&&(ui=a)):(a=s,(e!==0||(u&3)!==0)&&(qr=!0)),s=o}et!==0&&et!==5||cs(e),Ya!==0&&(Ya=0)}function Kf(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-xt(u),v=1<<m,w=o[m];w===-1?((v&a)===0||(v&s)!==0)&&(o[m]=_g(v,t)):w<=t&&(e.expiredLanes|=v),u&=~v}if(t=De,a=xe,a=Vs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&jl(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Oi(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&jl(s),Al(a)){case 2:case 8:a=Uc;break;case 32:a=qs;break;case 268435456:a=zc;break;default:a=qs}return s=Qf.bind(null,e),a=Sl(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&jl(s),e.callbackPriority=2,e.callbackNode=null,2}function Qf(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Mr()&&e.callbackNode!==a)return null;var s=xe;return s=Vs(e,e===De?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Af(e,s,t),Kf(e,_t()),e.callbackNode!=null&&e.callbackNode===a?Qf.bind(null,e):null)}function Xf(e,t){if(Mr())return null;Af(e,t,!0)}function Jy(){rv(function(){(Ae&6)!==0?Sl(Dc,Xy):Yf()})}function mu(){if(Ya===0){var e=Jn;e===0&&(e=Bs,Bs<<=1,(Bs&261888)===0&&(Bs=256)),Ya=e}return Ya}function Jf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qs(""+e)}function Pf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Py(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var u=Jf((o[ft]||null).action),m=s.submitter;m&&(t=(t=m[ft]||null)?Jf(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var v=new Is("action","action",null,s,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ya!==0){var w=m?Pf(o,m):new FormData(o);Uo(a,{pending:!0,data:w,method:o.method,action:u},null,w)}}else typeof u=="function"&&(v.preventDefault(),w=m?Pf(o,m):new FormData(o),Uo(a,{pending:!0,data:w,method:o.method,action:u},u,w))},currentTarget:o}]})}}for(var pu=0;pu<Il.length;pu++){var gu=Il[pu],Iy=gu.toLowerCase(),Zy=gu[0].toUpperCase()+gu.slice(1);Kt(Iy,"on"+Zy)}Kt(Ed,"onAnimationEnd"),Kt(Td,"onAnimationIteration"),Kt(Ad,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(fy,"onTransitionRun"),Kt(my,"onTransitionStart"),Kt(py,"onTransitionCancel"),Kt(Cd,"onTransitionEnd"),Un("onMouseEnter",["mouseout","mouseover"]),Un("onMouseLeave",["mouseout","mouseover"]),Un("onPointerEnter",["pointerout","pointerover"]),Un("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ds));function If(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var m=s.length-1;0<=m;m--){var v=s[m],w=v.instance,z=v.currentTarget;if(v=v.listener,w!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=z;try{u(o)}catch(G){Fs(G)}o.currentTarget=null,u=w}else for(m=0;m<s.length;m++){if(v=s[m],w=v.instance,z=v.currentTarget,v=v.listener,w!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=z;try{u(o)}catch(G){Fs(G)}o.currentTarget=null,u=w}}}}function we(e,t){var a=t[Cl];a===void 0&&(a=t[Cl]=new Set);var s=e+"__bubble";a.has(s)||(Zf(t,e,2,!1),a.add(s))}function yu(e,t,a){var s=0;t&&(s|=4),Zf(a,e,s,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function vu(e){if(!e[Br]){e[Br]=!0,Gc.forEach(function(a){a!=="selectionchange"&&(Wy.has(a)||yu(a,!1,e),yu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Br]||(t[Br]=!0,yu("selectionchange",!1,t))}}function Zf(e,t,a,s){switch(Tm(t)){case 2:var o=Tv;break;case 8:o=Av;break;default:o=Du}a=o.bind(null,t,a,e),o=void 0,!Ll||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function bu(e,t,a,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var v=s.stateNode.containerInfo;if(v===o)break;if(m===4)for(m=s.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;v!==null;){if(m=Nn(v),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){s=u=m;continue e}v=v.parentNode}}s=s.return}td(function(){var z=u,G=zl(a),K=[];e:{var L=Od.get(e);if(L!==void 0){var H=Is,ee=e;switch(e){case"keypress":if(Js(a)===0)break e;case"keydown":case"keyup":H=Kg;break;case"focusin":ee="focus",H=$l;break;case"focusout":ee="blur",H=$l;break;case"beforeblur":case"afterblur":H=$l;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Jg;break;case Ed:case Td:case Ad:H=Mg;break;case Cd:H=Ig;break;case"scroll":case"scrollend":H=Ng;break;case"wheel":H=Wg;break;case"copy":case"cut":case"paste":H=qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=rd;break;case"toggle":case"beforetoggle":H=ey}var le=(t&4)!==0,ke=!le&&(e==="scroll"||e==="scrollend"),O=le?L!==null?L+"Capture":null:L;le=[];for(var j=z,U;j!==null;){var Y=j;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||O===null||(Y=Di(j,O),Y!=null&&le.push(hs(j,Y,U))),ke)break;j=j.return}0<le.length&&(L=new H(L,ee,null,a,G),K.push({event:L,listeners:le}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",L&&a!==Ul&&(ee=a.relatedTarget||a.fromElement)&&(Nn(ee)||ee[Rn]))break e;if((H||L)&&(L=G.window===G?G:(L=G.ownerDocument)?L.defaultView||L.parentWindow:window,H?(ee=a.relatedTarget||a.toElement,H=z,ee=ee?Nn(ee):null,ee!==null&&(ke=h(ee),le=ee.tag,ee!==ke||le!==5&&le!==27&&le!==6)&&(ee=null)):(H=null,ee=z),H!==ee)){if(le=id,Y="onMouseLeave",O="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(le=rd,Y="onPointerLeave",O="onPointerEnter",j="pointer"),ke=H==null?L:ki(H),U=ee==null?L:ki(ee),L=new le(Y,j+"leave",H,a,G),L.target=ke,L.relatedTarget=U,Y=null,Nn(G)===z&&(le=new le(O,j+"enter",ee,a,G),le.target=U,le.relatedTarget=ke,Y=le),ke=Y,H&&ee)t:{for(le=Fy,O=H,j=ee,U=0,Y=O;Y;Y=le(Y))U++;Y=0;for(var re=j;re;re=le(re))Y++;for(;0<U-Y;)O=le(O),U--;for(;0<Y-U;)j=le(j),Y--;for(;U--;){if(O===j||j!==null&&O===j.alternate){le=O;break t}O=le(O),j=le(j)}le=null}else le=null;H!==null&&Wf(K,L,H,le,!1),ee!==null&&ke!==null&&Wf(K,ke,ee,le,!0)}}e:{if(L=z?ki(z):window,H=L.nodeName&&L.nodeName.toLowerCase(),H==="select"||H==="input"&&L.type==="file")var Ee=md;else if(hd(L))if(pd)Ee=cy;else{Ee=oy;var ne=ly}else H=L.nodeName,!H||H.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?z&&Dl(z.elementType)&&(Ee=md):Ee=uy;if(Ee&&(Ee=Ee(e,z))){fd(K,Ee,a,G);break e}ne&&ne(e,L,z),e==="focusout"&&z&&L.type==="number"&&z.memoizedProps.value!=null&&kl(L,"number",L.value)}switch(ne=z?ki(z):window,e){case"focusin":(hd(ne)||ne.contentEditable==="true")&&(Hn=ne,Xl=z,$i=null);break;case"focusout":$i=Xl=Hn=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,Sd(K,a,G);break;case"selectionchange":if(hy)break;case"keydown":case"keyup":Sd(K,a,G)}var be;if(Gl)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Bn?cd(e,a)&&(Se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(ld&&a.locale!=="ko"&&(Bn||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Bn&&(be=ad()):(Ca=G,ql="value"in Ca?Ca.value:Ca.textContent,Bn=!0)),ne=Hr(z,Se),0<ne.length&&(Se=new sd(Se,e,null,a,G),K.push({event:Se,listeners:ne}),be?Se.data=be:(be=dd(a),be!==null&&(Se.data=be)))),(be=ay?ny(e,a):iy(e,a))&&(Se=Hr(z,"onBeforeInput"),0<Se.length&&(ne=new sd("onBeforeInput","beforeinput",null,a,G),K.push({event:ne,listeners:Se}),ne.data=be)),Py(K,e,z,a,G)}If(K,t)})}function hs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Hr(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Di(e,a),o!=null&&s.unshift(hs(e,o,u)),o=Di(e,t),o!=null&&s.push(hs(e,o,u))),e.tag===3)return s;e=e.return}return[]}function Fy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wf(e,t,a,s,o){for(var u=t._reactName,m=[];a!==null&&a!==s;){var v=a,w=v.alternate,z=v.stateNode;if(v=v.tag,w!==null&&w===s)break;v!==5&&v!==26&&v!==27||z===null||(w=z,o?(z=Di(a,u),z!=null&&m.unshift(hs(a,z,w))):o||(z=Di(a,u),z!=null&&m.push(hs(a,z,w)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var ev=/\r\n?/g,tv=/\u0000|\uFFFD/g;function Ff(e){return(typeof e=="string"?e:""+e).replace(ev,`
`).replace(tv,"")}function em(e,t){return t=Ff(t),Ff(e)===t}function Ne(e,t,a,s,o,u){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Mn(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Mn(e,""+s);break;case"className":Ys(e,"class",s);break;case"tabIndex":Ys(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(e,a,s);break;case"style":Fc(e,s,u);break;case"data":if(t!=="object"){Ys(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Qs(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Ne(e,t,"name",o.name,o,null),Ne(e,t,"formEncType",o.formEncType,o,null),Ne(e,t,"formMethod",o.formMethod,o,null),Ne(e,t,"formTarget",o.formTarget,o,null)):(Ne(e,t,"encType",o.encType,o,null),Ne(e,t,"method",o.method,o,null),Ne(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Qs(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=na);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Qs(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":we("beforetoggle",e),we("toggle",e),Gs(e,"popover",s);break;case"xlinkActuate":aa(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":aa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":aa(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":aa(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":aa(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":aa(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":aa(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":aa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":aa(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Gs(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Og.get(a)||a,Gs(e,a,s))}}function _u(e,t,a,s,o,u){switch(a){case"style":Fc(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Mn(e,s):(typeof s=="number"||typeof s=="bigint")&&Mn(e,""+s);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"onClick":s!=null&&(e.onclick=na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[ft]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Gs(e,a,s)}}}function ot(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var s=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,u,m,a,null)}}o&&Ne(e,t,"srcSet",a.srcSet,a,null),s&&Ne(e,t,"src",a.src,a,null);return;case"input":we("invalid",e);var v=u=m=o=null,w=null,z=null;for(s in a)if(a.hasOwnProperty(s)){var G=a[s];if(G!=null)switch(s){case"name":o=G;break;case"type":m=G;break;case"checked":w=G;break;case"defaultChecked":z=G;break;case"value":u=G;break;case"defaultValue":v=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,t));break;default:Ne(e,t,s,G,a,null)}}Pc(e,u,v,w,z,m,o,!1);return;case"select":we("invalid",e),s=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(v=a[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":m=v;break;case"multiple":s=v;default:Ne(e,t,o,v,a,null)}t=u,a=m,e.multiple=!!s,t!=null?zn(e,!!s,t,!1):a!=null&&zn(e,!!s,a,!0);return;case"textarea":we("invalid",e),u=o=s=null;for(m in a)if(a.hasOwnProperty(m)&&(v=a[m],v!=null))switch(m){case"value":s=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Ne(e,t,m,v,a,null)}Zc(e,s,o,u);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(s=a[w],s!=null))switch(w){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ne(e,t,w,s,a,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(s=0;s<ds.length;s++)we(ds[s],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(s=a[z],s!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,z,s,a,null)}return;default:if(Dl(t)){for(G in a)a.hasOwnProperty(G)&&(s=a[G],s!==void 0&&_u(e,t,G,s,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(s=a[v],s!=null&&Ne(e,t,v,s,a,null))}function av(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,v=null,w=null,z=null,G=null;for(H in a){var K=a[H];if(a.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=K;default:s.hasOwnProperty(H)||Ne(e,t,H,null,s,K)}}for(var L in s){var H=s[L];if(K=a[L],s.hasOwnProperty(L)&&(H!=null||K!=null))switch(L){case"type":u=H;break;case"name":o=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":m=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,t));break;default:H!==K&&Ne(e,t,L,H,s,K)}}Nl(e,m,v,w,z,G,u,o);return;case"select":H=m=v=L=null;for(u in a)if(w=a[u],a.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":H=w;default:s.hasOwnProperty(u)||Ne(e,t,u,null,s,w)}for(o in s)if(u=s[o],w=a[o],s.hasOwnProperty(o)&&(u!=null||w!=null))switch(o){case"value":L=u;break;case"defaultValue":v=u;break;case"multiple":m=u;default:u!==w&&Ne(e,t,o,u,s,w)}t=v,a=m,s=H,L!=null?zn(e,!!a,L,!1):!!s!=!!a&&(t!=null?zn(e,!!a,t,!0):zn(e,!!a,a?[]:"",!1));return;case"textarea":H=L=null;for(v in a)if(o=a[v],a.hasOwnProperty(v)&&o!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ne(e,t,v,null,s,o)}for(m in s)if(o=s[m],u=a[m],s.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":L=o;break;case"defaultValue":H=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&Ne(e,t,m,o,s,u)}Ic(e,L,H);return;case"option":for(var ee in a)if(L=a[ee],a.hasOwnProperty(ee)&&L!=null&&!s.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Ne(e,t,ee,null,s,L)}for(w in s)if(L=s[w],H=a[w],s.hasOwnProperty(w)&&L!==H&&(L!=null||H!=null))switch(w){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Ne(e,t,w,L,s,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)L=a[le],a.hasOwnProperty(le)&&L!=null&&!s.hasOwnProperty(le)&&Ne(e,t,le,null,s,L);for(z in s)if(L=s[z],H=a[z],s.hasOwnProperty(z)&&L!==H&&(L!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:Ne(e,t,z,L,s,H)}return;default:if(Dl(t)){for(var ke in a)L=a[ke],a.hasOwnProperty(ke)&&L!==void 0&&!s.hasOwnProperty(ke)&&_u(e,t,ke,void 0,s,L);for(G in s)L=s[G],H=a[G],!s.hasOwnProperty(G)||L===H||L===void 0&&H===void 0||_u(e,t,G,L,s,H);return}}for(var O in a)L=a[O],a.hasOwnProperty(O)&&L!=null&&!s.hasOwnProperty(O)&&Ne(e,t,O,null,s,L);for(K in s)L=s[K],H=a[K],!s.hasOwnProperty(K)||L===H||L==null&&H==null||Ne(e,t,K,L,s,H)}function tm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],u=o.transferSize,m=o.initiatorType,v=o.duration;if(u&&v&&tm(m)){for(m=0,v=o.responseEnd,s+=1;s<a.length;s++){var w=a[s],z=w.startTime;if(z>v)break;var G=w.transferSize,K=w.initiatorType;G&&tm(K)&&(w=w.responseEnd,m+=G*(w<v?1:(v-z)/(w-z)))}if(--s,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wu=null,xu=null;function $r(e){return e.nodeType===9?e:e.ownerDocument}function am(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Su(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ju=null;function iv(){var e=window.event;return e&&e.type==="popstate"?e===ju?!1:(ju=e,!0):(ju=null,!1)}var im=typeof setTimeout=="function"?setTimeout:void 0,sv=typeof clearTimeout=="function"?clearTimeout:void 0,sm=typeof Promise=="function"?Promise:void 0,rv=typeof queueMicrotask=="function"?queueMicrotask:typeof sm<"u"?function(e){return sm.resolve(null).then(e).catch(lv)}:im;function lv(e){setTimeout(function(){throw e})}function Ka(e){return e==="head"}function rm(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),fi(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")fs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fs(a);for(var u=a.firstChild;u;){var m=u.nextSibling,v=u.nodeName;u[Ni]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&fs(e.ownerDocument.body);a=o}while(a);fi(t)}function lm(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Eu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Eu(a),Ol(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ov(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ni])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function uv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vt(e.nextSibling),e===null))return null;return e}function om(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vt(e.nextSibling),e===null))return null;return e}function Tu(e){return e.data==="$?"||e.data==="$~"}function Au(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function cv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Cu=null;function um(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Vt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function cm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function dm(e,t,a){switch(t=$r(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function fs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ol(e)}var Gt=new Map,hm=new Set;function Vr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ba=C.d;C.d={f:dv,r:hv,D:fv,C:mv,L:pv,m:gv,X:vv,S:yv,M:bv};function dv(){var e=ba.f(),t=Dr();return e||t}function hv(e){var t=kn(e);t!==null&&t.tag===5&&t.type==="form"?Ch(t):ba.r(e)}var ci=typeof document>"u"?null:document;function fm(e,t,a){var s=ci;if(s&&typeof t=="string"&&t){var o=zt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),hm.has(o)||(hm.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),ot(t,"link",e),at(t),s.head.appendChild(t)))}}function fv(e){ba.D(e),fm("dns-prefetch",e,null)}function mv(e,t){ba.C(e,t),fm("preconnect",e,t)}function pv(e,t,a){ba.L(e,t,a);var s=ci;if(s&&e&&t){var o='link[rel="preload"][as="'+zt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+zt(a.imageSizes)+'"]')):o+='[href="'+zt(e)+'"]';var u=o;switch(t){case"style":u=di(e);break;case"script":u=hi(e)}Gt.has(u)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Gt.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(ms(u))||t==="script"&&s.querySelector(ps(u))||(t=s.createElement("link"),ot(t,"link",e),at(t),s.head.appendChild(t)))}}function gv(e,t){ba.m(e,t);var a=ci;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+zt(s)+'"][href="'+zt(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=hi(e)}if(!Gt.has(u)&&(e=_({rel:"modulepreload",href:e},t),Gt.set(u,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ps(u)))return}s=a.createElement("link"),ot(s,"link",e),at(s),a.head.appendChild(s)}}}function yv(e,t,a){ba.S(e,t,a);var s=ci;if(s&&e){var o=Dn(s).hoistableStyles,u=di(e);t=t||"default";var m=o.get(u);if(!m){var v={loading:0,preload:null};if(m=s.querySelector(ms(u)))v.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Gt.get(u))&&Ou(e,a);var w=m=s.createElement("link");at(w),ot(w,"link",e),w._p=new Promise(function(z,G){w.onload=z,w.onerror=G}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Gr(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:v},o.set(u,m)}}}function vv(e,t){ba.X(e,t);var a=ci;if(a&&e){var s=Dn(a).hoistableScripts,o=hi(e),u=s.get(o);u||(u=a.querySelector(ps(o)),u||(e=_({src:e,async:!0},t),(t=Gt.get(o))&&Ru(e,t),u=a.createElement("script"),at(u),ot(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function bv(e,t){ba.M(e,t);var a=ci;if(a&&e){var s=Dn(a).hoistableScripts,o=hi(e),u=s.get(o);u||(u=a.querySelector(ps(o)),u||(e=_({src:e,async:!0,type:"module"},t),(t=Gt.get(o))&&Ru(e,t),u=a.createElement("script"),at(u),ot(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function mm(e,t,a,s){var o=(o=te.current)?Vr(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=di(a.href),a=Dn(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=di(a.href);var u=Dn(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(ms(e)))&&!u._p&&(m.instance=u,m.state.loading=5),Gt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gt.set(e,a),u||_v(o,e,a,m.state))),t&&s===null)throw Error(l(528,""));return m}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=hi(a),a=Dn(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function di(e){return'href="'+zt(e)+'"'}function ms(e){return'link[rel="stylesheet"]['+e+"]"}function pm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function _v(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ot(t,"link",a),at(t),e.head.appendChild(t))}function hi(e){return'[src="'+zt(e)+'"]'}function ps(e){return"script[async]"+e}function gm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+zt(a.href)+'"]');if(s)return t.instance=s,at(s),s;var o=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),at(s),ot(s,"style",o),Gr(s,a.precedence,e),t.instance=s;case"stylesheet":o=di(a.href);var u=e.querySelector(ms(o));if(u)return t.state.loading|=4,t.instance=u,at(u),u;s=pm(a),(o=Gt.get(o))&&Ou(s,o),u=(e.ownerDocument||e).createElement("link"),at(u);var m=u;return m._p=new Promise(function(v,w){m.onload=v,m.onerror=w}),ot(u,"link",s),t.state.loading|=4,Gr(u,a.precedence,e),t.instance=u;case"script":return u=hi(a.src),(o=e.querySelector(ps(u)))?(t.instance=o,at(o),o):(s=a,(o=Gt.get(u))&&(s=_({},a),Ru(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),at(o),ot(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Gr(s,a.precedence,e));return t.instance}function Gr(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,m=0;m<s.length;m++){var v=s[m];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ru(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yr=null;function ym(e,t,a){if(Yr===null){var s=new Map,o=Yr=new Map;o.set(a,s)}else o=Yr,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Ni]||u[it]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var v=s.get(m);v?v.push(u):s.set(m,[u])}}return s}function vm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function wv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function bm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xv(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=di(s.href),u=t.querySelector(ms(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Kr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,at(u);return}u=t.ownerDocument||t,s=pm(s),(o=Gt.get(o))&&Ou(s,o),u=u.createElement("link"),at(u);var m=u;m._p=new Promise(function(v,w){m.onload=v,m.onerror=w}),ot(u,"link",s),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Kr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Nu=0;function Sv(e,t){return e.stylesheets&&e.count===0&&Xr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Xr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Nu===0&&(Nu=62500*nv());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Nu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Kr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qr=null;function Xr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qr=new Map,t.forEach(jv,e),Qr=null,Kr.call(e))}function jv(e,t){if(!(t.state.loading&4)){var a=Qr.get(e);if(a)var s=a.get(null);else{a=new Map,Qr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),s=m)}s&&a.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||s,u===s&&a.set(null,o),a.set(m,o),this.count++,s=Kr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var gs={$$typeof:B,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Ev(e,t,a,s,o,u,m,v,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=El(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=El(0),this.hiddenUpdates=El(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function _m(e,t,a,s,o,u,m,v,w,z,G,K){return e=new Ev(e,t,a,m,w,z,G,K,v),t=1,u===!0&&(t|=24),u=jt(3,null,null,t),e.current=u,u.stateNode=e,t=uo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:a,cache:t},mo(u),e}function wm(e){return e?(e=Gn,e):Gn}function xm(e,t,a,s,o,u){o=wm(o),s.context===null?s.context=o:s.pendingContext=o,s=Ua(t),s.payload={element:a},u=u===void 0?null:u,u!==null&&(s.callback=u),a=za(e,s,t),a!==null&&(bt(a,e,t),Ji(a,e,t))}function Sm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ku(e,t){Sm(e,t),(e=e.alternate)&&Sm(e,t)}function jm(e){if(e.tag===13||e.tag===31){var t=on(e,67108864);t!==null&&bt(t,e,67108864),ku(e,67108864)}}function Em(e){if(e.tag===13||e.tag===31){var t=Ot();t=Tl(t);var a=on(e,t);a!==null&&bt(a,e,t),ku(e,t)}}var Jr=!0;function Tv(e,t,a,s){var o=D.T;D.T=null;var u=C.p;try{C.p=2,Du(e,t,a,s)}finally{C.p=u,D.T=o}}function Av(e,t,a,s){var o=D.T;D.T=null;var u=C.p;try{C.p=8,Du(e,t,a,s)}finally{C.p=u,D.T=o}}function Du(e,t,a,s){if(Jr){var o=Uu(s);if(o===null)bu(e,t,s,Pr,a),Am(e,s);else if(Ov(o,e,t,a,s))s.stopPropagation();else if(Am(e,s),t&4&&-1<Cv.indexOf(e)){for(;o!==null;){var u=kn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=an(u.pendingLanes);if(m!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;m;){var w=1<<31-xt(m);v.entanglements[1]|=w,m&=~w}ea(u),(Ae&6)===0&&(Nr=_t()+500,cs(0))}}break;case 31:case 13:v=on(u,2),v!==null&&bt(v,u,2),Dr(),ku(u,2)}if(u=Uu(s),u===null&&bu(e,t,s,Pr,a),u===o)break;o=u}o!==null&&s.stopPropagation()}else bu(e,t,s,null,a)}}function Uu(e){return e=zl(e),zu(e)}var Pr=null;function zu(e){if(Pr=null,e=Nn(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Pr=e,null}function Tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fg()){case Dc:return 2;case Uc:return 8;case qs:case mg:return 32;case zc:return 268435456;default:return 32}default:return 32}}var Mu=!1,Qa=null,Xa=null,Ja=null,ys=new Map,vs=new Map,Pa=[],Cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Am(e,t){switch(e){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(t.pointerId)}}function bs(e,t,a,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=kn(t),t!==null&&jm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ov(e,t,a,s,o){switch(t){case"focusin":return Qa=bs(Qa,e,t,a,s,o),!0;case"dragenter":return Xa=bs(Xa,e,t,a,s,o),!0;case"mouseover":return Ja=bs(Ja,e,t,a,s,o),!0;case"pointerover":var u=o.pointerId;return ys.set(u,bs(ys.get(u)||null,e,t,a,s,o)),!0;case"gotpointercapture":return u=o.pointerId,vs.set(u,bs(vs.get(u)||null,e,t,a,s,o)),!0}return!1}function Cm(e){var t=Nn(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,$c(e.priority,function(){Em(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,$c(e.priority,function(){Em(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ir(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Uu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Ul=s,a.target.dispatchEvent(s),Ul=null}else return t=kn(a),t!==null&&jm(t),e.blockedOn=a,!1;t.shift()}return!0}function Om(e,t,a){Ir(e)&&a.delete(t)}function Rv(){Mu=!1,Qa!==null&&Ir(Qa)&&(Qa=null),Xa!==null&&Ir(Xa)&&(Xa=null),Ja!==null&&Ir(Ja)&&(Ja=null),ys.forEach(Om),vs.forEach(Om)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,Mu||(Mu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Rv)))}var Wr=null;function Rm(e){Wr!==e&&(Wr=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wr===e&&(Wr=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(zu(s||a)===null)continue;break}var u=kn(a);u!==null&&(e.splice(t,3),t-=3,Uo(u,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function fi(e){function t(w){return Zr(w,e)}Qa!==null&&Zr(Qa,e),Xa!==null&&Zr(Xa,e),Ja!==null&&Zr(Ja,e),ys.forEach(t),vs.forEach(t);for(var a=0;a<Pa.length;a++){var s=Pa[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Pa.length&&(a=Pa[0],a.blockedOn===null);)Cm(a),a.blockedOn===null&&Pa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],u=a[s+1],m=o[ft]||null;if(typeof u=="function")m||Rm(a);else if(m){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[ft]||null)v=m.formAction;else if(zu(o)!==null)continue}else v=m.action;typeof v=="function"?a[s+1]=v:(a.splice(s,3),s-=3),Rm(a)}}}function Nm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Lu(e){this._internalRoot=e}Fr.prototype.render=Lu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=Ot();xm(a,s,e,t,null,null)},Fr.prototype.unmount=Lu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xm(e.current,2,null,e,null,null),Dr(),t[Rn]=null}};function Fr(e){this._internalRoot=e}Fr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Pa.length&&t!==0&&t<Pa[a].priority;a++);Pa.splice(a,0,e),a===0&&Cm(e)}};var km=n.version;if(km!=="19.2.3")throw Error(l(527,km,"19.2.3"));C.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Nv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{Ci=el.inject(Nv),wt=el}catch{}}return ws.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,s="",o=qh,u=Bh,m=Hh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=_m(e,1,!1,null,null,a,s,null,o,u,m,Nm),e[Rn]=t.current,vu(e),new Lu(t)},ws.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var s=!1,o="",u=qh,m=Bh,v=Hh,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=_m(e,1,!0,t,a??null,s,o,w,u,m,v,Nm),t.context=wm(null),a=t.current,s=Ot(),s=Tl(s),o=Ua(s),o.callback=null,za(a,o,s),a=s,t.current.lanes=a,Ri(t,a),ea(t),e[Rn]=t.current,vu(e),new Fr(t)},ws.version="19.2.3",ws}var Vm;function Vv(){if(Vm)return Hu.exports;Vm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Hu.exports=$v(),Hu.exports}var Gv=Vv();var Gm="popstate";function Yv(i={}){function n(c,h){let{pathname:f="/",search:g="",hash:p=""}=Cn(c.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),tc("",{pathname:f,search:g,hash:p},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function r(c,h){let f=c.document.querySelector("base"),g="";if(f&&f.getAttribute("href")){let p=c.location.href,y=p.indexOf("#");g=y===-1?p:p.slice(0,y)}return g+"#"+(typeof h=="string"?h:Ts(h))}function l(c,h){Dt(c.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(h)})`)}return Qv(n,r,l,i)}function He(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function Dt(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Kv(){return Math.random().toString(36).substring(2,10)}function Ym(i,n){return{usr:i.state,key:i.key,idx:n}}function tc(i,n,r=null,l){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof n=="string"?Cn(n):n,state:r,key:n&&n.key||l||Kv()}}function Ts({pathname:i="/",search:n="",hash:r=""}){return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Cn(i){let n={};if(i){let r=i.indexOf("#");r>=0&&(n.hash=i.substring(r),i=i.substring(0,r));let l=i.indexOf("?");l>=0&&(n.search=i.substring(l),i=i.substring(0,l)),i&&(n.pathname=i)}return n}function Qv(i,n,r,l={}){let{window:c=document.defaultView,v5Compat:h=!1}=l,f=c.history,g="POP",p=null,y=b();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function b(){return(f.state||{idx:null}).idx}function _(){g="POP";let R=b(),q=R==null?null:R-y;y=R,p&&p({action:g,location:k.location,delta:q})}function x(R,q){g="PUSH";let N=tc(k.location,R,q);r&&r(N,R),y=b()+1;let B=Ym(N,y),$=k.createHref(N);try{f.pushState(B,"",$)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;c.location.assign($)}h&&p&&p({action:g,location:k.location,delta:1})}function T(R,q){g="REPLACE";let N=tc(k.location,R,q);r&&r(N,R),y=b();let B=Ym(N,y),$=k.createHref(N);f.replaceState(B,"",$),h&&p&&p({action:g,location:k.location,delta:0})}function A(R){return Xv(R)}let k={get action(){return g},get location(){return i(c,f)},listen(R){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(Gm,_),p=R,()=>{c.removeEventListener(Gm,_),p=null}},createHref(R){return n(c,R)},createURL:A,encodeLocation(R){let q=A(R);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:x,replace:T,go(R){return f.go(R)}};return k}function Xv(i,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),He(r,"No window.location.(origin|href) available to create URL");let l=typeof i=="string"?i:Ts(i);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function _p(i,n,r="/"){return Jv(i,n,r,!1)}function Jv(i,n,r,l){let c=typeof n=="string"?Cn(n):n,h=Sa(c.pathname||"/",r);if(h==null)return null;let f=wp(i);Pv(f);let g=null;for(let p=0;g==null&&p<f.length;++p){let y=r0(h);g=i0(f[p],y,l)}return g}function wp(i,n=[],r=[],l="",c=!1){let h=(f,g,p=c,y)=>{let b={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(l)&&p)return;He(b.relativePath.startsWith(l),`Absolute route path "${b.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(l.length)}let _=xa([l,b.relativePath]),x=r.concat(b);f.children&&f.children.length>0&&(He(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),wp(f.children,n,x,_,p)),!(f.path==null&&!f.index)&&n.push({path:_,score:a0(_,f.index),routesMeta:x})};return i.forEach((f,g)=>{if(f.path===""||!f.path?.includes("?"))h(f,g);else for(let p of xp(f.path))h(f,g,!0,p)}),n}function xp(i){let n=i.split("/");if(n.length===0)return[];let[r,...l]=n,c=r.endsWith("?"),h=r.replace(/\?$/,"");if(l.length===0)return c?[h,""]:[h];let f=xp(l.join("/")),g=[];return g.push(...f.map(p=>p===""?h:[h,p].join("/"))),c&&g.push(...f),g.map(p=>i.startsWith("/")&&p===""?"/":p)}function Pv(i){i.sort((n,r)=>n.score!==r.score?r.score-n.score:n0(n.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var Iv=/^:[\w-]+$/,Zv=3,Wv=2,Fv=1,e0=10,t0=-2,Km=i=>i==="*";function a0(i,n){let r=i.split("/"),l=r.length;return r.some(Km)&&(l+=t0),n&&(l+=Wv),r.filter(c=>!Km(c)).reduce((c,h)=>c+(Iv.test(h)?Zv:h===""?Fv:e0),l)}function n0(i,n){return i.length===n.length&&i.slice(0,-1).every((l,c)=>l===n[c])?i[i.length-1]-n[n.length-1]:0}function i0(i,n,r=!1){let{routesMeta:l}=i,c={},h="/",f=[];for(let g=0;g<l.length;++g){let p=l[g],y=g===l.length-1,b=h==="/"?n:n.slice(h.length)||"/",_=ol({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},b),x=p.route;if(!_&&y&&r&&!l[l.length-1].route.index&&(_=ol({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!_)return null;Object.assign(c,_.params),f.push({params:c,pathname:xa([h,_.pathname]),pathnameBase:d0(xa([h,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(h=xa([h,_.pathnameBase]))}return f}function ol(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,l]=s0(i.path,i.caseSensitive,i.end),c=n.match(r);if(!c)return null;let h=c[0],f=h.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:l.reduce((y,{paramName:b,isOptional:_},x)=>{if(b==="*"){let A=g[x]||"";f=h.slice(0,h.length-A.length).replace(/(.)\/+$/,"$1")}const T=g[x];return _&&!T?y[b]=void 0:y[b]=(T||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:f,pattern:i}}function s0(i,n=!1,r=!0){Dt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let l=[],c="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,p)=>(l.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(l.push({paramName:"*"}),c+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":i!==""&&i!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),l]}function r0(i){try{return i.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Dt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),i}}function Sa(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,l=i.charAt(r);return l&&l!=="/"?null:i.slice(r)||"/"}var l0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o0=i=>l0.test(i);function u0(i,n="/"){let{pathname:r,search:l="",hash:c=""}=typeof i=="string"?Cn(i):i,h;if(r)if(o0(r))h=r;else{if(r.includes("//")){let f=r;r=r.replace(/\/\/+/g,"/"),Dt(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${r}`)}r.startsWith("/")?h=Qm(r.substring(1),"/"):h=Qm(r,n)}else h=n;return{pathname:h,search:h0(l),hash:f0(c)}}function Qm(i,n){let r=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function Yu(i,n,r,l){return`Cannot include a '${i}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c0(i){return i.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function pc(i){let n=c0(i);return n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase)}function gc(i,n,r,l=!1){let c;typeof i=="string"?c=Cn(i):(c={...i},He(!c.pathname||!c.pathname.includes("?"),Yu("?","pathname","search",c)),He(!c.pathname||!c.pathname.includes("#"),Yu("#","pathname","hash",c)),He(!c.search||!c.search.includes("#"),Yu("#","search","hash",c)));let h=i===""||c.pathname==="",f=h?"/":c.pathname,g;if(f==null)g=r;else{let _=n.length-1;if(!l&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),_-=1;c.pathname=x.join("/")}g=_>=0?n[_]:"/"}let p=u0(c,g),y=f&&f!=="/"&&f.endsWith("/"),b=(h||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(y||b)&&(p.pathname+="/"),p}var xa=i=>i.join("/").replace(/\/\/+/g,"/"),d0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),h0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,f0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function m0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function p0(i){return i.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sp=["POST","PUT","PATCH","DELETE"];new Set(Sp);var g0=["GET",...Sp];new Set(g0);var Ti=E.createContext(null);Ti.displayName="DataRouter";var fl=E.createContext(null);fl.displayName="DataRouterState";E.createContext(!1);var jp=E.createContext({isTransitioning:!1});jp.displayName="ViewTransition";var y0=E.createContext(new Map);y0.displayName="Fetchers";var v0=E.createContext(null);v0.displayName="Await";var Yt=E.createContext(null);Yt.displayName="Navigation";var Us=E.createContext(null);Us.displayName="Location";var ta=E.createContext({outlet:null,matches:[],isDataRoute:!1});ta.displayName="Route";var yc=E.createContext(null);yc.displayName="RouteError";function b0(i,{relative:n}={}){He(Ai(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=E.useContext(Yt),{hash:c,pathname:h,search:f}=zs(i,{relative:n}),g=h;return r!=="/"&&(g=h==="/"?r:xa([r,h])),l.createHref({pathname:g,search:f,hash:c})}function Ai(){return E.useContext(Us)!=null}function ja(){return He(Ai(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Us).location}var Ep="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tp(i){E.useContext(Yt).static||E.useLayoutEffect(i)}function Ap(){let{isDataRoute:i}=E.useContext(ta);return i?k0():_0()}function _0(){He(Ai(),"useNavigate() may be used only in the context of a <Router> component.");let i=E.useContext(Ti),{basename:n,navigator:r}=E.useContext(Yt),{matches:l}=E.useContext(ta),{pathname:c}=ja(),h=JSON.stringify(pc(l)),f=E.useRef(!1);return Tp(()=>{f.current=!0}),E.useCallback((p,y={})=>{if(Dt(f.current,Ep),!f.current)return;if(typeof p=="number"){r.go(p);return}let b=gc(p,JSON.parse(h),c,y.relative==="path");i==null&&n!=="/"&&(b.pathname=b.pathname==="/"?n:xa([n,b.pathname])),(y.replace?r.replace:r.push)(b,y.state,y)},[n,r,h,c,i])}E.createContext(null);function zs(i,{relative:n}={}){let{matches:r}=E.useContext(ta),{pathname:l}=ja(),c=JSON.stringify(pc(r));return E.useMemo(()=>gc(i,JSON.parse(c),l,n==="path"),[i,c,l,n])}function w0(i,n){return Cp(i,n)}function Cp(i,n,r,l,c){He(Ai(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=E.useContext(Yt),{matches:f}=E.useContext(ta),g=f[f.length-1],p=g?g.params:{},y=g?g.pathname:"/",b=g?g.pathnameBase:"/",_=g&&g.route;{let N=_&&_.path||"";Op(y,!_||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let x=ja(),T;if(n){let N=typeof n=="string"?Cn(n):n;He(b==="/"||N.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${N.pathname}" was given in the \`location\` prop.`),T=N}else T=x;let A=T.pathname||"/",k=A;if(b!=="/"){let N=b.replace(/^\//,"").split("/");k="/"+A.replace(/^\//,"").split("/").slice(N.length).join("/")}let R=_p(i,{pathname:k});Dt(_||R!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Dt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=T0(R&&R.map(N=>Object.assign({},N,{params:Object.assign({},p,N.params),pathname:xa([b,h.encodeLocation?h.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?b:xa([b,h.encodeLocation?h.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),f,r,l,c);return n&&q?E.createElement(Us.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},q):q}function x0(){let i=N0(),n=m0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},h={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:h},"ErrorBoundary")," or"," ",E.createElement("code",{style:h},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},n),r?E.createElement("pre",{style:c},r):null,f)}var S0=E.createElement(x0,null),j0=class extends E.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){this.props.onError?this.props.onError(i,n):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?E.createElement(ta.Provider,{value:this.props.routeContext},E.createElement(yc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E0({routeContext:i,match:n,children:r}){let l=E.useContext(Ti);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(ta.Provider,{value:i},r)}function T0(i,n=[],r=null,l=null,c=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let h=i,f=r?.errors;if(f!=null){let b=h.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);He(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,b+1))}let g=!1,p=-1;if(r)for(let b=0;b<h.length;b++){let _=h[b];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=b),_.route.id){let{loaderData:x,errors:T}=r,A=_.route.loader&&!x.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||A){g=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}let y=r&&l?(b,_)=>{l(b,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:p0(r.matches),errorInfo:_})}:void 0;return h.reduceRight((b,_,x)=>{let T,A=!1,k=null,R=null;r&&(T=f&&_.route.id?f[_.route.id]:void 0,k=_.route.errorElement||S0,g&&(p<0&&x===0?(Op("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,R=null):p===x&&(A=!0,R=_.route.hydrateFallbackElement||null)));let q=n.concat(h.slice(0,x+1)),N=()=>{let B;return T?B=k:A?B=R:_.route.Component?B=E.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=b,E.createElement(E0,{match:_,routeContext:{outlet:b,matches:q,isDataRoute:r!=null},children:B})};return r&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?E.createElement(j0,{location:r.location,revalidation:r.revalidation,component:k,error:T,children:N(),routeContext:{outlet:null,matches:q,isDataRoute:!0},onError:y}):N()},null)}function vc(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A0(i){let n=E.useContext(Ti);return He(n,vc(i)),n}function C0(i){let n=E.useContext(fl);return He(n,vc(i)),n}function O0(i){let n=E.useContext(ta);return He(n,vc(i)),n}function bc(i){let n=O0(i),r=n.matches[n.matches.length-1];return He(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function R0(){return bc("useRouteId")}function N0(){let i=E.useContext(yc),n=C0("useRouteError"),r=bc("useRouteError");return i!==void 0?i:n.errors?.[r]}function k0(){let{router:i}=A0("useNavigate"),n=bc("useNavigate"),r=E.useRef(!1);return Tp(()=>{r.current=!0}),E.useCallback(async(c,h={})=>{Dt(r.current,Ep),r.current&&(typeof c=="number"?await i.navigate(c):await i.navigate(c,{fromRouteId:n,...h}))},[i,n])}var Xm={};function Op(i,n,r){!n&&!Xm[i]&&(Xm[i]=!0,Dt(!1,r))}E.memo(D0);function D0({routes:i,future:n,state:r,unstable_onError:l}){return Cp(i,void 0,r,l,n)}function U0({to:i,replace:n,state:r,relative:l}){He(Ai(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=E.useContext(Yt);Dt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=E.useContext(ta),{pathname:f}=ja(),g=Ap(),p=gc(i,pc(h),f,l==="path"),y=JSON.stringify(p);return E.useEffect(()=>{g(JSON.parse(y),{replace:n,state:r,relative:l})},[g,y,l,n,r]),null}function _a(i){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z0({basename:i="/",children:n=null,location:r,navigationType:l="POP",navigator:c,static:h=!1,unstable_useTransitions:f}){He(!Ai(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=i.replace(/^\/*/,"/"),p=E.useMemo(()=>({basename:g,navigator:c,static:h,unstable_useTransitions:f,future:{}}),[g,c,h,f]);typeof r=="string"&&(r=Cn(r));let{pathname:y="/",search:b="",hash:_="",state:x=null,key:T="default"}=r,A=E.useMemo(()=>{let k=Sa(y,g);return k==null?null:{location:{pathname:k,search:b,hash:_,state:x,key:T},navigationType:l}},[g,y,b,_,x,T,l]);return Dt(A!=null,`<Router basename="${g}"> is not able to match the URL "${y}${b}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:E.createElement(Yt.Provider,{value:p},E.createElement(Us.Provider,{children:n,value:A}))}function M0({children:i,location:n}){return w0(ac(i),n)}function ac(i,n=[]){let r=[];return E.Children.forEach(i,(l,c)=>{if(!E.isValidElement(l))return;let h=[...n,c];if(l.type===E.Fragment){r.push.apply(r,ac(l.props.children,h));return}He(l.type===_a,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||h.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=ac(l.props.children,h)),r.push(f)}),r}var rl="get",ll="application/x-www-form-urlencoded";function ml(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function L0(i){return ml(i)&&i.tagName.toLowerCase()==="button"}function q0(i){return ml(i)&&i.tagName.toLowerCase()==="form"}function B0(i){return ml(i)&&i.tagName.toLowerCase()==="input"}function H0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function $0(i,n){return i.button===0&&(!n||n==="_self")&&!H0(i)}var tl=null;function V0(){if(tl===null)try{new FormData(document.createElement("form"),0),tl=!1}catch{tl=!0}return tl}var G0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ku(i){return i!=null&&!G0.has(i)?(Dt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ll}"`),null):i}function Y0(i,n){let r,l,c,h,f;if(q0(i)){let g=i.getAttribute("action");l=g?Sa(g,n):null,r=i.getAttribute("method")||rl,c=Ku(i.getAttribute("enctype"))||ll,h=new FormData(i)}else if(L0(i)||B0(i)&&(i.type==="submit"||i.type==="image")){let g=i.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||g.getAttribute("action");if(l=p?Sa(p,n):null,r=i.getAttribute("formmethod")||g.getAttribute("method")||rl,c=Ku(i.getAttribute("formenctype"))||Ku(g.getAttribute("enctype"))||ll,h=new FormData(g,i),!V0()){let{name:y,type:b,value:_}=i;if(b==="image"){let x=y?`${y}.`:"";h.append(`${x}x`,"0"),h.append(`${x}y`,"0")}else y&&h.append(y,_)}}else{if(ml(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=rl,l=null,c=ll,f=i}return h&&c==="text/plain"&&(f=h,h=void 0),{action:l,method:r.toLowerCase(),encType:c,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _c(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function K0(i,n,r){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return l.pathname==="/"?l.pathname=`_root.${r}`:n&&Sa(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function Q0(i,n){if(i.id in n)return n[i.id];try{let r=await import(i.module);return n[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X0(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function J0(i,n,r){let l=await Promise.all(i.map(async c=>{let h=n.routes[c.route.id];if(h){let f=await Q0(h,r);return f.links?f.links():[]}return[]}));return W0(l.flat(1).filter(X0).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Jm(i,n,r,l,c,h){let f=(p,y)=>r[y]?p.route.id!==r[y].route.id:!0,g=(p,y)=>r[y].pathname!==p.pathname||r[y].route.path?.endsWith("*")&&r[y].params["*"]!==p.params["*"];return h==="assets"?n.filter((p,y)=>f(p,y)||g(p,y)):h==="data"?n.filter((p,y)=>{let b=l.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function P0(i,n,{includeHydrateFallback:r}={}){return I0(i.map(l=>{let c=n.routes[l.route.id];if(!c)return[];let h=[c.module];return c.clientActionModule&&(h=h.concat(c.clientActionModule)),c.clientLoaderModule&&(h=h.concat(c.clientLoaderModule)),r&&c.hydrateFallbackModule&&(h=h.concat(c.hydrateFallbackModule)),c.imports&&(h=h.concat(c.imports)),h}).flat(1))}function I0(i){return[...new Set(i)]}function Z0(i){let n={},r=Object.keys(i).sort();for(let l of r)n[l]=i[l];return n}function W0(i,n){let r=new Set;return new Set(n),i.reduce((l,c)=>{let h=JSON.stringify(Z0(c));return r.has(h)||(r.add(h),l.push({key:h,link:c})),l},[])}function Rp(){let i=E.useContext(Ti);return _c(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function F0(){let i=E.useContext(fl);return _c(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var wc=E.createContext(void 0);wc.displayName="FrameworkContext";function Np(){let i=E.useContext(wc);return _c(i,"You must render this element inside a <HydratedRouter> element"),i}function eb(i,n){let r=E.useContext(wc),[l,c]=E.useState(!1),[h,f]=E.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:b,onTouchStart:_}=n,x=E.useRef(null);E.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let k=q=>{q.forEach(N=>{f(N.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return x.current&&R.observe(x.current),()=>{R.disconnect()}}},[i]),E.useEffect(()=>{if(l){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[l]);let T=()=>{c(!0)},A=()=>{c(!1),f(!1)};return r?i!=="intent"?[h,x,{}]:[h,x,{onFocus:xs(g,T),onBlur:xs(p,A),onMouseEnter:xs(y,T),onMouseLeave:xs(b,A),onTouchStart:xs(_,T)}]:[!1,x,{}]}function xs(i,n){return r=>{i&&i(r),r.defaultPrevented||n(r)}}function tb({page:i,...n}){let{router:r}=Rp(),l=E.useMemo(()=>_p(r.routes,i,r.basename),[r.routes,i,r.basename]);return l?E.createElement(nb,{page:i,matches:l,...n}):null}function ab(i){let{manifest:n,routeModules:r}=Np(),[l,c]=E.useState([]);return E.useEffect(()=>{let h=!1;return J0(i,n,r).then(f=>{h||c(f)}),()=>{h=!0}},[i,n,r]),l}function nb({page:i,matches:n,...r}){let l=ja(),{manifest:c,routeModules:h}=Np(),{basename:f}=Rp(),{loaderData:g,matches:p}=F0(),y=E.useMemo(()=>Jm(i,n,p,c,l,"data"),[i,n,p,c,l]),b=E.useMemo(()=>Jm(i,n,p,c,l,"assets"),[i,n,p,c,l]),_=E.useMemo(()=>{if(i===l.pathname+l.search+l.hash)return[];let A=new Set,k=!1;if(n.forEach(q=>{let N=c.routes[q.route.id];!N||!N.hasLoader||(!y.some(B=>B.route.id===q.route.id)&&q.route.id in g&&h[q.route.id]?.shouldRevalidate||N.hasClientLoader?k=!0:A.add(q.route.id))}),A.size===0)return[];let R=K0(i,f,"data");return k&&A.size>0&&R.searchParams.set("_routes",n.filter(q=>A.has(q.route.id)).map(q=>q.route.id).join(",")),[R.pathname+R.search]},[f,g,l,c,y,n,i,h]),x=E.useMemo(()=>P0(b,c),[b,c]),T=ab(b);return E.createElement(E.Fragment,null,_.map(A=>E.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...r})),x.map(A=>E.createElement("link",{key:A,rel:"modulepreload",href:A,...r})),T.map(({key:A,link:k})=>E.createElement("link",{key:A,nonce:r.nonce,...k})))}function ib(...i){return n=>{i.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var kp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kp&&(window.__reactRouterVersion="7.10.1")}catch{}function sb({basename:i,children:n,unstable_useTransitions:r,window:l}){let c=E.useRef();c.current==null&&(c.current=Yv({window:l,v5Compat:!0}));let h=c.current,[f,g]=E.useState({action:h.action,location:h.location}),p=E.useCallback(y=>{r===!1?g(y):E.startTransition(()=>g(y))},[r]);return E.useLayoutEffect(()=>h.listen(p),[h,p]),E.createElement(z0,{basename:i,children:n,location:f.location,navigationType:f.action,navigator:h,unstable_useTransitions:r===!0})}var Dp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xc=E.forwardRef(function({onClick:n,discover:r="render",prefetch:l="none",relative:c,reloadDocument:h,replace:f,state:g,target:p,to:y,preventScrollReset:b,viewTransition:_,...x},T){let{basename:A,unstable_useTransitions:k}=E.useContext(Yt),R=typeof y=="string"&&Dp.test(y),q,N=!1;if(typeof y=="string"&&R&&(q=y,kp))try{let P=new URL(window.location.href),ae=y.startsWith("//")?new URL(P.protocol+y):new URL(y),fe=Sa(ae.pathname,A);ae.origin===P.origin&&fe!=null?y=fe+ae.search+ae.hash:N=!0}catch{Dt(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=b0(y,{relative:c}),[$,Z,F]=eb(l,x),I=ub(y,{replace:f,state:g,target:p,preventScrollReset:b,relative:c,viewTransition:_,unstable_useTransitions:k});function ge(P){n&&n(P),P.defaultPrevented||I(P)}let oe=E.createElement("a",{...x,...F,href:q||B,onClick:N||h?n:ge,ref:ib(T,Z),target:p,"data-discover":!R&&r==="render"?"true":void 0});return $&&!R?E.createElement(E.Fragment,null,oe,E.createElement(tb,{page:B})):oe});xc.displayName="Link";var rb=E.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:l="",end:c=!1,style:h,to:f,viewTransition:g,children:p,...y},b){let _=zs(f,{relative:y.relative}),x=ja(),T=E.useContext(fl),{navigator:A,basename:k}=E.useContext(Yt),R=T!=null&&mb(_)&&g===!0,q=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,N=x.pathname,B=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;r||(N=N.toLowerCase(),B=B?B.toLowerCase():null,q=q.toLowerCase()),B&&k&&(B=Sa(B,k)||B);const $=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let Z=N===q||!c&&N.startsWith(q)&&N.charAt($)==="/",F=B!=null&&(B===q||!c&&B.startsWith(q)&&B.charAt(q.length)==="/"),I={isActive:Z,isPending:F,isTransitioning:R},ge=Z?n:void 0,oe;typeof l=="function"?oe=l(I):oe=[l,Z?"active":null,F?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let P=typeof h=="function"?h(I):h;return E.createElement(xc,{...y,"aria-current":ge,className:oe,ref:b,style:P,to:f,viewTransition:g},typeof p=="function"?p(I):p)});rb.displayName="NavLink";var lb=E.forwardRef(({discover:i="render",fetcherKey:n,navigate:r,reloadDocument:l,replace:c,state:h,method:f=rl,action:g,onSubmit:p,relative:y,preventScrollReset:b,viewTransition:_,...x},T)=>{let{unstable_useTransitions:A}=E.useContext(Yt),k=hb(),R=fb(g,{relative:y}),q=f.toLowerCase()==="get"?"get":"post",N=typeof g=="string"&&Dp.test(g),B=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let Z=$.nativeEvent.submitter,F=Z?.getAttribute("formmethod")||f,I=()=>k(Z||$.currentTarget,{fetcherKey:n,method:F,navigate:r,replace:c,state:h,relative:y,preventScrollReset:b,viewTransition:_});A&&r!==!1?E.startTransition(()=>I()):I()};return E.createElement("form",{ref:T,method:q,action:R,onSubmit:l?p:B,...x,"data-discover":!N&&i==="render"?"true":void 0})});lb.displayName="Form";function ob(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Up(i){let n=E.useContext(Ti);return He(n,ob(i)),n}function ub(i,{target:n,replace:r,state:l,preventScrollReset:c,relative:h,viewTransition:f,unstable_useTransitions:g}={}){let p=Ap(),y=ja(),b=zs(i,{relative:h});return E.useCallback(_=>{if($0(_,n)){_.preventDefault();let x=r!==void 0?r:Ts(y)===Ts(b),T=()=>p(i,{replace:x,state:l,preventScrollReset:c,relative:h,viewTransition:f});g?E.startTransition(()=>T()):T()}},[y,p,b,r,l,n,i,c,h,f,g])}var cb=0,db=()=>`__${String(++cb)}__`;function hb(){let{router:i}=Up("useSubmit"),{basename:n}=E.useContext(Yt),r=R0(),l=i.fetch,c=i.navigate;return E.useCallback(async(h,f={})=>{let{action:g,method:p,encType:y,formData:b,body:_}=Y0(h,n);if(f.navigate===!1){let x=f.fetcherKey||db();await l(x,r,f.action||g,{preventScrollReset:f.preventScrollReset,formData:b,body:_,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await c(f.action||g,{preventScrollReset:f.preventScrollReset,formData:b,body:_,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,c,n,r])}function fb(i,{relative:n}={}){let{basename:r}=E.useContext(Yt),l=E.useContext(ta);He(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),h={...zs(i||".",{relative:n})},f=ja();if(i==null){h.search=f.search;let g=new URLSearchParams(h.search),p=g.getAll("index");if(p.some(b=>b==="")){g.delete("index"),p.filter(_=>_).forEach(_=>g.append("index",_));let b=g.toString();h.search=b?`?${b}`:""}}return(!i||i===".")&&c.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(h.pathname=h.pathname==="/"?r:xa([r,h.pathname])),Ts(h)}function mb(i,{relative:n}={}){let r=E.useContext(jp);He(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Up("useViewTransitionState"),c=zs(i,{relative:n});if(!r.isTransitioning)return!1;let h=Sa(r.currentLocation.pathname,l)||r.currentLocation.pathname,f=Sa(r.nextLocation.pathname,l)||r.nextLocation.pathname;return ol(c.pathname,f)!=null||ol(c.pathname,h)!=null}function pl(i,n){var r={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(i);c<l.length;c++)n.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(i,l[c])&&(r[l[c]]=i[l[c]]);return r}function pb(i,n,r,l){function c(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function g(b){try{y(l.next(b))}catch(_){f(_)}}function p(b){try{y(l.throw(b))}catch(_){f(_)}}function y(b){b.done?h(b.value):c(b.value).then(g,p)}y((l=l.apply(i,n||[])).next())})}const gb=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class Sc extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class yb extends Sc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Pm extends Sc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Im extends Sc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var nc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(nc||(nc={}));class vb{constructor(n,{headers:r={},customFetch:l,region:c=nc.Any}={}){this.url=n,this.headers=r,this.region=c,this.fetch=gb(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return pb(this,arguments,void 0,function*(r,l={}){var c;let h,f;try{const{headers:g,method:p,body:y,signal:b,timeout:_}=l;let x={},{region:T}=l;T||(T=this.region);const A=new URL(`${this.url}/${r}`);T&&T!=="any"&&(x["x-region"]=T,A.searchParams.set("forceFunctionRegion",T));let k;y&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",k=y):typeof y=="string"?(x["Content-Type"]="text/plain",k=y):typeof FormData<"u"&&y instanceof FormData?k=y:(x["Content-Type"]="application/json",k=JSON.stringify(y)):k=y;let R=b;_&&(f=new AbortController,h=setTimeout(()=>f.abort(),_),b?(R=f.signal,b.addEventListener("abort",()=>f.abort())):R=f.signal);const q=yield this.fetch(A.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),g),body:k,signal:R}).catch(Z=>{throw new yb(Z)}),N=q.headers.get("x-relay-error");if(N&&N==="true")throw new Pm(q);if(!q.ok)throw new Im(q);let B=((c=q.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),$;return B==="application/json"?$=yield q.json():B==="application/octet-stream"||B==="application/pdf"?$=yield q.blob():B==="text/event-stream"?$=q:B==="multipart/form-data"?$=yield q.formData():$=yield q.text(),{data:$,error:null,response:q}}catch(g){return{data:null,error:g,response:g instanceof Im||g instanceof Pm?g.context:void 0}}finally{h&&clearTimeout(h)}})}}var bb=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},_b=class{constructor(i){var n,r;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(r=i.isMaybeSingle)!==null&&r!==void 0?r:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,g=null,p=null,y=h.status,b=h.statusText;if(h.ok){var _,x;if(r.method!=="HEAD"){var T;const q=await h.text();q===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((T=r.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?g=q:g=JSON.parse(q))}const k=(_=r.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),R=(x=h.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");k&&R&&R.length>1&&(p=parseInt(R[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,p=null,y=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var A;const k=await h.text();try{f=JSON.parse(k),Array.isArray(f)&&h.status===404&&(g=[],f=null,y=200,b="OK")}catch{h.status===404&&k===""?(y=204,b="No Content"):f={message:k}}if(f&&r.isMaybeSingle&&(!(f==null||(A=f.details)===null||A===void 0)&&A.includes("0 rows"))&&(f=null,y=200,b="OK"),f&&r.shouldThrowOnError)throw new bb(f)}return{error:f,data:g,count:p,status:y,statusText:b}});return this.shouldThrowOnError||(c=c.catch(h=>{var f;let g="";const p=h?.cause;if(p){var y,b,_,x;const A=(y=p?.message)!==null&&y!==void 0?y:"",k=(b=p?.code)!==null&&b!==void 0?b:"";g=`${(_=h?.name)!==null&&_!==void 0?_:"FetchError"}: ${h?.message}`,g+=`

Caused by: ${(x=p?.name)!==null&&x!==void 0?x:"Error"}: ${A}`,k&&(g+=` (${k})`),p?.stack&&(g+=`
${p.stack}`)}else{var T;g=(T=h?.stack)!==null&&T!==void 0?T:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,n)}returns(){return this}overrideTypes(){return this}},wb=class extends _b{select(i){let n=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:r,foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:r=n}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,n,{foreignTable:r,referencedTable:l=r}={}){const c=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(h,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:r=!1,buffers:l=!1,wal:c=!1,format:h="text"}={}){var f;const g=[i?"analyze":null,n?"verbose":null,r?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${p}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const Zm=new RegExp("[,()]");var _i=class extends wb{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&Zm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${r})`),this}notIn(i,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&Zm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`not.in.(${r})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:r,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(i,`${c}fts${h}.${n}`),this}match(i){return Object.entries(i).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(i,n,r){return this.url.searchParams.append(i,`not.${n}.${r}`),this}or(i,{foreignTable:n,referencedTable:r=n}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,n,r){return this.url.searchParams.append(i,`${n}.${r}`),this}},xb=class{constructor(i,{headers:n={},schema:r,fetch:l}){this.url=i,this.headers=new Headers(n),this.schema=r,this.fetch=l}select(i,n){const{head:r=!1,count:l}=n??{},c=r?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new _i({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:n,defaultToNull:r=!0}={}){var l;const c="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(h.length>0){const f=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new _i({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:n,ignoreDuplicates:r=!1,count:l,defaultToNull:c=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(g.length>0){const p=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new _i({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:n}={}){var r;const l="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new _i({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:i}={}){var n;const r="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new _i({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},Sb=class zp{constructor(n,{headers:r={},schema:l,fetch:c}={}){this.url=n,this.headers=new Headers(r),this.schemaName=l,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new xb(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new zp(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,r={},{head:l=!1,get:c=!1,count:h}={}){var f;let g;const p=new URL(`${this.url}/rpc/${n}`);let y;l||c?(g=l?"HEAD":"GET",Object.entries(r).filter(([_,x])=>x!==void 0).map(([_,x])=>[_,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([_,x])=>{p.searchParams.append(_,x)})):(g="POST",y=r);const b=new Headers(this.headers);return h&&b.set("Prefer",`count=${h}`),new _i({method:g,url:p,headers:b,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class jb{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const l=r.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Eb="2.88.0",Tb=`realtime-js/${Eb}`,Mp="1.0.0",Ab="2.0.0",Wm=Mp,ic=1e4,Cb=1e3,Ob=100;var Za;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Za||(Za={}));var tt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(tt||(tt={}));var It;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(It||(It={}));var sc;(function(i){i.websocket="websocket"})(sc||(sc={}));var En;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(En||(En={}));class Rb{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const c=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var r,l;const c=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,r,l){var c,h;const f=n.topic,g=(c=n.ref)!==null&&c!==void 0?c:"",p=(h=n.join_ref)!==null&&h!==void 0?h:"",y=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},_=Object.keys(b).length===0?"":JSON.stringify(b);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+g.length+f.length+y.length+_.length,T=new ArrayBuffer(this.HEADER_LENGTH+x);let A=new DataView(T),k=0;A.setUint8(k++,this.KINDS.userBroadcastPush),A.setUint8(k++,p.length),A.setUint8(k++,g.length),A.setUint8(k++,f.length),A.setUint8(k++,y.length),A.setUint8(k++,_.length),A.setUint8(k++,r),Array.from(p,q=>A.setUint8(k++,q.charCodeAt(0))),Array.from(g,q=>A.setUint8(k++,q.charCodeAt(0))),Array.from(f,q=>A.setUint8(k++,q.charCodeAt(0))),Array.from(y,q=>A.setUint8(k++,q.charCodeAt(0))),Array.from(_,q=>A.setUint8(k++,q.charCodeAt(0)));var R=new Uint8Array(T.byteLength+l.byteLength);return R.set(new Uint8Array(T),0),R.set(new Uint8Array(l),T.byteLength),R.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[c,h,f,g,p]=l;return r({join_ref:c,ref:h,topic:f,event:g,payload:p})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,r,c)}}_decodeUserBroadcast(n,r,l){const c=r.getUint8(1),h=r.getUint8(2),f=r.getUint8(3),g=r.getUint8(4);let p=this.HEADER_LENGTH+4;const y=l.decode(n.slice(p,p+c));p=p+c;const b=l.decode(n.slice(p,p+h));p=p+h;const _=l.decode(n.slice(p,p+f));p=p+f;const x=n.slice(p,n.byteLength),T=g===this.JSON_ENCODING?JSON.parse(l.decode(x)):x,A={type:this.BROADCAST_EVENT,event:b,payload:T};return f>0&&(A.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}class Lp{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ue||(Ue={}));const Fm=(i,n,r={})=>{var l;const c=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((h,f)=>(h[f]=Nb(f,i,n,c),h),{}):{}},Nb=(i,n,r,l)=>{const c=n.find(g=>g.name===i),h=c?.type,f=r[i];return h&&!l.includes(h)?qp(h,f):rc(f)},qp=(i,n)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return zb(n,r)}switch(i){case Ue.bool:return kb(n);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return Db(n);case Ue.json:case Ue.jsonb:return Ub(n);case Ue.timestamp:return Mb(n);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return rc(n);default:return rc(n)}},rc=i=>i,kb=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Db=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},Ub=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},zb=(i,n)=>{if(typeof i!="string")return i;const r=i.length-1,l=i[r];if(i[0]==="{"&&l==="}"){let h;const f=i.slice(1,r);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(g=>qp(n,g))}return i},Mb=i=>typeof i=="string"?i.replace(" ","T"):i,Bp=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Qu{constructor(n,r,l={},c=ic){this.channel=n,this.event=r,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var ep;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(ep||(ep={}));class js{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=js.syncState(this.state,c,h,f),this.pendingDiffs.forEach(p=>{this.state=js.syncDiff(this.state,p,h,f)}),this.pendingDiffs=[],g()}),this.channel._on(l.diff,{},c=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=js.syncDiff(this.state,c,h,f),g())}),this.onJoin((c,h,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:f})}),this.onLeave((c,h,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,c){const h=this.cloneDeep(n),f=this.transformState(r),g={},p={};return this.map(h,(y,b)=>{f[y]||(p[y]=b)}),this.map(f,(y,b)=>{const _=h[y];if(_){const x=b.map(R=>R.presence_ref),T=_.map(R=>R.presence_ref),A=b.filter(R=>T.indexOf(R.presence_ref)<0),k=_.filter(R=>x.indexOf(R.presence_ref)<0);A.length>0&&(g[y]=A),k.length>0&&(p[y]=k)}else g[y]=b}),this.syncDiff(h,{joins:g,leaves:p},l,c)}static syncDiff(n,r,l,c){const{joins:h,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(h,(g,p)=>{var y;const b=(y=n[g])!==null&&y!==void 0?y:[];if(n[g]=this.cloneDeep(p),b.length>0){const _=n[g].map(T=>T.presence_ref),x=b.filter(T=>_.indexOf(T.presence_ref)<0);n[g].unshift(...x)}l(g,b,p)}),this.map(f,(g,p)=>{let y=n[g];if(!y)return;const b=p.map(_=>_.presence_ref);y=y.filter(_=>b.indexOf(_.presence_ref)<0),n[g]=y,c(g,y,p),y.length===0&&delete n[g]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const c=n[l];return"metas"in c?r[l]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[l]=c,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tp;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(tp||(tp={}));var Es;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Es||(Es={}));var wa;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(wa||(wa={}));class Si{constructor(n,r={config:{}},l){var c,h;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Qu(this,It.join,this.params,this.timeout),this.rejoinTimer=new Lp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new js(this),this.broadcastEndpointURL=Bp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:f,presence:g,private:p}}=this.params,y=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(T=>T.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[Es.PRESENCE]&&this.bindings[Es.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,_={},x={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(T=>n?.(wa.CHANNEL_ERROR,T)),this._onClose(()=>n?.(wa.CLOSED)),this.updateJoinPayload(Object.assign({config:x},_)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:T})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){n?.(wa.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,R=(A=k?.length)!==null&&A!==void 0?A:0,q=[];for(let N=0;N<R;N++){const B=k[N],{filter:{event:$,schema:Z,table:F,filter:I}}=B,ge=T&&T[N];if(ge&&ge.event===$&&Si.isFilterValueEqual(ge.schema,Z)&&Si.isFilterValueEqual(ge.table,F)&&Si.isFilterValueEqual(ge.filter,I))q.push(Object.assign(Object.assign({},B),{id:ge.id}));else{this.unsubscribe(),this.state=tt.errored,n?.(wa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=q,n&&n(wa.SUBSCRIBED);return}}).receive("error",T=>{this.state=tt.errored,n?.(wa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{n?.(wa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===tt.joined&&n===Es.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var c;if(r==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let p=g.statusText;try{const y=await g.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(n,r={}){var l,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,g,p;const y=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&h("ok"),y.receive("ok",()=>h("ok")),y.receive("error",()=>h("error")),y.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Qu(this,It.leave,{},n),l.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const c=new AbortController,h=setTimeout(()=>c.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(h),f}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Qu(this,n,r,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Ob){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var c,h;const f=n.toLocaleLowerCase(),{close:g,error:p,leave:y,join:b}=It;if(l&&[g,p,y,b].indexOf(f)>=0&&l!==this._joinRef())return;let x=this._onMessage(f,r,l);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(T=>{var A,k,R;return((A=T.filter)===null||A===void 0?void 0:A.event)==="*"||((R=(k=T.filter)===null||k===void 0?void 0:k.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===f}).map(T=>T.callback(x,l)):(h=this.bindings[f])===null||h===void 0||h.filter(T=>{var A,k,R,q,N,B;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in T){const $=T.id,Z=(A=T.filter)===null||A===void 0?void 0:A.event;return $&&((k=r.ids)===null||k===void 0?void 0:k.includes($))&&(Z==="*"||Z?.toLocaleLowerCase()===((R=r.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const $=(N=(q=T?.filter)===null||q===void 0?void 0:q.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return $==="*"||$===((B=r?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===f}).map(T=>{if(typeof x=="object"&&"ids"in x){const A=x.data,{schema:k,table:R,commit_timestamp:q,type:N,errors:B}=A;x=Object.assign(Object.assign({},{schema:k,table:R,commit_timestamp:q,eventType:N,new:{},old:{},errors:B}),this._getPayloadRecords(A))}T.callback(x,l)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const c=n.toLocaleLowerCase(),h={type:c,filter:r,callback:l};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&Si.isEqual(c.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(It.close,{},n)}_onError(n){this._on(It.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Fm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Fm(n.columns,n.old_record)),r}}const Xu=()=>{},al={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Lb=[1e3,2e3,5e3,1e4],qb=1e4,Bb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hb{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ic,this.transport=null,this.heartbeatIntervalMs=al.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xu,this.ref=0,this.reconnectTimer=null,this.vsn=Wm,this.logger=Xu,this.conn=null,this.sendBuffer=[],this.serializer=new Rb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${sc.websocket}`,this.httpEndpoint=Bp(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jb.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Za.connecting:return En.Connecting;case Za.open:return En.Open;case Za.closing:return En.Closing;default:return En.Closed}}isConnected(){return this.connectionState()===En.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,c=this.getChannels().find(h=>h.topic===l);if(c)return c;{const h=new Si(`realtime:${n}`,r,this);return this.channels.push(h),h}}push(n){const{topic:r,event:l,payload:c,ref:h}=n,f=()=>{this.encode(n,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${r} ${l} (${h})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Cb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},al.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:h,ref:f}=r,g=f?`(${f})`:"",p=h.status||"";this.log("receive",`${p} ${l} ${c} ${g}`.trim(),h),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(c,h,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Za.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Za.open||this.conn.readyState===Za.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(It.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${n}${l}${c}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([Bb],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,l=!1;if(n)r=n,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(c=>{const h={access_token:r,version:Tb};r&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(It.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Lp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},al.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,c,h,f,g,p,y,b,_,x,T;switch(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:ic,this.heartbeatIntervalMs=(c=n?.heartbeatIntervalMs)!==null&&c!==void 0?c:al.HEARTBEAT_INTERVAL,this.worker=(h=n?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=n?.heartbeatCallback)!==null&&g!==void 0?g:Xu,this.vsn=(p=n?.vsn)!==null&&p!==void 0?p:Wm,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n?.reconnectAfterMs)!==null&&y!==void 0?y:(A=>Lb[A-1]||qb),this.vsn){case Mp:this.encode=(b=n?.encode)!==null&&b!==void 0?b:((A,k)=>k(JSON.stringify(A))),this.decode=(_=n?.decode)!==null&&_!==void 0?_:((A,k)=>k(JSON.parse(A)));break;case Ab:this.encode=(x=n?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(T=n?.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var As=class extends Error{constructor(i,n){super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function $b(i,n,r){const l=new URL(n,i);if(r)for(const[c,h]of Object.entries(r))h!==void 0&&l.searchParams.set(c,h);return l.toString()}async function Vb(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Gb(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:c,body:h,headers:f}){const g=$b(i.baseUrl,l,c),p=await Vb(i.auth),y=await n(g,{method:r,headers:{...h?{"Content-Type":"application/json"}:{},...p,...f},body:h?JSON.stringify(h):void 0}),b=await y.text(),_=(y.headers.get("content-type")||"").includes("application/json"),x=_&&b?JSON.parse(b):b;if(!y.ok){const T=_?x:void 0,A=T?.error;throw new As(A?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:A?.type,icebergCode:A?.code,details:T})}return{status:y.status,headers:y.headers,data:x}}}}function nl(i){return i.join("")}var Yb=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:nl(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,n){const r={namespace:i.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nl(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nl(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nl(i.namespace)}`}),!0}catch(n){if(n instanceof As&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(r){if(r instanceof As&&r.status===409)return;throw r}}};function mi(i){return i.join("")}var Kb=class{constructor(i,n="",r){this.client=i,this.prefix=n,this.accessDelegation=r}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mi(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mi(i.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(i,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mi(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mi(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mi(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mi(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(r){if(r instanceof As&&r.status===404)return!1;throw r}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(r){if(r instanceof As&&r.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw r}}},Qb=class{constructor(i){let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const r=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Gb({baseUrl:r,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new Yb(this.client,n),this.tableOps=new Kb(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}},gl=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function $e(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Xb=class extends gl{constructor(i,n,r){super(i),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lc=class extends gl{constructor(i,n){super(i),this.name="StorageUnknownError",this.originalError=n}};const jc=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Jb=()=>Response,oc=i=>{if(Array.isArray(i))return i.map(r=>oc(r));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([r,l])=>{const c=r.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[c]=oc(l)}),n},Pb=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Ib=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Cs(i){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cs(i)}function Zb(i,n){if(Cs(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,n);if(Cs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Wb(i){var n=Zb(i,"string");return Cs(n)=="symbol"?n:n+""}function Fb(i,n,r){return(n=Wb(n))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function ap(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),r.push.apply(r,l)}return r}function ce(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ap(Object(r),!0).forEach(function(l){Fb(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):ap(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const Ju=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},e_=async(i,n,r)=>{i instanceof await Jb()&&!r?.noResolveJson?i.json().then(l=>{const c=i.status||500,h=l?.statusCode||c+"";n(new Xb(Ju(l),c,h))}).catch(l=>{n(new lc(Ju(l),l))}):n(new lc(Ju(i),i))},t_=(i,n,r,l)=>{const c={method:i,headers:n?.headers||{}};return i==="GET"||!l?c:(Pb(l)?(c.headers=ce({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(l)):c.body=l,n?.duplex&&(c.duplex=n.duplex),ce(ce({},c),r))};async function Ms(i,n,r,l,c,h){return new Promise((f,g)=>{i(r,t_(n,l,c,h)).then(p=>{if(!p.ok)throw p;return l?.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>e_(p,g,l))})}async function Os(i,n,r,l){return Ms(i,"GET",n,r,l)}async function Pt(i,n,r,l,c){return Ms(i,"POST",n,l,c,r)}async function uc(i,n,r,l,c){return Ms(i,"PUT",n,l,c,r)}async function a_(i,n,r,l){return Ms(i,"HEAD",n,ce(ce({},r),{},{noResolveJson:!0}),l)}async function Ec(i,n,r,l,c){return Ms(i,"DELETE",n,l,c,r)}var n_=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}};let Hp;Hp=Symbol.toStringTag;var i_=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[Hp]="BlobDownloadBuilder",this.promise=null}asStream(){return new n_(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}};const s_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},np={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var r_=class{constructor(i,n={},r,l){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.bucketId=r,this.fetch=jc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,n,r,l){var c=this;try{let h;const f=ce(ce({},np),l);let g=ce(ce({},c.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),p&&h.append("metadata",c.encodeMetadata(p)),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),p&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(p))):(h=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,p&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(g=ce(ce({},g),l.headers));const y=c._removeEmptyFolders(n),b=c._getFinalPath(y),_=await(i=="PUT"?uc:Pt)(c.fetch,`${c.url}/object/${b}`,h,ce({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:_.Id,fullPath:_.Key},error:null}}catch(h){if(c.shouldThrowOnError)throw h;if($e(h))return{data:null,error:h};throw h}}async upload(i,n,r){return this.uploadOrUpdate("POST",i,n,r)}async uploadToSignedUrl(i,n,r,l){var c=this;const h=c._removeEmptyFolders(i),f=c._getFinalPath(h),g=new URL(c.url+`/object/upload/sign/${f}`);g.searchParams.set("token",n);try{let p;const y=ce({upsert:np.upsert},l),b=ce(ce({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",y.cacheControl)):(p=r,b["cache-control"]=`max-age=${y.cacheControl}`,b["content-type"]=y.contentType),{data:{path:h,fullPath:(await uc(c.fetch,g.toString(),p,{headers:b})).Key},error:null}}catch(p){if(c.shouldThrowOnError)throw p;if($e(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(i,n){var r=this;try{let l=r._getFinalPath(i);const c=ce({},r.headers);n?.upsert&&(c["x-upsert"]="true");const h=await Pt(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:c}),f=new URL(r.url+h.url),g=f.searchParams.get("token");if(!g)throw new gl("No token returned by API");return{data:{signedUrl:f.toString(),path:i,token:g},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async update(i,n,r){return this.uploadOrUpdate("PUT",i,n,r)}async move(i,n,r){var l=this;try{return{data:await Pt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:i,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async copy(i,n,r){var l=this;try{return{data:{path:(await Pt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:i,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrl(i,n,r){var l=this;try{let c=l._getFinalPath(i),h=await Pt(l.fetch,`${l.url}/object/sign/${c}`,ce({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return h={signedUrl:encodeURI(`${l.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrls(i,n,r){var l=this;try{const c=await Pt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:i},{headers:l.headers}),h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(f=>ce(ce({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${h}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}download(i,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),c=l?`?${l}`:"",h=this._getFinalPath(i),f=()=>Os(this.fetch,`${this.url}/${r}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new i_(f,this.shouldThrowOnError)}async info(i){var n=this;const r=n._getFinalPath(i);try{return{data:oc(await Os(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async exists(i){var n=this;const r=n._getFinalPath(i);try{return await a_(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l)&&l instanceof lc){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}}getPublicUrl(i,n){const r=this._getFinalPath(i),l=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${g}`)}}}async remove(i){var n=this;try{return{data:await Ec(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async list(i,n,r){var l=this;try{const c=ce(ce(ce({},s_),n),{},{prefix:i||""});return{data:await Pt(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},r),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async listV2(i,n){var r=this;try{const l=ce({},i);return{data:await Pt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},n),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const $p="2.88.0",Vp={"X-Client-Info":`storage-js/${$p}`};var l_=class{constructor(i,n={},r,l){this.shouldThrowOnError=!1;const c=new URL(i);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=ce(ce({},Vp),n),this.fetch=jc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var n=this;try{const r=n.listBucketOptionsToQueryString(i);return{data:await Os(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async getBucket(i){var n=this;try{return{data:await Os(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async createBucket(i,n={public:!1}){var r=this;try{return{data:await Pt(r.fetch,`${r.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async updateBucket(i,n){var r=this;try{return{data:await uc(r.fetch,`${r.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async emptyBucket(i){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async deleteBucket(i){var n=this;try{return{data:await Ec(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},o_=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ce(ce({},Vp),n),this.fetch=jc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async listBuckets(i){var n=this;try{const r=new URLSearchParams;i?.limit!==void 0&&r.set("limit",i.limit.toString()),i?.offset!==void 0&&r.set("offset",i.offset.toString()),i?.sortColumn&&r.set("sortColumn",i.sortColumn),i?.sortOrder&&r.set("sortOrder",i.sortOrder),i?.search&&r.set("search",i.search);const l=r.toString(),c=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await Os(n.fetch,c,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async deleteBucket(i){var n=this;try{return{data:await Ec(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}from(i){var n=this;if(!Ib(i))throw new gl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Qb({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(c,h){const f=c[h];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(c,g),error:null}}catch(p){if(l)throw p;return{data:null,error:p}}}}})}};const Tc={"X-Client-Info":`storage-js/${$p}`,"Content-Type":"application/json"};var Gp=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Nt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var Pu=class extends Gp{constructor(i,n,r){super(i),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},u_=class extends Gp{constructor(i,n){super(i),this.name="StorageVectorsUnknownError",this.originalError=n}};const Ac=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),c_=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},ip=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),d_=async(i,n,r)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!r?.noResolveJson){const l=i.status||500,c=i;if(typeof c.json=="function")c.json().then(h=>{const f=h?.statusCode||h?.code||l+"";n(new Pu(ip(h),l,f))}).catch(()=>{const h=l+"";n(new Pu(c.statusText||`HTTP ${l} error`,l,h))});else{const h=l+"";n(new Pu(c.statusText||`HTTP ${l} error`,l,h))}}else n(new u_(ip(i),i))},h_=(i,n,r,l)=>{const c={method:i,headers:n?.headers||{}};return l?(c_(l)?(c.headers=ce({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(l)):c.body=l,ce(ce({},c),r)):c};async function f_(i,n,r,l,c,h){return new Promise((f,g)=>{i(r,h_(n,l,c,h)).then(p=>{if(!p.ok)throw p;if(l?.noResolveJson)return p;const y=p.headers.get("content-type");return!y||!y.includes("application/json")?{}:p.json()}).then(p=>f(p)).catch(p=>d_(p,g,l))})}async function kt(i,n,r,l,c){return f_(i,"POST",n,l,c,r)}var m_=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ce(ce({},Tc),n),this.fetch=Ac(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var n=this;try{return{data:await kt(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async getIndex(i,n){var r=this;try{return{data:await kt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Nt(l))return{data:null,error:l};throw l}}async listIndexes(i){var n=this;try{return{data:await kt(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async deleteIndex(i,n){var r=this;try{return{data:await kt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:r.headers})||{},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Nt(l))return{data:null,error:l};throw l}}},p_=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ce(ce({},Tc),n),this.fetch=Ac(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var n=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await kt(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async getVectors(i){var n=this;try{return{data:await kt(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async listVectors(i){var n=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await kt(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async queryVectors(i){var n=this;try{return{data:await kt(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async deleteVectors(i){var n=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await kt(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}},g_=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ce(ce({},Tc),n),this.fetch=Ac(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await kt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async getBucket(i){var n=this;try{return{data:await kt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async listBuckets(i={}){var n=this;try{return{data:await kt(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async deleteBucket(i){var n=this;try{return{data:await kt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}},y_=class extends g_{constructor(i,n={}){super(i,n.headers||{},n.fetch)}from(i){return new v_(this.url,this.headers,i,this.fetch)}async createBucket(i){var n=()=>super.createBucket,r=this;return n().call(r,i)}async getBucket(i){var n=()=>super.getBucket,r=this;return n().call(r,i)}async listBuckets(i={}){var n=()=>super.listBuckets,r=this;return n().call(r,i)}async deleteBucket(i){var n=()=>super.deleteBucket,r=this;return n().call(r,i)}},v_=class extends m_{constructor(i,n,r,l){super(i,n,l),this.vectorBucketName=r}async createIndex(i){var n=()=>super.createIndex,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(i={}){var n=()=>super.listIndexes,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(i){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,i)}async deleteIndex(i){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,i)}index(i){return new b_(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},b_=class extends p_{constructor(i,n,r,l,c){super(i,n,c),this.vectorBucketName=r,this.indexName=l}async putVectors(i){var n=()=>super.putVectors,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(i){var n=()=>super.getVectors,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(i={}){var n=()=>super.listVectors,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(i){var n=()=>super.queryVectors,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(i){var n=()=>super.deleteVectors,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},__=class extends l_{constructor(i,n={},r,l){super(i,n,r,l)}from(i){return new r_(this.url,this.headers,i,this.fetch)}get vectors(){return new y_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new o_(this.url+"/iceberg",this.headers,this.fetch)}};const Yp="2.88.0",wi=30*1e3,cc=3,Iu=cc*wi,w_="http://localhost:9999",x_="supabase.auth.token",S_={"X-Client-Info":`gotrue-js/${Yp}`},dc="X-Supabase-Api-Version",Kp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},j_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E_=600*1e3;class Rs extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function se(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class T_ extends Rs{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function A_(i){return se(i)&&i.name==="AuthApiError"}class Tn extends Rs{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Ea extends Rs{constructor(n,r,l,c){super(n,l,c),this.name=r,this.status=l}}class Rt extends Ea{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function C_(i){return se(i)&&i.name==="AuthSessionMissingError"}class pi extends Ea{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class il extends Ea{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class sl extends Ea{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O_(i){return se(i)&&i.name==="AuthImplicitGrantRedirectError"}class sp extends Ea{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class R_ extends Ea{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class hc extends Ea{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Zu(i){return se(i)&&i.name==="AuthRetryableFetchError"}class rp extends Ea{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class fc extends Ea{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lp=` 	
\r=`.split(""),N_=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<lp.length;n+=1)i[lp[n].charCodeAt(0)]=-2;for(let n=0;n<ul.length;n+=1)i[ul[n].charCodeAt(0)]=n;return i})();function op(i,n,r){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(ul[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(ul[l]),n.queuedBits-=6}}function Qp(i,n,r){const l=N_[i];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function up(i){const n=[],r=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=f=>{U_(f,l,r)};for(let f=0;f<i.length;f+=1)Qp(i.charCodeAt(f),c,h);return n.join("")}function k_(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function D_(i,n){for(let r=0;r<i.length;r+=1){let l=i.charCodeAt(r);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(i.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}k_(l,n)}}function U_(i,n,r){if(n.utf8seq===0){if(i<=127){r(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function ji(i){const n=[],r={queue:0,queuedBits:0},l=c=>{n.push(c)};for(let c=0;c<i.length;c+=1)Qp(i.charCodeAt(c),r,l);return new Uint8Array(n)}function z_(i){const n=[];return D_(i,r=>n.push(r)),new Uint8Array(n)}function An(i){const n=[],r={queue:0,queuedBits:0},l=c=>{n.push(c)};return i.forEach(c=>op(c,r,l)),op(null,r,l),n.join("")}function M_(i){return Math.round(Date.now()/1e3)+i}function L_(){return Symbol("auth-callback")}const ct=()=>typeof window<"u"&&typeof document<"u",wn={tested:!1,writable:!1},Xp=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wn.tested)return wn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),wn.tested=!0,wn.writable=!0}catch{wn.tested=!0,wn.writable=!1}return wn.writable};function q_(i){const n={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,h)=>{n[h]=c})}catch{}return r.searchParams.forEach((l,c)=>{n[c]=l}),n}const Jp=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),B_=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",xi=async(i,n,r)=>{await i.setItem(n,JSON.stringify(r))},xn=async(i,n)=>{const r=await i.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ut=async(i,n)=>{await i.removeItem(n)};class yl{constructor(){this.promise=new yl.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}yl.promiseConstructor=Promise;function Wu(i){const n=i.split(".");if(n.length!==3)throw new fc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!j_.test(n[l]))throw new fc("JWT not in base64url format");return{header:JSON.parse(up(n[0])),payload:JSON.parse(up(n[1])),signature:ji(n[2]),raw:{header:n[0],payload:n[1]}}}async function H_(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function $_(i,n){return new Promise((l,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await i(h);if(!n(h,null,f)){l(f);return}}catch(f){if(!n(h,f)){c(f);return}}})()})}function V_(i){return("0"+i.toString(16)).substr(-2)}function G_(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let c="";for(let h=0;h<56;h++)c+=r.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(n),Array.from(n,V_).join("")}async function Y_(i){const r=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(l);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function K_(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await Y_(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gi(i,n,r=!1){const l=G_();let c=l;r&&(c+="/PASSWORD_RECOVERY"),await xi(i,`${n}-code-verifier`,c);const h=await K_(l);return[h,l===h?"plain":"s256"]}const Q_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function X_(i){const n=i.headers.get(dc);if(!n||!n.match(Q_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function J_(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function P_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const I_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yi(i){if(!I_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fu(){const i={};return new Proxy(i,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Z_(i,n){return new Proxy(i,{get:(r,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const h=l.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,c)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,c)}})}function cp(i){return JSON.parse(JSON.stringify(i))}const jn=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),W_=[502,503,504];async function dp(i){var n;if(!B_(i))throw new hc(jn(i),0);if(W_.includes(i.status))throw new hc(jn(i),i.status);let r;try{r=await i.json()}catch(h){throw new Tn(jn(h),h)}let l;const c=X_(i);if(c&&c.getTime()>=Kp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new rp(jn(r),i.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Rt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new rp(jn(r),i.status,r.weak_password.reasons);throw new T_(jn(r),i.status||500,l)}const F_=(i,n,r,l)=>{const c={method:i,headers:n?.headers||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),r))};async function ue(i,n,r,l){var c;const h=Object.assign({},l?.headers);h[dc]||(h[dc]=Kp["2024-01-01"].name),l?.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const f=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await ew(i,n,r+g,{headers:h,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function ew(i,n,r,l,c,h){const f=F_(n,l,c,h);let g;try{g=await i(r,Object.assign({},f))}catch(p){throw console.error(p),new hc(jn(p),0)}if(g.ok||await dp(g),l?.noResolveJson)return g;try{return await g.json()}catch(p){await dp(p)}}function Jt(i){var n;let r=null;nw(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=M_(i.expires_in)));const l=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:r,user:l},error:null}}function hp(i){const n=Jt(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=i.weak_password),n}function Wa(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function tw(i){return{data:i,error:null}}function aw(i){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:c,verification_type:h}=i,f=pl(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:r,hashed_token:l,redirect_to:c,verification_type:h},p=Object.assign({},f);return{data:{properties:g,user:p},error:null}}function fp(i){return i}function nw(i){return i.access_token&&i.refresh_token&&i.expires_in}const ec=["global","local","others"];class iw{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=Jp(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=ec[0]){if(ec.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ec.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(se(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wa})}catch(l){if(se(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=pl(n,["options"]),c=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:aw,redirectTo:r?.redirectTo})}catch(r){if(se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Wa})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,c,h,f,g,p;try{const y={nextPage:null,lastPage:0,total:0},b=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:fp});if(b.error)throw b.error;const _=await b.json(),x=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(p=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return T.length>0&&(T.forEach(A=>{const k=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(A.split(";")[1].split("=")[1]);y[`${R}Page`]=k}),y.total=parseInt(x)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(se(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){yi(n);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Wa})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){yi(n);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Wa})}catch(l){if(se(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){yi(n);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wa})}catch(l){if(se(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){yi(n.userId);try{const{data:r,error:l}=await ue(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:l}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteFactor(n){yi(n.userId),yi(n.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,c,h,f,g,p;try{const y={nextPage:null,lastPage:0,total:0},b=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:fp});if(b.error)throw b.error;const _=await b.json(),x=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(p=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return T.length>0&&(T.forEach(A=>{const k=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(A.split(";")[1].split("=")[1]);y[`${R}Page`]=k}),y.total=parseInt(x)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(se(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(se(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}}function mp(i={}){return{getItem:n=>i[n]||null,setItem:(n,r)=>{i[n]=r},removeItem:n=>{delete i[n]}}}const vi={debug:!!(globalThis&&Xp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pp extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class sw extends Pp{}async function rw(i,n,r){vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),vi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await r()}finally{vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(n===0)throw vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new sw(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(vi.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function lw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ip(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function ow(i){return parseInt(i,16)}function uw(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function cw(i){var n;const{chainId:r,domain:l,expirationTime:c,issuedAt:h=new Date,nonce:f,notBefore:g,requestId:p,resources:y,scheme:b,uri:_,version:x}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const T=Ip(i.address),A=b?`${b}://${l}`:l,k=i.statement?`${i.statement}
`:"",R=`${A} wants you to sign in with your Ethereum account:
${T}

${k}`;let q=`URI: ${_}
Version: ${x}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(c&&(q+=`
Expiration Time: ${c.toISOString()}`),g&&(q+=`
Not Before: ${g.toISOString()}`),p&&(q+=`
Request ID: ${p}`),y){let N=`
Resources:`;for(const B of y){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);N+=`
- ${B}`}q+=N}return`${R}
${q}`}class Fe extends Error{constructor({message:n,code:r,cause:l,name:c}){var h;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(h=c??(l instanceof Error?l.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=r}}class cl extends Fe{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function dw({error:i,options:n}){var r,l,c;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=h.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Fe({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return h.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(Zp(f)){if(h.rp.id!==f)return new Fe({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function hw({error:i,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Fe({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(Zp(l)){if(r.rpId!==l)return new Fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class fw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const mw=new fw;function pw(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:r,excludeCredentials:l}=i,c=pl(i,["challenge","user","excludeCredentials"]),h=ji(n).buffer,f=Object.assign(Object.assign({},r),{id:ji(r.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:h,user:f});if(l&&l.length>0){g.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const y=l[p];g.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:ji(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return g}function gw(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:r}=i,l=pl(i,["challenge","allowCredentials"]),c=ji(n).buffer,h=Object.assign(Object.assign({},l),{challenge:c});if(r&&r.length>0){h.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const g=r[f];h.allowCredentials[f]=Object.assign(Object.assign({},g),{id:ji(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function yw(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:An(new Uint8Array(i.response.attestationObject)),clientDataJSON:An(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function vw(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,l=i.getClientExtensionResults(),c=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:An(new Uint8Array(c.authenticatorData)),clientDataJSON:An(new Uint8Array(c.clientDataJSON)),signature:An(new Uint8Array(c.signature)),userHandle:c.userHandle?An(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Zp(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function pp(){var i,n;return!!(ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function bw(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new cl("Browser returned unexpected credential type",n)}:{data:null,error:new cl("Empty credential response",n)}}catch(n){return{data:null,error:dw({error:n,options:i})}}}async function _w(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new cl("Browser returned unexpected credential type",n)}:{data:null,error:new cl("Empty credential response",n)}}catch(n){return{data:null,error:hw({error:n,options:i})}}}const ww={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function dl(...i){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of i)if(c)for(const h in c){const f=c[h];if(f!==void 0)if(Array.isArray(f))l[h]=f;else if(r(f))l[h]=f;else if(n(f)){const g=l[h];n(g)?l[h]=dl(g,f):l[h]=dl(f)}else l[h]=f}return l}function Sw(i,n){return dl(ww,i,n||{})}function jw(i,n){return dl(xw,i,n||{})}class Ew{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:c},h){try{const{data:f,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!f)return{data:null,error:g};const p=c??mw.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=Sw(f.webauthn.credential_options.publicKey,h?.create),{data:b,error:_}=await bw({publicKey:y,signal:p});return b?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}case"request":{const y=jw(f.webauthn.credential_options.publicKey,h?.request),{data:b,error:_}=await _w(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:p}));return b?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}}}catch(f){return se(f)?{data:null,error:f}:{data:null,error:new Tn("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!r)return{data:null,error:new Rs("rpId is required for WebAuthn authentication")};try{if(!pp())return{data:null,error:new Tn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:c},{request:h});if(!f)return{data:null,error:g};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:l,credential_response:p.credential_response}})}catch(f){return se(f)?{data:null,error:f}:{data:null,error:new Tn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!r)return{data:null,error:new Rs("rpId is required for WebAuthn registration")};try{if(!pp())return{data:null,error:new Tn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(b=>{var _;return(_=b.data)===null||_===void 0?void 0:_.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===n&&x.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:g};const{data:p,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:c},{create:h});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(f){return se(f)?{data:null,error:f}:{data:null,error:new Tn("Unexpected error in register",f)}}}}lw();const Tw={url:w_,storageKey:x_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function gp(i,n,r){return await r()}const bi={};class Ns{get jwks(){var n,r;return(r=(n=bi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){bi[this.storageKey]=Object.assign(Object.assign({},bi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=bi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){bi[this.storageKey]=Object.assign(Object.assign({},bi[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},Tw),n);if(this.storageKey=h.storageKey,this.instanceID=(r=Ns.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ns.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&ct()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new iw({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=Jp(h.fetch),this.lock=h.lock||gp,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,h.lock?this.lock=h.lock:this.persistSession&&ct()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=rw:this.lock=gp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ew(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Xp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mp(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=mp(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Yp}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(ct()&&(r=q_(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),ct()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:h}=await this._getSessionFromURL(r,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),O_(h)){const p=(n=h.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:f,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return se(r)?this._returnResult({error:r}):this._returnResult({error:new Tn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,c;try{const h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Jt}),{data:f,error:g}=h;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const p=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(h){if(se(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var r,l,c;try{let h;if("email"in n){const{email:b,password:_,options:x}=n;let T=null,A=null;this.flowType==="pkce"&&([T,A]=await gi(this.storage,this.storageKey)),h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:b,password:_,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:T,code_challenge_method:A},xform:Jt})}else if("phone"in n){const{phone:b,password:_,options:x}=n;h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:_,data:(l=x?.data)!==null&&l!==void 0?l:{},channel:(c=x?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Jt})}else throw new il("You must provide either an email or phone number and a password");const{data:f,error:g}=h;if(g||!f)return await ut(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const p=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(h){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let r;if("email"in n){const{email:h,password:f,options:g}=n;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:hp})}else if("phone"in n){const{phone:h,password:f,options:g}=n;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:hp})}else throw new il("You must provide either an email or phone number and a password");const{data:l,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const h=new pi;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,c,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,c,h,f,g,p,y,b,_,x;let T,A;if("message"in n)T=n.message,A=n.signature;else{const{chain:k,wallet:R,statement:q,options:N}=n;let B;if(ct())if(typeof R=="object")B=R;else{const oe=window;if("ethereum"in oe&&typeof oe.ethereum=="object"&&"request"in oe.ethereum&&typeof oe.ethereum.request=="function")B=oe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=R}const $=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),Z=await B.request({method:"eth_requestAccounts"}).then(oe=>oe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=Ip(Z[0]);let I=(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!I){const oe=await B.request({method:"eth_chainId"});I=ow(oe)}const ge={domain:$.host,address:F,statement:q,uri:$.href,version:"1",chainId:I,nonce:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=N?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(p=N?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=N?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(b=N?.signInWithEthereum)===null||b===void 0?void 0:b.resources};T=cw(ge),A=await B.request({method:"personal_sign",params:[uw(T),F]})}try{const{data:k,error:R}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:A},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Jt});if(R)throw R;if(!k||!k.session||!k.user){const q=new pi;return this._returnResult({data:{user:null,session:null},error:q})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:R})}catch(k){if(se(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(n){var r,l,c,h,f,g,p,y,b,_,x,T;let A,k;if("message"in n)A=n.message,k=n.signature;else{const{chain:R,wallet:q,statement:N,options:B}=n;let $;if(ct())if(typeof q=="object")$=q;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))$=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=q}const Z=new URL((r=B?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in $&&$.signIn){const F=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),N?{statement:N}:null));let I;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")I=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)I=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)A=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),k=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${Z.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(c=(l=B?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=B?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((f=B?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((g=B?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((p=B?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((y=B?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((_=(b=B?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||_===void 0)&&_.length?["Resources",...B.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const F=await $.signMessage(new TextEncoder().encode(A),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=F}}try{const{data:R,error:q}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:An(k)},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(T=n.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Jt});if(q)throw q;if(!R||!R.session||!R.user){const N=new pi;return this._returnResult({data:{user:null,session:null},error:N})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:q})}catch(R){if(se(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(n){const r=await xn(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new R_;const{data:h,error:f}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Jt});if(await ut(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const g=new pi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:f})}catch(h){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:r,provider:l,token:c,access_token:h,nonce:f}=n,g=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Jt}),{data:p,error:y}=g;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const b=new pi;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,c,h,f;try{if("email"in n){const{email:g,options:p}=n;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await gi(this.storage,this.storageKey));const{error:_}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:b},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:g,options:p}=n,{data:y,error:b}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(h=p?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:b})}throw new il("You must provide either an email or phone number.")}catch(g){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var r,l;try{let c,h;"options"in n&&(c=(r=n.options)===null||r===void 0?void 0:r.redirectTo,h=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:g}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:Jt});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,y=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(c){if(se(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var r,l,c,h,f;try{let g=null,p=null;this.flowType==="pkce"&&([g,p]=await gi(this.storage,this.storageKey));const y=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:p}),headers:this.headers,xform:tw});return!((h=y.data)===null||h===void 0)&&h.url&&ct()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(g){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new Rt;const{error:c}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:c,options:h}=n,{error:f}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:c,options:h}=n,{data:f,error:g}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new il("You must provide either an email or phone number and a type")}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Iu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await xn(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Fu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Z_(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Wa}):await this._useSession(async r=>{var l,c,h;const{data:f,error:g}=r;if(g)throw g;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:Wa})})}catch(r){if(se(r))return C_(r)&&(await this._removeSession(),await ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:c,error:h}=l;if(h)throw h;if(!c.session)throw new Rt;const f=c.session;let g=null,p=null;this.flowType==="pkce"&&n.email!=null&&([g,p]=await gi(this.storage,this.storageKey));const{data:y,error:b}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:p}),jwt:f.access_token,xform:Wa});if(b)throw b;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Rt;const r=Date.now()/1e3;let l=r,c=!0,h=null;const{payload:f}=Wu(n.access_token);if(f.exp&&(l=f.exp,c=l<=r),c){const{data:g,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:p}=await this._getUser(n.access_token);if(p)throw p;h={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(r){if(se(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:f,error:g}=r;if(g)throw g;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Rt;const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ct())throw new sl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new sl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new sp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new sp("No code detected.");const{data:N,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:h,refresh_token:f,expires_in:g,expires_at:p,token_type:y}=n;if(!h||!g||!f||!y)throw new sl("No session defined in URL");const b=Math.round(Date.now()/1e3),_=parseInt(g);let x=b+_;p&&(x=parseInt(p));const T=x-b;T*1e3<=wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${_}s`);const A=x-_;b-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,x,b):b-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,x,b);const{data:k,error:R}=await this._getUser(h);if(R)throw R;const q={provider_token:l,provider_refresh_token:c,access_token:h,expires_in:_,expires_at:x,refresh_token:f,token_type:y,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:q,redirectType:n.type},error:null})}catch(l){if(se(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await xn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:c,error:h}=r;if(h)return this._returnResult({error:h});const f=(l=c.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:g}=await this.admin.signOut(f,n);if(g&&!(A_(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=L_(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,c;try{const{data:{session:h},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,r={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await gi(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:c}=await this._useSession(async h=>{var f,g,p,y,b;const{data:_,error:x}=h;if(x)throw x;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",T,{headers:this.headers,jwt:(b=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return ct()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(se(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:c,data:{session:h}}=r;if(c)throw c;const{options:f,provider:g,token:p,access_token:y,nonce:b}=n,_=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=h?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:g,id_token:p,access_token:y,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Jt}),{data:x,error:T}=_;return T?this._returnResult({data:{user:null,session:null},error:T}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new pi}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:T}))}catch(c){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,c;const{data:h,error:f}=r;if(f)throw f;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await $_(async c=>(c>0&&await H_(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Jt})),(c,h)=>{const f=200*Math.pow(2,c);return h&&Zu(h)&&Date.now()+f-l<wi})}catch(l){if(this._debug(r,"error",l),se(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),ct()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await xn(this.storage,this.storageKey);if(c&&this.userStorage){let f=await xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await xi(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f?.user)!==null&&n!==void 0?n:Fu()}else if(c&&!c.user&&!c.user){const f=await xn(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await ut(this.storage,this.storageKey+"-user"),await xi(this.storage,this.storageKey,c)):c.user=Fu()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const h=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Iu;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${Iu}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Zu(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(c.access_token);!g&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new yl;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new Rt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={data:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(c,"error",h),se(h)){const f={data:null,error:h};return Zu(h)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,r,l=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,r)}catch(p){h.push(p)}});if(await Promise.all(f),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ut(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await xi(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const h=cp(c);await xi(this.storage,this.storageKey,h)}else{const c=cp(r);await xi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ut(this.storage,this.storageKey),await ut(this.storage,this.storageKey+"-code-verifier"),await ut(this.storage,this.storageKey+"-user"),this.userStorage&&await ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ct()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),wi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-n)/wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${wi}ms, refresh threshold is ${cc} ticks`),c<=cc&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Pp)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const c=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,f]=await gi(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(g.toString())}if(l?.queryParams){const h=new URLSearchParams(l.queryParams);c.push(h.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:c,error:h}=r;return h?this._returnResult({data:null,error:h}):await ue(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,c;const{data:h,error:f}=r;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:y}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(l=h?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?yw(n.webauthn.credential_response):vw(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:p}=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:p}))})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:pw(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:gw(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=r?.factors)!==null&&n!==void 0?n:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Wu(l.access_token);let f=null;h.aal&&(f=h.aal);let g=f;((r=(n=l.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const y=h.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:c},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Rt});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&ct()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:c},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Rt});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&ct()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(g=>g.kid===n);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(g=>g.kid===n),l&&this.jwks_cached_at+E_>c)return l;const{data:h,error:f}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,l=h.keys.find(g=>g.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:T,error:A}=await this.getSession();if(A||!T.session)return this._returnResult({data:null,error:A});l=T.session.access_token}const{header:c,payload:h,signature:f,raw:{header:g,payload:p}}=Wu(l);r?.allowExpired||J_(h.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!y){const{error:T}=await this.getUser(l);if(T)throw T;return{data:{claims:h,header:c,signature:f},error:null}}const b=P_(c.alg),_=await crypto.subtle.importKey("jwk",y,b,!0,["verify"]);if(!await crypto.subtle.verify(b,_,f,z_(`${g}.${p}`)))throw new fc("Invalid JWT signature");return{data:{claims:h,header:c,signature:f},error:null}}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}}Ns.nextInstanceID={};const Aw=Ns,Cw="2.88.0";let Ss="";typeof Deno<"u"?Ss="deno":typeof document<"u"?Ss="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ss="react-native":Ss="node";const Ow={"X-Client-Info":`supabase-js-${Ss}/${Cw}`},Rw={headers:Ow},Nw={schema:"public"},kw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dw={};function ks(i){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ks(i)}function Uw(i,n){if(ks(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,n);if(ks(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function zw(i){var n=Uw(i,"string");return ks(n)=="symbol"?n:n+""}function Mw(i,n,r){return(n=zw(n))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function yp(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),r.push.apply(r,l)}return r}function Ke(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?yp(Object(r),!0).forEach(function(l){Mw(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):yp(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const Lw=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),qw=()=>Headers,Bw=(i,n,r)=>{const l=Lw(r),c=qw();return async(h,f)=>{var g;const p=(g=await n())!==null&&g!==void 0?g:i;let y=new c(f?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),l(h,Ke(Ke({},f),{},{headers:y}))}};function Hw(i){return i.endsWith("/")?i:i+"/"}function $w(i,n){var r,l;const{db:c,auth:h,realtime:f,global:g}=i,{db:p,auth:y,realtime:b,global:_}=n,x={db:Ke(Ke({},p),c),auth:Ke(Ke({},y),h),realtime:Ke(Ke({},b),f),storage:{},global:Ke(Ke(Ke({},_),g),{},{headers:Ke(Ke({},(r=_?.headers)!==null&&r!==void 0?r:{}),(l=g?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?x.accessToken=i.accessToken:delete x.accessToken,x}function Vw(i){const n=i?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Hw(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Gw=class extends Aw{constructor(i){super(i)}},Yw=class{constructor(i,n,r){var l,c;this.supabaseUrl=i,this.supabaseKey=n;const h=Vw(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:Nw,realtime:Dw,auth:Ke(Ke({},kw),{},{storageKey:f}),global:Rw},p=$w(r??{},g);if(this.storageKey=(l=p.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=p.auth)!==null&&y!==void 0?y:{},this.headers,p.global.fetch)}this.fetch=Bw(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new Sb(new URL("rest/v1",h).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new __(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new vb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,r)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,n,r;if(i.accessToken)return await i.accessToken();const{data:l}=await i.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:c,storageKey:h,flowType:f,lock:g,debug:p,throwOnError:y},b,_){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gw({url:this.authUrl.href,headers:Ke(Ke({},x),b),storageKey:h,autoRefreshToken:i,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:c,flowType:f,lock:g,debug:p,throwOnError:y,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Hb(this.realtimeUrl.href,Ke(Ke({},i),{},{params:Ke(Ke({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n?.access_token)})}_handleTokenChanged(i,n,r){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Kw=(i,n,r)=>new Yw(i,n,r);function Qw(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const n=i.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Qw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xw="https://ezezrjgflvkgyphupzqu.supabase.co",Jw="sb_publishable_nq7MYvuPGcYYDDd1CYM4Tg_WERSfkM6",de=Kw(Xw,Jw);const Pw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Iw=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,l)=>l?l.toUpperCase():r.toLowerCase()),vp=i=>{const n=Iw(i);return n.charAt(0).toUpperCase()+n.slice(1)},Wp=(...i)=>i.filter((n,r,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===r).join(" ").trim(),Zw=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var Ww={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Fw=E.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:c="",children:h,iconNode:f,...g},p)=>E.createElement("svg",{ref:p,...Ww,width:n,height:n,stroke:i,strokeWidth:l?Number(r)*24/Number(n):r,className:Wp("lucide",c),...!h&&!Zw(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,b])=>E.createElement(y,b)),...Array.isArray(h)?h:[h]]));const me=(i,n)=>{const r=E.forwardRef(({className:l,...c},h)=>E.createElement(Fw,{ref:h,iconNode:n,className:Wp(`lucide-${Pw(vp(i))}`,`lucide-${i}`,l),...c}));return r.displayName=vp(i),r};const e1=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],t1=me("arrow-up-right",e1);const a1=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],n1=me("briefcase",a1);const i1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],s1=me("calendar",i1);const r1=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],l1=me("chart-no-axes-column",r1);const o1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Fp=me("chevron-down",o1);const u1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],c1=me("chevron-left",u1);const d1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Cc=me("chevron-right",d1);const h1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],f1=me("circle-alert",h1);const m1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],p1=me("circle-check-big",m1);const g1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],y1=me("clock",g1);const v1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],hl=me("dollar-sign",v1);const b1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_1=me("download",b1);const w1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],x1=me("file-text",w1);const S1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],j1=me("funnel",S1);const E1=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],T1=me("gift",E1);const A1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eg=me("globe",A1);const C1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],O1=me("history",C1);const R1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],N1=me("image",R1);const k1=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],D1=me("layout-dashboard",k1);const U1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Oc=me("loader-circle",U1);const z1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tg=me("lock",z1);const M1=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],L1=me("log-in",M1);const q1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],B1=me("log-out",q1);const H1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ag=me("mail",H1);const $1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],V1=me("map-pin",$1);const G1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Y1=me("menu",G1);const K1=[["path",{d:"M5 12h14",key:"1ays0h"}]],Q1=me("minus",K1);const X1=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ls=me("package",X1);const J1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ng=me("pencil",J1);const P1=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],I1=me("phone",P1);const Z1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ds=me("plus",Z1);const W1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rc=me("save",W1);const F1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vl=me("search",F1);const ex=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],tx=me("shopping-bag",ex);const ax=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ig=me("shopping-cart",ax);const nx=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ix=me("square-pen",nx);const sx=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],sg=me("store",sx);const rx=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],lx=me("tag",rx);const ox=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ei=me("trash-2",ox);const ux=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],rg=me("trending-up",ux);const cx=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dx=me("upload",cx);const hx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],lg=me("user-plus",hx);const fx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],og=me("user",fx);const mx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ug=me("users",mx);const px=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fa=me("x",px),gx="/snusstation-pos/assets/logo-login-DJx-6wus.png";function yx(){const[i,n]=E.useState(""),[r,l]=E.useState(""),[c,h]=E.useState(!1),[f,g]=E.useState(null),p=async y=>{y.preventDefault(),h(!0),g(null);try{const{error:b}=await de.auth.signInWithPassword({email:i,password:r});if(b)throw b}catch{g("Credenciais invlidas. Tente novamente.")}finally{h(!1)}};return d.jsxs("div",{className:"login-container",children:[d.jsxs("div",{className:"login-background",children:[d.jsx("div",{className:"shape shape-1"}),d.jsx("div",{className:"shape shape-2"})]}),d.jsxs("div",{className:"login-card",children:[d.jsxs("div",{className:"login-header",children:[d.jsx("img",{src:gx,alt:"SnusStation",className:"login-logo"}),d.jsx("h1",{children:"Bem-vindo"}),d.jsx("p",{children:"Aceda  sua conta SnusStation"})]}),d.jsxs("form",{onSubmit:p,className:"login-form",children:[d.jsxs("div",{className:"input-group-login",children:[d.jsx(ag,{className:"input-icon-login",size:20}),d.jsx("input",{type:"email",placeholder:"Email de acesso",value:i,onChange:y=>n(y.target.value),required:!0})]}),d.jsxs("div",{className:"input-group-login",children:[d.jsx(tg,{className:"input-icon-login",size:20}),d.jsx("input",{type:"password",placeholder:"Palavra-passe",value:r,onChange:y=>l(y.target.value),required:!0})]}),f&&d.jsxs("div",{className:"error-message",children:[d.jsx(f1,{size:16}),d.jsx("span",{children:f})]}),d.jsx("button",{type:"submit",className:"login-btn",disabled:c,children:c?d.jsxs(d.Fragment,{children:[d.jsx(Oc,{className:"spin",size:20})," A entrar..."]}):d.jsxs(d.Fragment,{children:[d.jsx(L1,{size:20})," Entrar no Sistema"]})})]}),d.jsx("div",{className:"login-footer",children:d.jsxs("p",{children:[" ",new Date().getFullYear()," SnusStation POS"]})})]})]})}function vx(){const[i,n]=E.useState({sales:0,profit:0,count:0,avgTicket:0}),[r,l]=E.useState([]),[c,h]=E.useState(!0),[f,g]=E.useState("Parceiro");E.useEffect(()=>{p(),y()},[]);const p=async()=>{const{data:{user:_}}=await de.auth.getUser();if(_){let x=_.user_metadata?.full_name||_.user_metadata?.name||_.email?.split("@")[0];x&&(x=x.charAt(0).toUpperCase()+x.slice(1),g(x))}},y=async()=>{h(!0);const{data:_}=await de.from("sales").select("total_amount, total_profit"),{data:x}=await de.from("sales").select("*, clients(name)").order("created_at",{ascending:!1}).limit(10);if(_){const T=_.reduce((q,N)=>q+N.total_amount,0),A=_.reduce((q,N)=>q+N.total_profit,0),k=_.length,R=k>0?T/k:0;n({sales:T,profit:A,count:k,avgTicket:R})}x&&l(x),h(!1)},b=({title:_,value:x,subValue:T,icon:A,colorClass:k})=>d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:`icon-wrapper ${k}`,children:d.jsx(A,{size:24})}),d.jsxs("span",{className:"trend positive",children:[d.jsx(t1,{size:16})," +2.5%"]})]}),d.jsxs("div",{className:"stat-content",children:[d.jsx("p",{className:"stat-title",children:_}),d.jsx("h3",{className:"stat-value",children:x}),T&&d.jsx("p",{className:"stat-sub",children:T})]})]});return d.jsxs("div",{className:"page dashboard-page",children:[d.jsxs("div",{className:"dashboard-header",children:[d.jsx("div",{className:"header-top-right",children:d.jsxs("p",{className:"date-display",children:[d.jsx(y1,{size:16})," ",new Date().toLocaleDateString("pt-PT",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})}),d.jsx("div",{className:"header-greeting",children:d.jsxs("h2",{children:["Ol ",d.jsx("span",{style:{color:"#2563eb"},children:f}),", bem-vindo ao POS da SnusStation"]})})]}),d.jsxs("div",{className:"stats-grid",children:[d.jsx(b,{title:"Faturao Total",value:` ${i.sales.toFixed(2)}`,subValue:"Receita bruta acumulada",icon:hl,colorClass:"blue"}),d.jsx(b,{title:"Lucro Lquido",value:` ${i.profit.toFixed(2)}`,subValue:`Margem global: ${i.sales>0?(i.profit/i.sales*100).toFixed(1):0}%`,icon:rg,colorClass:"green"}),d.jsx(b,{title:"Vendas Realizadas",value:i.count,subValue:"Total de pedidos processados",icon:tx,colorClass:"purple"}),d.jsx(b,{title:"Ticket Mdio",value:` ${i.avgTicket.toFixed(2)}`,subValue:"Valor mdio por venda",icon:ug,colorClass:"orange"})]}),d.jsxs("div",{className:"recent-sales-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h3",{children:"ltimas 10 Vendas"}),d.jsx("button",{className:"view-all-btn",children:"Ver Histrico Completo"})]}),d.jsx("div",{className:"table-wrapper card-table",children:d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Data"}),d.jsx("th",{children:"Cliente"}),d.jsx("th",{children:"Total"}),d.jsx("th",{children:"Lucro"}),d.jsx("th",{children:"Status"})]})}),d.jsx("tbody",{children:c?d.jsx("tr",{children:d.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"20px"},children:"A carregar dados..."})}):r.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"5",style:{textAlign:"center"},children:"Nenhuma venda registada."})}):r.map(_=>d.jsxs("tr",{children:[d.jsxs("td",{children:[d.jsx("span",{style:{fontWeight:500},children:new Date(_.created_at).toLocaleDateString()}),d.jsx("br",{}),d.jsx("small",{style:{color:"#94a3b8"},children:new Date(_.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),d.jsx("td",{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx("div",{className:"avatar-circle",children:_.clients?.name?.charAt(0)||"?"}),_.clients?.name||"Cliente Removido"]})}),d.jsxs("td",{style:{fontWeight:"bold"},children:[" ",_.total_amount.toFixed(2)]}),d.jsxs("td",{style:{color:"#10b981"},children:["+ ",_.total_profit.toFixed(2)]}),d.jsx("td",{children:d.jsx("span",{className:"badge badge-success-light",children:"Concludo"})})]},_.id))})]})})]})]})}function bx(){const[i,n]=E.useState([]),[r,l]=E.useState(null),[c,h]=E.useState({name:"",brand:"",buy_price:"",sell_price:"",stock:""}),[f,g]=E.useState(null),[p,y]=E.useState(null),[b,_]=E.useState(""),[x,T]=E.useState(!1),[A,k]=E.useState(!1),[R,q]=E.useState(1),[N,B]=E.useState(1),$=10,[Z,F]=E.useState(!1),[I,ge]=E.useState({reference:"",supplier:"",items:[]});E.useEffect(()=>{oe()},[R,b]);const oe=async()=>{let M=de.from("products").select("*, sale_items(quantity)",{count:"exact"});b&&(M=M.ilike("name",`%${b}%`));const J=(R-1)*$,W=J+$-1,{data:te,count:ye,error:Qe}=await M.order("name").range(J,W);Qe?console.error("Erro ao buscar produtos:",Qe):(n(te||[]),ye&&B(Math.ceil(ye/$)))},P=M=>{const J=M.target.files[0];J&&(g(J),y(URL.createObjectURL(J)))},ae=M=>{M.preventDefault(),g(null),y(null)},fe=()=>{l(null),h({name:"",brand:"",buy_price:"",sell_price:"",stock:""}),g(null),y(null),k(!0)},Ve=M=>{l(M.id),h({name:M.name,brand:M.brand||"",buy_price:M.buy_price,sell_price:M.sell_price,stock:M.stock}),y(M.image_url),g(null),k(!0),window.scrollTo({top:0,behavior:"smooth"})},Le=()=>{l(null),h({name:"",brand:"",buy_price:"",sell_price:"",stock:""}),g(null),y(null),k(!1)},X=async M=>{M.preventDefault(),T(!0);let J=p;if(f){const ye=f.name.split(".").pop(),qe=`${`${Math.random()}.${ye}`}`,{error:en}=await de.storage.from("product-images").upload(qe,f);if(en){alert("Erro no upload da imagem!"),T(!1);return}const{data:{publicUrl:On}}=de.storage.from("product-images").getPublicUrl(qe);J=On}const W={...c,image_url:J};let te;if(r){const{error:ye}=await de.from("products").update(W).eq("id",r);te=ye}else{const{error:ye}=await de.from("products").insert([W]);te=ye}te?alert("Erro ao salvar: "+te.message):(Le(),oe()),T(!1)},D=M=>!M||M.length===0?0:M.reduce((J,W)=>J+W.quantity,0),C=()=>{R<N&&q(R+1)},Q=()=>{R>1&&q(R-1)},ie=()=>{ge(M=>({...M,items:[...M.items,{product_id:"",quantity:1,cost_price:0}]}))},he=M=>{const J=I.items.filter((W,te)=>te!==M);ge({...I,items:J})},S=(M,J,W)=>{const te=[...I.items];te[M][J]=W,ge({...I,items:te})},V=async M=>{if(M.preventDefault(),I.items.length===0)return alert("Adicione produtos  fatura.");if(I.items.some(J=>!J.product_id))return alert("Selecione os produtos.");try{T(!0);const{data:J,error:W}=await de.from("stock_entries").insert([{reference:I.reference,supplier:I.supplier}]).select().single();if(W)throw W;for(const te of I.items){await de.from("stock_entry_items").insert([{entry_id:J.id,product_id:te.product_id,quantity:parseInt(te.quantity),cost_price:parseFloat(te.cost_price||0)}]);const ye=i.find(Qe=>Qe.id==te.product_id);ye&&await de.from("products").update({stock:(parseInt(ye.stock)||0)+parseInt(te.quantity)}).eq("id",te.product_id)}alert("Fatura registada e stock atualizado!"),F(!1),ge({reference:"",supplier:"",items:[]}),oe()}catch(J){alert("Erro ao gravar fatura: "+J.message)}finally{T(!1)}};return d.jsxs("div",{className:"page",children:[d.jsxs("div",{className:"dashboard-header",style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("h2",{children:"Gesto de Produtos"}),d.jsxs("div",{style:{display:"flex",gap:"10px"},children:[!A&&!Z&&d.jsxs("button",{onClick:()=>{F(!0),ie()},className:"submit-btn-modern",style:{width:"auto",display:"flex",gap:"5px",alignItems:"center",background:"#4f46e5",color:"white"},children:[d.jsx(x1,{size:18})," Adicionar Fatura"]}),!A&&d.jsxs("button",{onClick:fe,className:"submit-btn-modern",style:{width:"auto",display:"flex",gap:"5px",alignItems:"center"},children:[d.jsx(Ds,{size:18})," Novo Produto"]})]})]}),d.jsxs("div",{className:"management-grid",style:{gridTemplateColumns:A?"350px 1fr":"1fr"},children:[A&&d.jsx("div",{className:"form-container",children:d.jsxs("form",{onSubmit:X,className:"modern-form",children:[d.jsxs("div",{className:"form-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs("div",{children:[d.jsx("h3",{children:r?"Editar Produto":"Novo Produto"}),d.jsx("p",{children:r?"Altere os dados abaixo":"Adicionar ao inventrio"})]}),d.jsx("button",{type:"button",onClick:Le,style:{background:"none",border:"none",cursor:"pointer",color:"#64748b"},children:d.jsx(Fa,{size:20})})]}),d.jsx("div",{className:"image-upload-wrapper",children:d.jsxs("label",{className:`image-upload-box ${p?"has-image":""}`,children:[d.jsx("input",{type:"file",accept:"image/*",onChange:P,hidden:!0}),p?d.jsxs("div",{className:"image-preview-container",children:[d.jsx("img",{src:p,alt:"Preview"}),d.jsx("button",{onClick:ae,className:"remove-image-btn",children:d.jsx(Fa,{size:16})})]}):d.jsxs("div",{className:"upload-placeholder",children:[d.jsx(dx,{size:24,color:"#2563eb"}),d.jsx("span",{children:"Carregar Foto"})]})]})}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Nome"}),d.jsxs("div",{className:"input-wrapper",children:[d.jsx(lx,{className:"input-icon"}),d.jsx("input",{value:c.name,onChange:M=>h({...c,name:M.target.value}),required:!0})]})]}),d.jsxs("div",{className:"form-row-grid",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Marca"}),d.jsx("input",{value:c.brand,onChange:M=>h({...c,brand:M.target.value})})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Stock"}),d.jsxs("div",{className:"input-wrapper",children:[d.jsx(Ls,{className:"input-icon"}),d.jsx("input",{type:"number",value:c.stock,onChange:M=>h({...c,stock:M.target.value}),required:!0})]})]})]}),d.jsxs("div",{className:"form-row-grid",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Compra ()"}),d.jsxs("div",{className:"input-wrapper",children:[d.jsx(hl,{className:"input-icon"}),d.jsx("input",{type:"number",step:"0.01",value:c.buy_price,onChange:M=>h({...c,buy_price:M.target.value}),required:!0})]})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Venda ()"}),d.jsxs("div",{className:"input-wrapper",children:[d.jsx(hl,{className:"input-icon"}),d.jsx("input",{type:"number",step:"0.01",value:c.sell_price,onChange:M=>h({...c,sell_price:M.target.value}),required:!0})]})]})]}),d.jsxs("div",{style:{display:"flex",gap:"10px"},children:[d.jsx("button",{type:"submit",disabled:x,className:"submit-btn-modern",style:{flex:1,background:r?"#f59e0b":"var(--dark)"},children:x?"A guardar...":r?"Atualizar":"Adicionar"}),d.jsx("button",{type:"button",onClick:Le,className:"submit-btn-modern",style:{width:"auto",background:"#e2e8f0",color:"#64748b"},children:"Cancelar"})]})]})}),d.jsxs("div",{className:"list-container",children:[d.jsxs("div",{className:"list-header",children:[d.jsx("input",{className:"search-bar",placeholder:" Pesquisar...",value:b,onChange:M=>{_(M.target.value),q(1)},style:{maxWidth:"300px",margin:0}}),d.jsxs("div",{className:"pagination-controls",children:[d.jsxs("span",{children:["Pgina ",R," de ",N]}),d.jsx("button",{onClick:Q,disabled:R===1,className:"page-btn",children:d.jsx(c1,{size:16})}),d.jsx("button",{onClick:C,disabled:R===N,className:"page-btn",children:d.jsx(Cc,{size:16})})]})]}),d.jsx("div",{className:"table-wrapper",children:d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Img"}),d.jsx("th",{children:"Nome"}),d.jsx("th",{children:"Stock"}),d.jsx("th",{children:"Vendidos"}),d.jsx("th",{children:"Venda"}),d.jsx("th",{children:"Lucro"}),d.jsx("th",{children:"Margem"}),d.jsx("th",{})]})}),d.jsx("tbody",{children:i.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"Nenhum produto encontrado."})}):i.map(M=>{const J=D(M.sale_items),W=M.sell_price-M.buy_price,te=M.sell_price>0?(W/M.sell_price*100).toFixed(0):0;return d.jsxs("tr",{style:{background:r===M.id?"#fffbeb":"transparent"},children:[d.jsx("td",{children:M.image_url?d.jsx("img",{src:M.image_url,alt:"",className:"product-thumb"}):d.jsx("div",{className:"no-thumb",children:d.jsx(N1,{size:16})})}),d.jsxs("td",{children:[d.jsx("strong",{children:M.name}),d.jsx("br",{}),d.jsx("small",{style:{color:"#64748b"},children:M.brand})]}),d.jsx("td",{children:d.jsx("span",{className:`badge ${M.stock<5?"badge-danger":"badge-success"}`,children:M.stock})}),d.jsx("td",{children:d.jsx("span",{className:"badge badge-neutral",children:J})}),d.jsx("td",{children:d.jsxs("strong",{children:["",M.sell_price]})}),d.jsxs("td",{style:{color:"#10b981"},children:["+",W.toFixed(2)]}),d.jsx("td",{children:d.jsxs("span",{className:`badge ${te>30?"badge-success-light":"badge-danger-light"}`,children:[te,"%"]})}),d.jsx("td",{style:{textAlign:"right"},children:d.jsx("button",{onClick:()=>Ve(M),style:{border:"none",background:"none",cursor:"pointer",color:"#64748b"},children:d.jsx(ng,{size:18})})})]},M.id)})})]})})]})]}),Z&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h3",{children:" Adicionar Fatura (Stock)"}),d.jsx("button",{onClick:()=>F(!1),className:"close-modal",children:d.jsx(Fa,{size:20})})]}),d.jsxs("form",{onSubmit:V,className:"modern-form",children:[d.jsxs("div",{className:"form-row",style:{background:"#f8fafc",padding:"15px",borderRadius:"8px",marginBottom:"20px",display:"flex",gap:"15px"},children:[d.jsxs("div",{className:"input-group",style:{flex:1},children:[d.jsx("label",{children:"Ref. Fatura"}),d.jsx("input",{className:"modern-input",placeholder:"Ex: FT 001",value:I.reference,onChange:M=>ge({...I,reference:M.target.value}),required:!0})]}),d.jsxs("div",{className:"input-group",style:{flex:1},children:[d.jsx("label",{children:"Fornecedor"}),d.jsx("input",{className:"modern-input",placeholder:"Nome do Fornecedor",value:I.supplier,onChange:M=>ge({...I,supplier:M.target.value})})]})]}),d.jsx("h4",{style:{marginBottom:"10px",color:"#475569"},children:"Itens"}),d.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",marginBottom:"15px"},children:d.jsxs("table",{style:{width:"100%",fontSize:"0.9rem"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{background:"#f1f5f9",textAlign:"left"},children:[d.jsx("th",{style:{padding:"8px"},children:"Produto"}),d.jsx("th",{style:{padding:"8px",width:"80px"},children:"Qtd"}),d.jsx("th",{style:{padding:"8px",width:"100px"},children:"Custo ()"}),d.jsx("th",{style:{width:"40px"}})]})}),d.jsx("tbody",{children:I.items.map((M,J)=>d.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[d.jsx("td",{style:{padding:"5px"},children:d.jsxs("select",{className:"modern-input",style:{margin:0,padding:"8px"},value:M.product_id,onChange:W=>S(J,"product_id",W.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Selecione..."}),i.map(W=>d.jsxs("option",{value:W.id,children:[W.name," (",W.brand,")"]},W.id))]})}),d.jsx("td",{style:{padding:"5px"},children:d.jsx("input",{type:"number",min:"1",className:"modern-input",style:{margin:0,padding:"8px"},value:M.quantity,onChange:W=>S(J,"quantity",W.target.value),required:!0})}),d.jsx("td",{style:{padding:"5px"},children:d.jsx("input",{type:"number",step:"0.01",className:"modern-input",style:{margin:0,padding:"8px"},value:M.cost_price,onChange:W=>S(J,"cost_price",W.target.value)})}),d.jsx("td",{style:{textAlign:"center"},children:d.jsx("button",{type:"button",onClick:()=>he(J),style:{background:"none",border:"none",cursor:"pointer",color:"#ef4444"},children:d.jsx(Ei,{size:18})})})]},J))})]})}),d.jsxs("button",{type:"button",onClick:ie,style:{background:"#f1f5f9",color:"#334155",border:"1px dashed #cbd5e1",padding:"8px",width:"100%",borderRadius:"6px",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[d.jsx(Ds,{size:16})," Adicionar Linha"]}),d.jsx("div",{style:{marginTop:"25px",borderTop:"1px solid #e2e8f0",paddingTop:"15px"},children:d.jsxs("button",{type:"submit",className:"save-btn",style:{width:"100%",justifyContent:"center",padding:"12px",fontSize:"1rem",background:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",display:"flex",gap:"8px",alignItems:"center"},children:[d.jsx(Rc,{size:20})," Confirmar Fatura"]})})]})]})})]})}function _x(){const[i,n]=E.useState([]),[r,l]=E.useState(!0),[c,h]=E.useState(""),[f,g]=E.useState(!1),[p,y]=E.useState(null),[b,_]=E.useState({name:"",email:"",phone:"",location:""});E.useEffect(()=>{x()},[]);const x=async()=>{l(!0);const{data:$,error:Z}=await de.from("clients").select("*, sales(total_amount)").order("name");Z?console.error(Z):n($||[]),l(!1)},T=()=>{_({name:"",email:"",phone:"",location:""}),y(null),g(!0)},A=$=>{_({name:$.name,email:$.email||"",phone:$.phone||"",location:$.location||""}),y($.id),g(!0),window.scrollTo({top:0,behavior:"smooth"})},k=()=>{g(!1),y(null),_({name:"",email:"",phone:"",location:""})},R=async $=>{if($.preventDefault(),!b.name)return alert("O nome  obrigatrio.");try{if(p){const{error:Z}=await de.from("clients").update(b).eq("id",p);if(Z)throw Z;alert("Cliente atualizado!")}else{const{error:Z}=await de.from("clients").insert([b]);if(Z)throw Z;alert("Cliente criado!")}k(),x()}catch(Z){alert("Erro: "+Z.message)}},q=async $=>{if(!window.confirm("Apagar este cliente?"))return;const{error:Z}=await de.from("clients").delete().eq("id",$);Z||x()},N=$=>!$||$.length===0?0:$.reduce((Z,F)=>Z+(F.total_amount||0),0),B=i.filter($=>$.name.toLowerCase().includes(c.toLowerCase())||($.email||"").toLowerCase().includes(c.toLowerCase()));return d.jsxs("div",{className:"page",children:[d.jsxs("div",{className:"dashboard-header",style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs("h2",{children:["Gesto de Clientes ",d.jsxs("span",{style:{fontSize:"1rem",color:"#64748b",fontWeight:"normal"},children:["(",i.length,")"]})]}),!f&&d.jsxs("button",{onClick:T,className:"submit-btn-modern",style:{width:"auto",display:"flex",gap:"5px",alignItems:"center"},children:[d.jsx(lg,{size:18})," Novo Cliente"]})]}),d.jsxs("div",{className:"management-grid",style:{gridTemplateColumns:f?"350px 1fr":"1fr"},children:[f&&d.jsx("div",{className:"form-container",children:d.jsxs("form",{onSubmit:R,className:"modern-form",children:[d.jsxs("div",{className:"form-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs("div",{children:[d.jsx("h3",{children:p?"Editar Cliente":"Novo Cliente"}),d.jsx("p",{children:p?"Atualizar dados":"Registar novo cliente"})]}),d.jsx("button",{type:"button",onClick:k,style:{background:"none",border:"none",cursor:"pointer",color:"#64748b"},children:d.jsx(Fa,{size:20})})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Nome Completo"}),d.jsxs("div",{className:"input-wrapper",children:[d.jsx(og,{size:16,className:"input-icon"}),d.jsx("input",{value:b.name,onChange:$=>_({...b,name:$.target.value}),required:!0,placeholder:"Nome do Cliente"})]})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Email"}),d.jsxs("div",{className:"input-wrapper",children:[d.jsx(ag,{size:16,className:"input-icon"}),d.jsx("input",{type:"email",value:b.email,onChange:$=>_({...b,email:$.target.value}),placeholder:"email@exemplo.com"})]})]}),d.jsxs("div",{className:"form-row-grid",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Telefone"}),d.jsxs("div",{className:"input-wrapper",children:[d.jsx(I1,{size:16,className:"input-icon"}),d.jsx("input",{value:b.phone,onChange:$=>_({...b,phone:$.target.value}),placeholder:"912 345 678"})]})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Localidade"}),d.jsxs("div",{className:"input-wrapper",children:[d.jsx(V1,{size:16,className:"input-icon"}),d.jsx("input",{value:b.location,onChange:$=>_({...b,location:$.target.value}),placeholder:"Lisboa"})]})]})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[d.jsx("button",{type:"submit",className:"submit-btn-modern",style:{flex:1},children:p?"Atualizar":"Guardar"}),d.jsx("button",{type:"button",onClick:k,className:"submit-btn-modern",style:{width:"auto",background:"#e2e8f0",color:"#64748b"},children:"Cancelar"})]})]})}),d.jsxs("div",{className:"list-container",children:[d.jsx("div",{className:"list-header",children:d.jsxs("div",{style:{position:"relative",width:"300px"},children:[d.jsx(vl,{size:18,style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),d.jsx("input",{className:"search-bar",placeholder:"Pesquisar clientes...",value:c,onChange:$=>h($.target.value),style:{margin:0,paddingLeft:35}})]})}),d.jsx("div",{className:"table-wrapper",children:d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Nome"}),d.jsx("th",{children:"Contacto"}),d.jsx("th",{children:"Localizao"}),d.jsx("th",{children:"Total Gasto"})," ",d.jsx("th",{children:"Aes"})]})}),d.jsx("tbody",{children:B.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"20px"},children:"Nenhum cliente encontrado."})}):B.map($=>{const Z=N($.sales);return d.jsxs("tr",{style:{background:p===$.id?"#fffbeb":"transparent"},children:[d.jsxs("td",{children:[d.jsx("strong",{children:$.name}),d.jsx("br",{}),d.jsx("small",{style:{color:"#64748b"},children:$.email})]}),d.jsx("td",{children:$.phone||"-"}),d.jsx("td",{children:$.location||"-"}),d.jsxs("td",{style:{fontWeight:"bold",color:Z>0?"#10b981":"#64748b"},children:[" ",Z.toFixed(2)]}),d.jsx("td",{children:d.jsxs("div",{style:{display:"flex",gap:"10px"},children:[d.jsx("button",{onClick:()=>A($),style:{background:"none",border:"none",cursor:"pointer",color:"#64748b"},children:d.jsx(ng,{size:18})}),d.jsx("button",{onClick:()=>q($.id),style:{background:"none",border:"none",cursor:"pointer",color:"#ef4444"},children:d.jsx(Ei,{size:18})})]})})]},$.id)})})]})})]})]})]})}function wx(){const[i,n]=E.useState([]),[r,l]=E.useState([]),[c,h]=E.useState([]),[f,g]=E.useState(""),[p,y]=E.useState(!1),[b,_]=E.useState(""),[x,T]=E.useState(new Date().toISOString().split("T")[0]),[A,k]=E.useState("Fisica"),[R,q]=E.useState(!1),[N,B]=E.useState({name:"",email:"",phone:"",location:""}),$=E.useRef(null);E.useEffect(()=>{Z();const X=D=>{$.current&&!$.current.contains(D.target)&&y(!1)};return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[]);const Z=async()=>{const{data:X}=await de.from("products").select("*").gt("stock",0),{data:D}=await de.from("clients").select("*").order("name");n(X||[]),l(D||[])},F=X=>{const D=c.find(C=>C.id===X.id);D?D.qty<X.stock?h(c.map(C=>C.id===X.id?{...C,qty:C.qty+1}:C)):alert("Stock insuficiente!"):h([...c,{...X,qty:1,is_offer:!1}]),g(""),y(!1)},I=(X,D)=>{h(c.map(C=>{if(C.id===X){const Q=C.qty+D;return Q<1?C:D>0&&Q>C.stock?(alert("Limite de stock atingido!"),C):{...C,qty:Q}}return C}))},ge=X=>{h(c.map(D=>D.id===X?{...D,is_offer:!D.is_offer}:D))},oe=X=>h(c.filter(D=>D.id!==X)),P=()=>c.reduce((X,D)=>{const C=D.is_offer?0:D.sell_price;return X+C*D.qty},0),ae=()=>c.reduce((X,D)=>{const C=D.is_offer?0:D.sell_price;return X+(C-D.buy_price)*D.qty},0),fe=i.filter(X=>X.name.toLowerCase().includes(f.toLowerCase())),Ve=async X=>{if(X.preventDefault(),!N.name)return alert("O nome  obrigatrio.");const{data:D,error:C}=await de.from("clients").insert([N]).select();if(C)alert("Erro ao criar cliente: "+C.message);else{const Q=D[0];l([...r,Q].sort((ie,he)=>ie.name.localeCompare(he.name))),_(Q.id),q(!1),B({name:"",email:"",phone:"",location:""})}},Le=async()=>{if(c.length===0||!b)return alert("Selecione produtos e um cliente.");const{data:{user:X}}=await de.auth.getUser();let D="Desconhecido";X&&(D=X.user_metadata?.full_name||X.user_metadata?.name||X.email);const C=P(),Q=ae(),{data:ie,error:he}=await de.from("sales").insert([{client_id:b,total_amount:C,total_profit:Q,created_at:x,user_id:X?.id,seller_name:D,sale_channel:A}]).select();if(he)return alert("Erro ao criar venda: "+he.message);const S=ie[0].id;for(const V of c){const M=V.is_offer?0:V.sell_price,J=M-V.buy_price;await de.from("sale_items").insert([{sale_id:S,product_id:V.id,quantity:V.qty,unit_price:M,unit_profit:J}]);const W=i.find(te=>te.id===V.id);await de.from("products").update({stock:W.stock-V.qty}).eq("id",V.id)}alert(`Venda (${A}) registada com sucesso!`),h([]),k("Fisica"),window.location.reload()};return d.jsxs("div",{className:"pos-wrapper",children:[d.jsx("div",{className:"pos-area-client",children:d.jsxs("div",{className:"sidebar-card client-card",children:[d.jsx("label",{children:"Cliente da Venda"}),d.jsxs("div",{className:"client-input-group",children:[d.jsxs("select",{value:b,onChange:X=>_(X.target.value),children:[d.jsx("option",{value:"",children:"Selecione o Cliente..."}),r.map(X=>d.jsx("option",{value:X.id,children:X.name},X.id))]}),d.jsx("button",{className:"add-client-btn",onClick:()=>q(!0),children:d.jsx(lg,{size:18})})]})]})}),d.jsxs("div",{className:"pos-area-main",children:[d.jsxs("div",{className:"search-container",ref:$,children:[d.jsxs("div",{className:"search-input-wrapper",children:[d.jsx(vl,{className:"search-icon",size:20}),d.jsx("input",{type:"text",placeholder:"Pesquisar produto...",value:f,onFocus:()=>y(!0),onChange:X=>g(X.target.value)})]}),p&&f.length>0&&d.jsx("div",{className:"results-dropdown",children:fe.length>0?fe.map(X=>d.jsxs("div",{className:"result-item",onClick:()=>F(X),children:[d.jsxs("div",{className:"result-main-info",children:[d.jsx("div",{className:"product-img-tiny",children:X.image_url?d.jsx("img",{src:X.image_url,alt:""}):d.jsx("div",{className:"no-img-placeholder"})}),d.jsx("div",{className:"result-info",children:d.jsx("span",{className:"result-name",children:X.name})})]}),d.jsxs("span",{className:"result-price",children:["",X.sell_price.toFixed(2)]})]},X.id)):d.jsx("div",{className:"no-results",children:"Nenhum produto encontrado"})})]}),d.jsxs("div",{className:"cart-section",children:[d.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[d.jsxs("h2",{children:[d.jsx(ig,{size:20})," Carrinho"]}),d.jsxs("span",{className:"item-count",children:[c.length," itens"]})]}),d.jsxs("div",{style:{background:"#f1f5f9",padding:"3px",borderRadius:"8px",display:"flex",gap:"5px"},children:[d.jsxs("button",{onClick:()=>k("Fisica"),style:{border:"none",background:A==="Fisica"?"white":"transparent",color:A==="Fisica"?"#0f172a":"#64748b",padding:"5px 10px",borderRadius:"6px",cursor:"pointer",fontWeight:600,boxShadow:A==="Fisica"?"0 1px 2px rgba(0,0,0,0.1)":"none",display:"flex",alignItems:"center",gap:"5px",fontSize:"0.85rem"},children:[d.jsx(sg,{size:14})," Fsica"]}),d.jsxs("button",{onClick:()=>k("Shopify"),style:{border:"none",background:A==="Shopify"?"#9333ea":"transparent",color:A==="Shopify"?"white":"#64748b",padding:"5px 10px",borderRadius:"6px",cursor:"pointer",fontWeight:600,boxShadow:A==="Shopify"?"0 1px 2px rgba(0,0,0,0.1)":"none",display:"flex",alignItems:"center",gap:"5px",fontSize:"0.85rem"},children:[d.jsx(eg,{size:14})," Shopify"]})]})]}),d.jsx("div",{className:"cart-list",children:c.length===0?d.jsx("div",{className:"empty-state",children:"O carrinho est vazio"}):c.map(X=>d.jsxs("div",{className:`cart-card ${X.is_offer?"is-offer-card":""}`,children:[d.jsxs("div",{className:"cart-card-main",children:[d.jsx("div",{className:"product-img-small",children:X.image_url?d.jsx("img",{src:X.image_url,alt:""}):d.jsx("div",{className:"no-img-placeholder"})}),d.jsxs("div",{className:"cart-card-info",children:[d.jsxs("span",{className:"product-name",children:[X.name,X.is_offer&&d.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#dcfce7",color:"#166534",padding:"2px 6px",borderRadius:"4px",fontWeight:"bold"},children:"OFERTA "})]}),d.jsx("span",{className:"product-unit-price",children:X.is_offer?d.jsxs(d.Fragment,{children:[d.jsxs("span",{style:{textDecoration:"line-through",color:"#94a3b8",marginRight:"5px"},children:["",X.sell_price.toFixed(2)]}),d.jsx("span",{style:{color:"#166534",fontWeight:"bold"},children:"0.00"})]}):`${X.sell_price.toFixed(2)} / un`})]})]}),d.jsxs("div",{className:"cart-card-controls",children:[d.jsxs("div",{className:"qty-picker",children:[d.jsx("button",{onClick:()=>I(X.id,-1),children:d.jsx(Q1,{size:14})}),d.jsx("span",{children:X.qty}),d.jsx("button",{onClick:()=>I(X.id,1),children:d.jsx(Ds,{size:14})})]}),d.jsxs("span",{className:"item-total",children:["",(X.is_offer?0:X.sell_price*X.qty).toFixed(2)]}),d.jsx("button",{className:"action-btn offer-btn",onClick:()=>ge(X.id),title:X.is_offer?"Remover Oferta":"Marcar como Oferta",style:{color:X.is_offer?"#166534":"#94a3b8",border:"none",background:"transparent",cursor:"pointer"},children:d.jsx(T1,{size:18,fill:X.is_offer?"#dcfce7":"none"})}),d.jsx("button",{className:"remove-btn",onClick:()=>oe(X.id),children:d.jsx(Ei,{size:18})})]})]},X.id))})]})]}),d.jsx("div",{className:"pos-area-summary",children:d.jsxs("div",{className:"sidebar-card summary-card",children:[d.jsxs("div",{className:"summary-row",children:[d.jsx("span",{children:"Canal"}),d.jsx("span",{style:{fontWeight:"bold",color:A==="Shopify"?"#9333ea":"#0f172a"},children:A==="Shopify"?" Shopify":" Loja Fsica"})]}),d.jsxs("div",{className:"summary-row",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["",P().toFixed(2)]})]}),d.jsxs("div",{className:"summary-row profit",children:[d.jsx("span",{children:"Lucro da Venda"}),d.jsxs("span",{children:["",ae().toFixed(2)]})]}),d.jsxs("div",{className:"summary-total",children:[d.jsx("label",{children:"Total a Pagar"}),d.jsxs("div",{className:"total-amount",children:["",P().toFixed(2)]})]}),d.jsx("button",{className:"checkout-btn",onClick:Le,disabled:c.length===0,children:"Confirmar Venda"})]})}),R&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h3",{children:"Novo Cliente"}),d.jsx("button",{onClick:()=>q(!1),className:"close-modal",children:d.jsx(Fa,{size:20})})]}),d.jsxs("form",{onSubmit:Ve,className:"modern-form",children:[d.jsx("input",{placeholder:"Nome",value:N.name,onChange:X=>B({...N,name:X.target.value}),required:!0}),d.jsx("input",{placeholder:"Email",type:"email",value:N.email,onChange:X=>B({...N,email:X.target.value})}),d.jsx("input",{placeholder:"Telefone",value:N.phone,onChange:X=>B({...N,phone:X.target.value})}),d.jsx("input",{placeholder:"Localidade",value:N.location,onChange:X=>B({...N,location:X.target.value})}),d.jsx("button",{type:"submit",className:"save-btn",children:"Criar e Selecionar"})]})]})})]})}function xx(){const[i,n]=E.useState([]),[r,l]=E.useState([]),[c,h]=E.useState(!0),[f,g]=E.useState(""),[p,y]=E.useState({}),[b,_]=E.useState(""),[x,T]=E.useState(""),[A,k]=E.useState(!1),[R,q]=E.useState(null);E.useEffect(()=>{N()},[]);const N=async()=>{h(!0);const{data:P,error:ae}=await de.from("sales").select("*, clients(id, name), sale_items(*, products(name))").order("created_at",{ascending:!1});P&&n(P),ae&&console.error("Erro ao buscar vendas:",ae);const{data:fe}=await de.from("clients").select("id, name").order("name");fe&&l(fe),h(!1)},B=P=>{y(ae=>({...ae,[P]:!ae[P]}))},$=async(P,ae)=>{try{const fe=!ae,{error:Ve}=await de.from("sales").update({is_paid:fe}).eq("id",P.id);if(Ve)throw Ve;n(Le=>Le.map(X=>X.id===P.id?{...X,is_paid:fe}:X))}catch(fe){console.error("Erro ao atualizar pagamento:",fe),alert("Erro ao atualizar estado de pagamento.")}},Z=async P=>{if(window.confirm("Tem a certeza que deseja anular esta venda? O stock ser reposto."))try{for(const Ve of P.sale_items){const{data:Le}=await de.from("products").select("stock").eq("id",Ve.product_id).single();Le&&await de.from("products").update({stock:Le.stock+Ve.quantity}).eq("id",Ve.product_id)}const{error:ae}=await de.from("sale_items").delete().eq("sale_id",P.id);if(ae)throw ae;const{error:fe}=await de.from("sales").delete().eq("id",P.id);if(fe)throw fe;alert("Venda anulada e stock reposto."),N()}catch(ae){console.error(ae),alert("Erro ao anular venda: "+ae.message)}},F=(P,ae)=>{ae.stopPropagation(),q({id:P.id,created_at:P.created_at.split("T")[0],client_id:P.client_id||"",sale_channel:P.sale_channel||"Fisica",is_paid:P.is_paid}),k(!0)},I=async P=>{P.preventDefault();try{const{error:ae}=await de.from("sales").update({created_at:R.created_at,client_id:R.client_id===""?null:R.client_id,sale_channel:R.sale_channel,is_paid:R.is_paid}).eq("id",R.id);if(ae)throw ae;alert("Venda atualizada!"),k(!1),N()}catch(ae){alert("Erro: "+ae.message)}},ge=()=>{const P=i.filter(C=>{if(!b&&!x)return!0;const Q=new Date(C.created_at),ie=b?new Date(b):new Date("2000-01-01");ie.setHours(0,0,0,0);const he=x?new Date(x):new Date;return he.setHours(23,59,59,999),Q>=ie&&Q<=he});if(P.length===0){alert("No existem vendas no perodo selecionado.");return}const fe=[["Data","Vendedor","Nome do Cliente","Produto","Quantidade","Preo Unitrio","Total","Pago?"].join(";")];for(const C of P){const ie=new Date(C.created_at).toLocaleDateString("pt-PT"),he=C.clients?.name||"Cliente Final",S=C.seller_name||"Admin",V=C.is_paid?"Sim":"No";if(C.sale_items&&C.sale_items.length>0)for(const M of C.sale_items){const J=M.products?.name||"Produto Removido",W=M.quantity*M.unit_price,te=[ie,`"${S}"`,`"${he}"`,`"${J}"`,M.quantity,M.unit_price.toFixed(2).replace(".",","),W.toFixed(2).replace(".",","),V];fe.push(te.join(";"))}}const Ve="\uFEFF"+fe.join(`
`),Le=new Blob([Ve],{type:"text/csv;charset=utf-8;"}),X=URL.createObjectURL(Le),D=document.createElement("a");D.href=X,D.download=`Vendas_Detalhado_${b||"inicio"}_ate_${x||"hoje"}.csv`,D.click(),URL.revokeObjectURL(X)},oe=i.filter(P=>(P.clients?.name||"Cliente Final").toLowerCase().includes(f.toLowerCase())||(P.seller_name||"").toLowerCase().includes(f.toLowerCase()));return d.jsxs("div",{className:"page",children:[d.jsx("div",{className:"dashboard-header",children:d.jsx("h2",{children:"Histrico de Vendas"})}),d.jsxs("div",{className:"list-container",children:[d.jsxs("div",{className:"list-header",style:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between"},children:[d.jsxs("div",{style:{position:"relative",width:"300px"},children:[d.jsx(vl,{size:18,style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",color:"#64748b"}}),d.jsx("input",{className:"search-bar",placeholder:"Procurar cliente ou vendedor...",value:f,onChange:P=>g(P.target.value),style:{margin:0,paddingLeft:35,width:"100%"}})]}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",background:"white",padding:"6px 10px",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[d.jsx("input",{type:"date",value:b,onChange:P=>_(P.target.value),style:{border:"none",outline:"none",color:"#475569",fontFamily:"inherit"},title:"Data Inicial"}),d.jsx("span",{style:{color:"#cbd5e1"},children:"-"}),d.jsx("input",{type:"date",value:x,onChange:P=>T(P.target.value),style:{border:"none",outline:"none",color:"#475569",fontFamily:"inherit"},title:"Data Final"})]}),d.jsxs("button",{onClick:ge,className:"action-btn",style:{background:"#10b981",color:"white",width:"auto",padding:"0 15px",height:"38px",display:"flex",alignItems:"center",gap:"8px",borderRadius:"8px",fontWeight:"600",border:"none",cursor:"pointer"},children:[d.jsx(_1,{size:18}),d.jsx("span",{children:"CSV Detalhado"})]})]})]}),d.jsx("div",{className:"table-wrapper",children:d.jsxs("table",{style:{minWidth:"1000px"},children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{style:{width:"40px"}}),d.jsx("th",{children:"Data"}),d.jsx("th",{children:"Canal"}),d.jsx("th",{children:"Cliente"}),d.jsx("th",{children:"Total"}),d.jsx("th",{children:"Lucro"}),d.jsx("th",{style:{textAlign:"center",width:"60px"},children:"Pago"})," ",d.jsx("th",{children:"Aes"})]})}),d.jsx("tbody",{children:c?d.jsx("tr",{children:d.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"30px"},children:"A carregar histrico..."})}):oe.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"30px"},children:"Nenhuma venda encontrada."})}):oe.map(P=>d.jsxs(bp.Fragment,{children:[d.jsxs("tr",{onClick:()=>B(P.id),style:{cursor:"pointer",background:p[P.id]?"#f8fafc":"white"},children:[d.jsx("td",{style:{textAlign:"center"},children:p[P.id]?d.jsx(Fp,{size:16}):d.jsx(Cc,{size:16})}),d.jsx("td",{children:d.jsx("span",{style:{fontWeight:500},children:new Date(P.created_at).toLocaleDateString()})}),d.jsx("td",{children:P.sale_channel==="Shopify"?d.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",background:"#f3e8ff",color:"#9333ea",padding:"4px 8px",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"bold"},children:[d.jsx(eg,{size:12})," Shopify"]}):d.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",background:"#f1f5f9",color:"#64748b",padding:"4px 8px",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"bold"},children:[d.jsx(sg,{size:12})," Fsica"]})}),d.jsx("td",{children:P.clients?.name||d.jsx("span",{style:{color:"#94a3b8"},children:"Cliente Final"})}),d.jsxs("td",{style:{fontWeight:"bold"},children:[" ",P.total_amount.toFixed(2)]}),d.jsxs("td",{style:{color:P.total_profit>=0?"#10b981":"#ef4444"},children:[P.total_profit>=0?"+":""," ",P.total_profit.toFixed(2)]}),d.jsx("td",{style:{textAlign:"center",verticalAlign:"middle"},onClick:ae=>ae.stopPropagation(),children:d.jsx("input",{type:"checkbox",checked:P.is_paid||!1,onChange:()=>$(P,P.is_paid),style:{width:"16px",height:"16px",cursor:"pointer",verticalAlign:"middle"},title:"Marcar como Pago/No Pago"})}),d.jsx("td",{children:d.jsxs("div",{className:"table-actions",children:[d.jsx("button",{className:"action-btn btn-edit",title:"Editar Detalhes",onClick:ae=>F(P,ae),children:d.jsx(ix,{size:18})}),d.jsx("button",{className:"action-btn btn-delete",title:"Anular Venda",onClick:ae=>{ae.stopPropagation(),Z(P)},children:d.jsx(Ei,{size:18})})]})})]}),p[P.id]&&d.jsx("tr",{style:{background:"#f8fafc"},children:d.jsx("td",{colSpan:"8",style:{padding:"0 20px 20px 20px"},children:d.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"15px",border:"1px solid #e2e8f0",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[d.jsxs("h5",{style:{margin:"0",display:"flex",alignItems:"center",gap:"8px",color:"#475569"},children:[d.jsx(Ls,{size:16})," Itens da Venda"]}),d.jsxs("div",{style:{fontSize:"0.9rem",color:"#64748b",display:"flex",alignItems:"center",gap:"5px"},children:[d.jsx(og,{size:14}),"Vendedor: ",d.jsx("span",{style:{color:"#334155",fontWeight:"600"},children:P.seller_name||"Admin"})]})]}),d.jsxs("table",{style:{width:"100%",fontSize:"0.9rem"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{background:"#f1f5f9"},children:[d.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Produto"}),d.jsx("th",{style:{padding:"8px",textAlign:"center"},children:"Qtd"}),d.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Preo Un."}),d.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Subtotal"})]})}),d.jsx("tbody",{children:P.sale_items.map(ae=>{const fe=ae.unit_price===0;return d.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[d.jsxs("td",{style:{padding:"8px"},children:[ae.products?.name||"Produto Removido",fe&&d.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",background:"#dcfce7",color:"#166534",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"OFERTA"})]}),d.jsx("td",{style:{padding:"8px",textAlign:"center"},children:ae.quantity}),d.jsx("td",{style:{padding:"8px",textAlign:"right"},children:fe?d.jsx("span",{style:{color:"#166534",fontWeight:"bold"},children:"Grtis"}):` ${ae.unit_price.toFixed(2)}`}),d.jsxs("td",{style:{padding:"8px",textAlign:"right",fontWeight:"500"},children:[" ",(ae.quantity*ae.unit_price).toFixed(2)]})]},ae.id)})})]})]})})})]},P.id))})]})})]}),A&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content",style:{maxWidth:"400px"},children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h3",{children:"Editar Venda"}),d.jsx("button",{onClick:()=>k(!1),className:"close-modal",children:d.jsx(Fa,{size:20})})]}),d.jsxs("form",{onSubmit:I,className:"modern-form",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Data da Venda"}),d.jsx("input",{type:"date",value:R.created_at,onChange:P=>q({...R,created_at:P.target.value}),required:!0})]}),d.jsxs("div",{className:"input-group",style:{marginTop:"15px"},children:[d.jsx("label",{children:"Cliente"}),d.jsxs("select",{value:R.client_id||"",onChange:P=>q({...R,client_id:P.target.value}),className:"modern-input",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[d.jsx("option",{value:"",children:"Cliente Final (Sem Registo)"}),r.map(P=>d.jsx("option",{value:P.id,children:P.name},P.id))]})]}),d.jsxs("div",{className:"input-group",style:{marginTop:"15px"},children:[d.jsx("label",{children:"Canal de Venda"}),d.jsxs("select",{value:R.sale_channel,onChange:P=>q({...R,sale_channel:P.target.value}),className:"modern-input",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[d.jsx("option",{value:"Fisica",children:" Loja Fsica"}),d.jsx("option",{value:"Shopify",children:" Shopify"})]})]}),d.jsxs("div",{className:"input-group",style:{marginTop:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[d.jsx("input",{type:"checkbox",id:"modal-paid",checked:R.is_paid||!1,onChange:P=>q({...R,is_paid:P.target.checked}),style:{width:"18px",height:"18px"}}),d.jsx("label",{htmlFor:"modal-paid",style:{margin:0,cursor:"pointer"},children:"Marcar como Pago"})]}),d.jsxs("button",{type:"submit",className:"save-btn",style:{marginTop:"20px"},children:[d.jsx(Rc,{size:18})," Atualizar Venda"]})]})]})})]})}function Sx(){const[i,n]=E.useState("month"),[r,l]=E.useState(!1),[c,h]=E.useState({revenue:0,profit:0,salesCount:0,bestDay:"-"}),[f,g]=E.useState([]),[p,y]=E.useState([]);E.useEffect(()=>{_()},[i]),E.useEffect(()=>{x()},[]);const b=()=>{const T=new Date,A=new Date;switch(i){case"today":A.setHours(0,0,0,0);break;case"week":A.setDate(T.getDate()-7);break;case"month":A.setDate(1),A.setHours(0,0,0,0);break;case"year":A.setMonth(0,1),A.setHours(0,0,0,0);break;default:A.setDate(1)}return A.toISOString()},_=async()=>{l(!0);const T=b();try{const{data:A,error:k}=await de.from("sales").select("*").gte("created_at",T);if(k)throw k;const R=A.reduce(($,Z)=>$+Z.total_amount,0),q=A.reduce(($,Z)=>$+Z.total_profit,0),N={};A.forEach($=>{const Z=new Date($.created_at).toLocaleDateString();N[Z]=(N[Z]||0)+$.total_amount});const B=Object.keys(N).reduce(($,Z)=>N[$]>N[Z]?$:Z,"-");if(h({revenue:R,profit:q,salesCount:A.length,bestDay:B}),A.length>0){const $=A.map(oe=>oe.id),{data:Z,error:F}=await de.from("sale_items").select("quantity, unit_price, unit_profit, products(name, brand)").in("sale_id",$);if(F)throw F;const I={};Z.forEach(oe=>{const P=oe.products?.name||"Desconhecido",ae=oe.products?.brand||"",fe=`${P}-${ae}`;I[fe]||(I[fe]={name:P,brand:ae,qty:0,revenue:0,profit:0}),I[fe].qty+=oe.quantity,I[fe].revenue+=oe.unit_price*oe.quantity,I[fe].profit+=oe.unit_profit*oe.quantity});const ge=Object.values(I).sort((oe,P)=>P.qty-oe.qty).slice(0,10);g(ge)}else g([])}catch(A){console.error("Erro na anlise:",A)}finally{l(!1)}},x=async()=>{try{const{data:T,error:A}=await de.from("sales").select("created_at, total_amount, sale_channel").order("created_at",{ascending:!1});if(A)throw A;const k={};T.forEach(q=>{const N=new Date(q.created_at),B=`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}`,$=N.toLocaleString("pt-PT",{month:"long",year:"numeric"});k[B]||(k[B]={key:B,name:$.charAt(0).toUpperCase()+$.slice(1),physical:0,online:0,total:0});const Z=q.total_amount;k[B].total+=Z,q.sale_channel==="Shopify"?k[B].online+=Z:k[B].physical+=Z});let R=Object.values(k);R.sort((q,N)=>N.key.localeCompare(q.key)),R=R.slice(0,12),y(R)}catch(T){console.error("Erro ao buscar stats mensais:",T)}};return d.jsxs("div",{className:"page",children:[d.jsxs("div",{className:"dashboard-header",style:{marginBottom:"20px"},children:[d.jsx("h2",{children:"Anlise de Performance"}),d.jsxs("div",{className:"time-filter-container",children:[d.jsx(j1,{size:16,style:{marginRight:8,color:"#64748b"}}),d.jsxs("select",{value:i,onChange:T=>n(T.target.value),className:"time-select",children:[d.jsx("option",{value:"today",children:"Hoje"}),d.jsx("option",{value:"week",children:"ltimos 7 Dias"}),d.jsx("option",{value:"month",children:"Este Ms"}),d.jsx("option",{value:"year",children:"Este Ano"})]})]})]}),d.jsxs("div",{className:"stats-grid",children:[d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:"icon-wrapper blue",children:d.jsx(hl,{size:24})}),d.jsx("span",{className:"stat-label",children:"Faturao"})]}),d.jsxs("div",{className:"stat-value",children:[" ",c.revenue.toFixed(2)]})]}),d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:"icon-wrapper green",children:d.jsx(rg,{size:24})}),d.jsx("span",{className:"stat-label",children:"Lucro Lquido"})]}),d.jsxs("div",{className:"stat-value",children:[" ",c.profit.toFixed(2)]}),d.jsxs("div",{className:"stat-sub",style:{color:"#166534"},children:["Margem: ",c.revenue?(c.profit/c.revenue*100).toFixed(1):0,"%"]})]}),d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:"icon-wrapper purple",children:d.jsx(Ls,{size:24})}),d.jsx("span",{className:"stat-label",children:"Total Vendas"})]}),d.jsx("div",{className:"stat-value",children:c.salesCount})]}),d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:"icon-wrapper orange",children:d.jsx(s1,{size:24})}),d.jsx("span",{className:"stat-label",children:"Melhor Dia"})]}),d.jsx("div",{className:"stat-value",style:{fontSize:"1.4rem"},children:c.bestDay})]})]}),d.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap",marginTop:"30px"},children:[d.jsxs("div",{className:"list-container",style:{flex:1,minWidth:"400px"},children:[d.jsx("div",{className:"list-header",children:d.jsx("h3",{children:" Top Produtos (Qtd)"})}),d.jsx("div",{className:"table-wrapper",children:d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"#"}),d.jsx("th",{children:"Produto"}),d.jsx("th",{style:{textAlign:"center"},children:"Qtd"}),d.jsx("th",{style:{textAlign:"right"},children:"Total"})]})}),d.jsx("tbody",{children:r?d.jsx("tr",{children:d.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"20px"},children:"A analisar..."})}):f.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"20px"},children:"Sem dados."})}):f.map((T,A)=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("span",{className:`badge ${A===0?"badge-success":"badge-neutral"}`,children:A+1})}),d.jsxs("td",{children:[d.jsx("span",{style:{fontWeight:500},children:T.name}),d.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:T.brand})]}),d.jsx("td",{style:{fontWeight:"bold",textAlign:"center"},children:T.qty}),d.jsxs("td",{style:{textAlign:"right"},children:[" ",T.revenue.toFixed(0)]})]},A))})]})})]}),d.jsxs("div",{className:"list-container",style:{flex:1,minWidth:"400px"},children:[d.jsx("div",{className:"list-header",children:d.jsx("h3",{children:" Faturao Mensal (ltimos 12 Meses)"})}),d.jsx("div",{className:"table-wrapper",children:d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Ms"}),d.jsx("th",{style:{textAlign:"right"},children:" Fsica"}),d.jsx("th",{style:{textAlign:"right"},children:" Online"}),d.jsx("th",{style:{textAlign:"right"},children:"Total"})]})}),d.jsx("tbody",{children:p.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"20px"},children:"Sem histrico recente."})}):p.map(T=>d.jsxs("tr",{children:[d.jsx("td",{style:{fontWeight:500,color:"#334155"},children:T.name}),d.jsxs("td",{style:{textAlign:"right",color:"#64748b"},children:[" ",T.physical.toFixed(2)]}),d.jsxs("td",{style:{textAlign:"right",color:"#9333ea",fontWeight:500},children:[" ",T.online.toFixed(2)]}),d.jsxs("td",{style:{textAlign:"right",fontWeight:"bold"},children:[" ",T.total.toFixed(2)]})]},T.key))})]})})]})]})]})}function jx(){const[i,n]=E.useState("transactions"),[r,l]=E.useState([]),[c,h]=E.useState([]),[f,g]=E.useState(!0),[p,y]=E.useState(!1),[b,_]=E.useState(""),[x,T]=E.useState({}),[A,k]=E.useState({name:"",location:"",contact_person:"",email:"",phone:"",start_date:"",default_commission:0}),[R,q]=E.useState({partner_id:"",delivery_date:"",payment_deadline:"",payment_status:"Pendente"}),[N,B]=E.useState({sku:"",qty_delivered:0,current_stock:0,sales_count:0,total_sales_value:0,commission_rate:0}),[$,Z]=E.useState([]);E.useEffect(()=>{F()},[]);const F=async()=>{g(!0);const{data:C}=await de.from("b2b_partners").select("*").order("name");l(C||[]);const{data:Q,error:ie}=await de.from("b2b_deliveries").select(`
        *,
        b2b_partners (name, location),
        b2b_delivery_items (*)
      `).order("created_at",{ascending:!1});ie&&console.error(ie),h(Q||[]),g(!1)},I=C=>{if(C.preventDefault(),!N.sku)return alert("Preencha o SKU");const Q=N.sales_count*N.commission_rate,ie={...N,commission_total:Q,receivable_part:N.total_sales_value-Q};Z([...$,ie]),B({sku:"",qty_delivered:0,current_stock:0,sales_count:0,total_sales_value:0,commission_rate:N.commission_rate})},ge=C=>{const Q=[...$];Q.splice(C,1),Z(Q)},oe=async C=>{if(C.preventDefault(),$.length===0)return alert("Adicione pelo menos um produto (SKU)  lista.");const Q=$.reduce((ie,he)=>ie+he.receivable_part,0);try{const{data:ie,error:he}=await de.from("b2b_deliveries").insert([{...R,total_receivable:Q}]).select().single();if(he)throw he;const S=$.map(M=>({delivery_id:ie.id,sku:M.sku,qty_delivered:M.qty_delivered,current_stock:M.current_stock,sales_count:M.sales_count,total_sales_value:M.total_sales_value,commission_rate:M.commission_rate,commission_total:M.commission_total})),{error:V}=await de.from("b2b_delivery_items").insert(S);if(V)throw V;alert("Registo B2B criado com sucesso!"),y(!1),Z([]),q({partner_id:"",delivery_date:"",payment_deadline:"",payment_status:"Pendente"}),F()}catch(ie){console.error(ie),alert("Erro ao gravar: "+ie.message)}},P=C=>{const Q=C.target.value,ie=r.find(he=>he.id===Q);q({...R,partner_id:Q}),ie&&B(he=>({...he,commission_rate:ie.default_commission}))},ae=async C=>{C.preventDefault();const{error:Q}=await de.from("b2b_partners").insert([A]);Q||(alert("Parceiro criado!"),y(!1),F(),k({name:"",location:"",contact_person:"",email:"",phone:"",start_date:"",default_commission:0}))},fe=async(C,Q)=>{const ie=Q==="Pendente"?"Pago":"Pendente";await de.from("b2b_deliveries").update({payment_status:ie}).eq("id",C),F()},Ve=C=>{T(Q=>({...Q,[C]:!Q[C]}))},Le=async C=>{window.confirm("Apagar este registo e todos os itens associados?")&&(await de.from("b2b_deliveries").delete().eq("id",C),F())},X=async C=>{window.confirm("Apagar parceiro? Isto pode apagar o histrico dele.")&&(await de.from("b2b_partners").delete().eq("id",C),F())},D=c.filter(C=>C.b2b_partners?.name.toLowerCase().includes(b.toLowerCase()));return d.jsxs("div",{className:"page",children:[d.jsxs("div",{className:"b2b-header",children:[d.jsxs("div",{className:"b2b-header-left",children:[d.jsx("h2",{children:"Gesto B2B"}),d.jsxs("div",{className:"b2b-tabs",children:[d.jsx("button",{className:`b2b-tab ${i==="transactions"?"active":""}`,onClick:()=>n("transactions"),children:"Entregas"}),d.jsx("button",{className:`b2b-tab ${i==="partners"?"active":""}`,onClick:()=>n("partners"),children:"Parceiros"})]})]}),d.jsxs("button",{className:"btn-primary-small",onClick:()=>y(!0),children:[d.jsx(Ds,{size:18})," Novo ",i==="transactions"?"Registo":"Parceiro"]})]}),i==="transactions"&&d.jsxs("div",{className:"list-container",children:[d.jsx("div",{className:"list-header",children:d.jsxs("div",{style:{position:"relative",width:"300px"},children:[d.jsx(vl,{size:18,style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",color:"#64748b"}}),d.jsx("input",{className:"search-bar",placeholder:"Procurar Estabelecimento...",value:b,onChange:C=>_(C.target.value),style:{margin:0,paddingLeft:35}})]})}),d.jsx("div",{className:"table-wrapper",children:d.jsxs("table",{style:{minWidth:"1000px"},children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{style:{width:"40px"}}),d.jsx("th",{children:"Estabelecimento"}),d.jsx("th",{children:"Data Entrega"}),d.jsx("th",{children:"Resumo SKUs"}),d.jsx("th",{children:"Total a Receber"}),d.jsx("th",{children:"Estado"}),d.jsx("th",{children:"Data Limite"}),d.jsx("th",{children:"Aes"})]})}),d.jsx("tbody",{children:D.map(C=>d.jsxs(bp.Fragment,{children:[d.jsxs("tr",{style:{background:x[C.id]?"#f8fafc":"white",cursor:"pointer"},onClick:()=>Ve(C.id),children:[d.jsx("td",{style:{textAlign:"center"},children:x[C.id]?d.jsx(Fp,{size:16}):d.jsx(Cc,{size:16})}),d.jsx("td",{children:d.jsx("strong",{children:C.b2b_partners?.name})}),d.jsx("td",{children:new Date(C.delivery_date).toLocaleDateString()}),d.jsx("td",{children:d.jsxs("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:[C.b2b_delivery_items.length," produto(s): ",C.b2b_delivery_items.map(Q=>Q.sku).join(", ")]})}),d.jsxs("td",{style:{fontWeight:"bold",color:"#10b981",fontSize:"1rem"},children:[" ",C.total_receivable.toFixed(2)]}),d.jsx("td",{children:d.jsx("span",{className:`badge ${C.payment_status==="Pago"?"badge-success":"badge-danger"}`,onClick:Q=>{Q.stopPropagation(),fe(C.id,C.payment_status)},children:C.payment_status})}),d.jsx("td",{children:C.payment_deadline?new Date(C.payment_deadline).toLocaleDateString():"-"}),d.jsx("td",{children:d.jsx("button",{onClick:Q=>{Q.stopPropagation(),Le(C.id)},className:"delete-btn",children:d.jsx(Ei,{size:16})})})]}),x[C.id]&&d.jsx("tr",{className:"expanded-row-bg",children:d.jsx("td",{colSpan:"8",className:"nested-details-container",children:d.jsxs("div",{className:"nested-card",children:[d.jsxs("h5",{className:"nested-header",children:[d.jsx(Ls,{size:16})," Detalhes dos Produtos"]}),d.jsxs("table",{className:"nested-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"SKU"}),d.jsx("th",{children:"Entregue"}),d.jsx("th",{children:"Stock Atual"}),d.jsx("th",{children:"Vendas"}),d.jsx("th",{children:"Faturao"}),d.jsx("th",{children:"Comisso (Total)"}),d.jsx("th",{children:"Lquido Item"})]})}),d.jsx("tbody",{children:C.b2b_delivery_items.map(Q=>{const ie=Q.total_sales_value-Q.commission_total;return d.jsxs("tr",{children:[d.jsx("td",{style:{fontWeight:500},children:Q.sku}),d.jsx("td",{children:Q.qty_delivered}),d.jsx("td",{children:Q.current_stock}),d.jsx("td",{children:Q.sales_count}),d.jsxs("td",{children:[" ",Q.total_sales_value]}),d.jsxs("td",{style:{color:"#ef4444"},children:[" ",Q.commission_total]}),d.jsxs("td",{style:{fontWeight:"bold",color:"#10b981"},children:[" ",ie.toFixed(2)]})]},Q.id)})})]})]})})})]},C.id))})]})})]}),i==="partners"&&d.jsx("div",{className:"list-container",children:d.jsx("div",{className:"table-wrapper",children:d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Nome"}),d.jsx("th",{children:"Localizao"}),d.jsx("th",{children:"Comisso Base"}),d.jsx("th",{children:"Aes"})]})}),d.jsx("tbody",{children:r.map(C=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:C.name})}),d.jsx("td",{children:C.location}),d.jsxs("td",{children:[" ",C.default_commission," / lata"]}),d.jsx("td",{children:d.jsx("button",{onClick:()=>X(C.id),className:"delete-btn",children:d.jsx(Ei,{size:16})})})]},C.id))})]})})}),p&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content",style:{maxWidth:"800px",width:"95%"},children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h3",{children:i==="transactions"?"Nova Entrega B2B":"Novo Parceiro"}),d.jsx("button",{onClick:()=>y(!1),className:"close-modal",children:d.jsx(Fa,{size:20})})]}),i==="partners"?d.jsxs("form",{onSubmit:ae,className:"modern-form",children:[d.jsx("input",{placeholder:"Nome Estabelecimento",value:A.name,onChange:C=>k({...A,name:C.target.value}),required:!0}),d.jsx("input",{placeholder:"Localizao",value:A.location,onChange:C=>k({...A,location:C.target.value})}),d.jsx("input",{placeholder:"Comisso Base ()",type:"number",step:"0.01",value:A.default_commission,onChange:C=>k({...A,default_commission:C.target.value})}),d.jsx("button",{className:"submit-btn-modern",children:"Guardar"})]}):d.jsxs("div",{className:"modern-form",style:{maxHeight:"80vh",overflowY:"auto"},children:[d.jsxs("div",{className:"b2b-form-section",children:[d.jsx("h4",{className:"b2b-form-title",children:"1. Dados da Entrega"}),d.jsxs("div",{className:"form-row-grid",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Estabelecimento"}),d.jsxs("select",{value:R.partner_id,onChange:P,className:"modern-input",style:{width:"100%",padding:"10px"},children:[d.jsx("option",{value:"",children:"Selecione..."}),r.map(C=>d.jsx("option",{value:C.id,children:C.name},C.id))]})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Data Entrega"}),d.jsx("input",{type:"date",value:R.delivery_date,onChange:C=>q({...R,delivery_date:C.target.value})})]})]}),d.jsxs("div",{className:"input-group",style:{marginTop:"10px"},children:[d.jsx("label",{children:"Data Limite Pagamento"}),d.jsx("input",{type:"date",value:R.payment_deadline,onChange:C=>q({...R,payment_deadline:C.target.value})})]})]}),d.jsxs("div",{className:"b2b-form-section",children:[d.jsx("h4",{className:"b2b-form-title",children:"2. Adicionar Produtos (SKUs)"}),d.jsxs("div",{className:"form-row-grid",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"SKU (Nome Produto)"}),d.jsx("input",{placeholder:"Ex: ZYN 10mg",value:N.sku,onChange:C=>B({...N,sku:C.target.value})})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Comisso Un. ()"}),d.jsx("input",{type:"number",step:"0.01",value:N.commission_rate,onChange:C=>B({...N,commission_rate:C.target.value})})]})]}),d.jsxs("div",{className:"form-row-grid",style:{marginTop:"10px"},children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Qtd Entregue"}),d.jsx("input",{type:"number",value:N.qty_delivered,onChange:C=>B({...N,qty_delivered:C.target.value})})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Stock Atual"}),d.jsx("input",{type:"number",value:N.current_stock,onChange:C=>B({...N,current_stock:C.target.value})})]})]}),d.jsxs("div",{className:"form-row-grid",style:{marginTop:"10px"},children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Vendas (Qtd)"}),d.jsx("input",{type:"number",value:N.sales_count,onChange:C=>B({...N,sales_count:C.target.value})})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Total Vendas ()"}),d.jsx("input",{type:"number",step:"0.01",value:N.total_sales_value,onChange:C=>B({...N,total_sales_value:C.target.value})})]})]}),d.jsxs("button",{onClick:I,className:"btn-add-item",children:[d.jsx(Ds,{size:16})," Adicionar Produto  Lista"]})]}),$.length>0&&d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("h4",{className:"b2b-form-title",children:"Resumo da Entrega"}),d.jsxs("table",{className:"b2b-summary-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"SKU"}),d.jsx("th",{style:{textAlign:"center"},children:"Vendas"}),d.jsx("th",{style:{textAlign:"center"},children:"Lquido"}),d.jsx("th",{})]})}),d.jsx("tbody",{children:$.map((C,Q)=>d.jsxs("tr",{children:[d.jsx("td",{children:C.sku}),d.jsx("td",{style:{textAlign:"center"},children:C.sales_count}),d.jsxs("td",{style:{textAlign:"center",fontWeight:"bold"},children:[" ",C.receivable_part.toFixed(2)]}),d.jsx("td",{style:{textAlign:"right"},children:d.jsx("button",{onClick:()=>ge(Q),style:{color:"#ef4444",background:"none",border:"none",cursor:"pointer"},children:"X"})})]},Q))})]}),d.jsxs("div",{className:"b2b-total-display",children:["Total a Receber:  ",$.reduce((C,Q)=>C+Q.receivable_part,0).toFixed(2)]})]}),d.jsx("button",{onClick:oe,className:"submit-btn-modern",children:"Gravar Registo Completo"})]})]})})]})}function Ex(){const[i,n]=E.useState(""),[r,l]=E.useState(!1),[c,h]=E.useState(!1),[f,g]=E.useState("A validar o teu convite...");E.useEffect(()=>{(async()=>{const{data:{session:_}}=await de.auth.getSession();_&&h(!0)})();const{data:{subscription:b}}=de.auth.onAuthStateChange((_,x)=>{x&&h(!0)});return()=>b.unsubscribe()},[]);const p=async y=>{if(y.preventDefault(),i.length<6)return alert("A password deve ter pelo menos 6 caracteres.");l(!0);const{data:{session:b}}=await de.auth.getSession();if(!b){alert("Sesso perdida. Por favor, clica no link do email novamente."),l(!1);return}const{error:_}=await de.auth.updateUser({password:i});_?alert("Erro: "+_.message):(alert("Password definida com sucesso! A entrar..."),window.location.hash="",window.location.reload()),l(!1)};return c?d.jsxs("div",{className:"login-container",children:[d.jsxs("div",{className:"login-background",children:[d.jsx("div",{className:"shape shape-1"}),d.jsx("div",{className:"shape shape-2"})]}),d.jsxs("div",{className:"login-card",children:[d.jsxs("div",{className:"login-header",children:[d.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"15px"},children:d.jsx(p1,{size:48,color:"#10b981"})}),d.jsx("h1",{children:"Definir Password"}),d.jsx("p",{children:"Convite aceite! Escolhe a tua password para concluir."})]}),d.jsxs("form",{onSubmit:p,className:"login-form",children:[d.jsxs("div",{className:"input-group-login",children:[d.jsx(tg,{className:"input-icon-login",size:20}),d.jsx("input",{type:"password",placeholder:"Nova Password",value:i,onChange:y=>n(y.target.value),required:!0,autoFocus:!0})]}),d.jsx("button",{type:"submit",className:"login-btn",disabled:r,children:r?"A guardar...":d.jsxs(d.Fragment,{children:[d.jsx(Rc,{size:20})," Concluir Registo"]})})]})]})]}):d.jsx("div",{className:"login-container",children:d.jsxs("div",{className:"login-card",style:{textAlign:"center",padding:"40px"},children:[d.jsx(Oc,{className:"spin",size:40,color:"#2563eb",style:{margin:"0 auto 20px auto"}}),d.jsx("h3",{children:"A validar acesso..."}),d.jsx("p",{style:{color:"#64748b"},children:"Aguarde enquanto confirmamos o seu convite."})]})})}const Tx="/snusstation-pos/assets/logo-navbar-DCgMqc4b.png",Sn=({to:i,icon:n,label:r,onClick:l})=>{const h=ja().pathname===i;return d.jsxs(xc,{to:i,className:`nav-item ${h?"active":""}`,onClick:l,children:[d.jsx(n,{size:20})," ",r]})};function Ax(){const[i,n]=E.useState(null),[r,l]=E.useState(!1),[c,h]=E.useState(!1),[f,g]=E.useState(!0);E.useEffect(()=>{const y=window.location.hash;y&&(y.includes("type=invite")||y.includes("type=recovery"))&&(console.log("Modo de recuperao/convite detetado via URL"),h(!0)),de.auth.getSession().then(({data:{session:_}})=>{n(_),y.includes("type=invite")||g(!1)});const{data:{subscription:b}}=de.auth.onAuthStateChange((_,x)=>{if(console.log("Evento Auth:",_),n(x),_==="PASSWORD_RECOVERY"||_==="SIGNED_IN"){const T=window.location.hash;(T.includes("type=invite")||T.includes("type=recovery")||_==="PASSWORD_RECOVERY")&&h(!0)}g(!1)});return()=>b.unsubscribe()},[]);const p=async()=>{await de.auth.signOut(),h(!1),l(!1),n(null)};return c?d.jsx(Ex,{}):f?d.jsx("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"#f1f5f9"},children:d.jsx(Oc,{className:"spin",size:40,color:"#2563eb"})}):i?d.jsx(sb,{children:d.jsxs("div",{className:"app-container",children:[d.jsxs("aside",{className:"sidebar",children:[d.jsxs("div",{className:"sidebar-header-mobile",children:[d.jsx("div",{className:"logo",children:d.jsx("img",{src:Tx,alt:"SnusStation"})}),d.jsx("button",{className:"mobile-menu-toggle",onClick:()=>l(!r),children:r?d.jsx(Fa,{size:28}):d.jsx(Y1,{size:28})})]}),d.jsxs("div",{className:`sidebar-menu ${r?"open":""}`,children:[d.jsxs("nav",{children:[d.jsx(Sn,{to:"/",icon:D1,label:"Dashboard",onClick:()=>l(!1)}),d.jsx(Sn,{to:"/products",icon:Ls,label:"Produtos",onClick:()=>l(!1)}),d.jsx(Sn,{to:"/pos",icon:ig,label:"Vendas",onClick:()=>l(!1)}),d.jsx(Sn,{to:"/sales",icon:O1,label:"Histrico",onClick:()=>l(!1)}),d.jsx(Sn,{to:"/clients",icon:ug,label:"Clientes",onClick:()=>l(!1)}),d.jsx(Sn,{to:"/analysis",icon:l1,label:"Anlise",onClick:()=>l(!1)}),d.jsx(Sn,{to:"/b2b",icon:n1,label:"B2B",onClick:()=>l(!1)})]}),d.jsxs("button",{onClick:p,className:"logout-btn",children:[d.jsx(B1,{size:20})," Sair"]})]})]}),d.jsx("main",{className:"content",children:d.jsxs(M0,{children:[d.jsx(_a,{path:"/",element:d.jsx(vx,{})}),d.jsx(_a,{path:"/analysis",element:d.jsx(Sx,{})}),d.jsx(_a,{path:"/pos",element:d.jsx(wx,{})}),d.jsx(_a,{path:"/sales",element:d.jsx(xx,{})}),d.jsx(_a,{path:"/b2b",element:d.jsx(jx,{})}),d.jsx(_a,{path:"/products",element:d.jsx(bx,{})}),d.jsx(_a,{path:"/clients",element:d.jsx(_x,{})}),d.jsx(_a,{path:"*",element:d.jsx(U0,{to:"/"})})]})})]})}):d.jsx(yx,{})}Gv.createRoot(document.getElementById("root")).render(d.jsx(E.StrictMode,{children:d.jsx(Ax,{})}));
